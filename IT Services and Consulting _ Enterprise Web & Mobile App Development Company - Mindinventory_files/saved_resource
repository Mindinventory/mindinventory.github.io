!function(t) {
function e(n) {
if (i[n]) return i[n].exports;
var o = i[n] = {
exports: {},
id: n,
loaded: !1
};
t[n].call(o.exports, o, o.exports, e);
o.loaded = !0;
return o.exports;
}
var i = {};
e.c = i;
e.__strings = [ "<hours>:<minutes>", "<hours>:<minutes> am", "<hours>:<minutes> pm", "Sorry, we are unavailable at the moment. Please leave us a message. 24/7 support is available for Enterprise and Premium (Legacy) customers.", "Zendesk Support agent not found", "Zendesk Chat requires cookies to function. Enable cookies?", "Powered by Zendesk Chat", "Please wait for an agent. There are <number> visitor(s) waiting to be served.", "Online", "Away", "Offline", "Complete this field", "Enter a valid email address", "Complete this field", "Select an option", "Select an option", "Check this option to continue", "Select at least one option", "Select a department", "This field is invalid", "Phone number", "Are you sure you want to end this chat?", "Facebook", "Twitter", "Google+", "<name> joined the chat", "<name> left the chat", "<old_name> is now known as <new_name>", "Chat started", "Chat ended", "Comment submitted", "Chat rated Good", "Chat rated Bad", "Chat rating removed", "<name> is typing...", "<name> are typing...", "Agents are typing...", "Type your message here", "Send", "<number> new message", "<number> new messages", "<number> new message", "<number> new messages", "Chat", "Message", "1 new attachment", "Reconnecting", "Click to reconnect", "Reconnecting", "Resuming session", "Loading", "Chat Disabled", "Disabled", "Privacy policy", "Unlink from <name>", "Send Message", "Start Chatting", "Any Department", "Choose a Department", "Close", "Closed", "<start_time> to <end_time>", "File size too large. Maximum total size is limited to <size>.", "The file you are trying to send is not supported.", "File sending is temporary disabled. Please try again later.", "Failed to send. Please try again.", "Failed to save assignee", "Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday", "Weekdays", "Weekends", "Daily", "All day", "Chat With Us", "Leave a Message", "Chat with us", "support", "We're online.", "We're away.", "We're offline.", "Live Support", "Ask us anything", "Hi, welcome to our website!", "Questions?", "Click here to chat with us", "Choose a Department", "Message", "Phone", "Sorry, we aren't online at the moment. Leave a message and we'll get back to you.", "Sorry, we aren't online at the moment.", "Thanks for the message! We'll get back to you as soon as we can.", "Message", "Phone", "Nice chatting with you!", "How would you rate the chat experience you just had?", "Thanks for the good rating! Would you like to leave a comment?", "What did you like about this chat?", "Sorry that we disappointed you. We'd appreciate it if you could tell us how to improve.", "What did you dislike about this chat?", "File size too large. Maximum limit is <size>.", "The file you are trying to send is not supported.", "File sending is temporarily disabled. Please try again later.", "<size> bytes", "<size> KB", "<size> MB", "Failed to send. Please try again.", "Reply", "Dismiss", "Close", "End", "Cancel", "Send Chat Transcript to", "Email", "This isn't a valid email.", "Send", "Cancel", "Email will be sent to @@@@<email>@@@@ when the chat ends", "Minimize", "Send", "Type your message here", "Submit", "Cancel", "Back to Chat", "Back to Chat", "Leave a Comment", "(Optional)", "Send", "Cancel", "How would you rate this chat?", "Chat rated Good", "Chat rated Bad", "Chat rating removed", "Cancel", "Skip", "Connect with", "Use Name and Email", "Edit Contact Details", "Name", "Enter your name", "Email", "Enter your email", "Phone", "Enter your phone", "Save", "Cancel", "Sign out", "Edit", "Sign In", "Hi, <name>", "Hi there!", "Sound", "About", "Cookies", "Send a File", "Email Transcript", "End This Chat", "http://zop.im/prem-offline-form", "Learn more", "Our Operating Hours", "Back", "Send Another", "Choose a Department", "Operating Hours", "Back", "Submit", "Skip", "Introduce yourself", "Hello there!", "Name, Email", "Edit", "Sign out", "Please update your profile", "Name", "Please provide your name", "Email", "Please provide a valid email", "or sign in with", "Phone Number", "Please provide a valid phone", "Name", "Email", "You objected to the use of cookies based on our @cookie policy@. Approve the use of cookies to enable chat functions.", "You may disable the chat anytime.", "Enable Cookies and Chat", "Zendesk Chat requires cookies to function", "If you do not agree with our @cookie policy@, you may disable the chat widget. Past information and cookies will be removed.", "You may re-enable chat anytime.", "Disable Chat", "Cancel", "Zendesk Chat requires cookies to function", "Drop files here", "This widget uses @cookies@.", "Queue position: <number>", "Open in new window", "Minimize", "Reconnecting", "Contact us here", "Offline", "Options", "Sign in", "Hi, <name>", "Hi there!", "Customer support", "Good", "Bad", "Remove", "Good", "Bad", "Remove", "Leave a Comment", "Message not sent", "Resend", "Rate This Chat", 'Uploading "<file_name>"', '"<file_name>" sent.', "You", "You â€” Please update your info", "show original", "show translated", "Open image" ];
e.__languages = {
ar: "__$$__stringtable_lang_ar",
az: "__$$__stringtable_lang_az",
bg: "__$$__stringtable_lang_bg",
ca: "__$$__stringtable_lang_ca",
cs: "__$$__stringtable_lang_cs",
da: "__$$__stringtable_lang_da",
de: "__$$__stringtable_lang_de",
el: "__$$__stringtable_lang_el",
es: "__$$__stringtable_lang_es",
et: "__$$__stringtable_lang_et",
eu: "__$$__stringtable_lang_eu",
fa: "__$$__stringtable_lang_fa",
fi: "__$$__stringtable_lang_fi",
fr: "__$$__stringtable_lang_fr",
fr_CA: "__$$__stringtable_lang_fr_CA",
he: "__$$__stringtable_lang_he",
hi: "__$$__stringtable_lang_hi",
hr: "__$$__stringtable_lang_hr",
hu: "__$$__stringtable_lang_hu",
id: "__$$__stringtable_lang_id",
is: "__$$__stringtable_lang_is",
it: "__$$__stringtable_lang_it",
ja: "__$$__stringtable_lang_ja",
ka: "__$$__stringtable_lang_ka",
ko: "__$$__stringtable_lang_ko",
ku: "__$$__stringtable_lang_ku",
lt: "__$$__stringtable_lang_lt",
lv: "__$$__stringtable_lang_lv",
mk: "__$$__stringtable_lang_mk",
ms: "__$$__stringtable_lang_ms",
nb: "__$$__stringtable_lang_nb",
nl: "__$$__stringtable_lang_nl",
pl: "__$$__stringtable_lang_pl",
pt: "__$$__stringtable_lang_pt",
pt_BR: "__$$__stringtable_lang_pt_BR",
ro: "__$$__stringtable_lang_ro",
ru: "__$$__stringtable_lang_ru",
sk: "__$$__stringtable_lang_sk",
sl: "__$$__stringtable_lang_sl",
sq: "__$$__stringtable_lang_sq",
sr: "__$$__stringtable_lang_sr",
sv: "__$$__stringtable_lang_sv",
th: "__$$__stringtable_lang_th",
tl: "__$$__stringtable_lang_tl",
tr: "__$$__stringtable_lang_tr",
uk: "__$$__stringtable_lang_uk",
ur: "__$$__stringtable_lang_ur",
vi: "__$$__stringtable_lang_vi",
zh_CN: "__$$__stringtable_lang_zh_CN",
zh_TW: "__$$__stringtable_lang_zh_TW"
};
return e(0);
}([ function(t, e, i) {
(function(e, n, o, r, s) {
t.exports = function() {
var t = i || {};
e.strings = t.__strings || [];
e.languages = t.__languages || {};
var a = e.languages;
for (var _ in a) if (a.hasOwnProperty(_)) {
var l = a[_];
o[l] = new n(l);
}
var u = "__$$__stringtable_lang_en";
e.languages.en = u;
o[u] = e.strings;
var d = i(14);
r.runAfterFirstChildReady(function() {
new d(document.body, !1, "", "", []);
});
s(d, "widget");
return d;
}();
}).call(e, i(1), i(2), i(4), i(6), i(3));
}, function(t, e) {
var i = {
build_number: "20180626.042531",
git_commit: "8d366e91625625885b34bd6636b047177aec9e13",
release_tag: "!ERR"
};
t.exports = i;
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t, e) {
var i = a[t];
i.module_function = new Function("$Modules", e.toString().replace(d, "$1"));
i.ready();
}
function o(t) {
var e, i, n, o;
for (e = u.length - 1; e >= 0; e--) {
n = u[e];
o = n.dependencies;
for (i = o.length - 1; i >= 0; i--) if (o[i] == t) {
o.splice(i, 1);
break;
}
n.ready();
}
}
function r() {
var t = Array.prototype.slice.call(arguments), e = t.shift();
this.fqname = e;
this.name = e.split(".").pop();
this.callbacks = [];
this.dependencies = t;
u.push(this);
}
function s(t) {
t();
}
var a = i(4), _ = i(1), l = i(5), u = [], d = /^function *\( *\) *{ *([\s\S]*) *}$/;
r.ensureLoaded = function(t, e) {
t instanceof r ? t.ensureLoaded(e) : e();
};
r.prototype.ensureLoaded = function(t) {
this.ifLoaded(t);
this.load();
};
r.prototype.ifLoaded = function(t) {
this.callbacks.push(t);
};
r.prototype.load = function() {
function t(t) {
n(t[0], t[1]);
}
var e, i, o = this.getDependencies();
for (e = 0; e < o.length; e++) {
i = o[e];
i.loader || (i.loader = new l(_.baseURL + "/lib/" + _.build_number + "/" + i.fqname + ".js", a, t));
}
};
r.prototype.getDependencies = function() {
var t, e = this.dependencies, i = [ this ];
for (t = 0; t < e.length; t++) {
var n = a[e[t]];
i = i.concat(n.getDependencies());
}
return i;
};
r.prototype.ready = function() {
if (!this.dependencies.length && this.module_function) {
for (t = u.length - 1; t >= 0; t--) if (u[t] == this) {
u.splice(t, 1);
break;
}
this.module_function(a);
var t, e = a[this.fqname];
e.ifLoaded = e.ensureLoaded = s;
for (t = 0; t < this.callbacks.length; t++) this.callbacks[t](e);
o(this.fqname);
delete this.callbacks;
delete this.fqname;
delete this.name;
delete this.dependencies;
delete this.loader;
}
};
a.Module = r;
t.exports = r;
e(r, "jx_core_Module");
return r;
}();
}).call(e, i(3));
}, function(t, e) {
function i(t, e) {
if ("function" == typeof t && t.prototype && !t.__jx__no_fqname) {
t.prototype.__jx__fqname_chain = (t.prototype.__jx__fqname_chain || "") + " " + e;
t.prototype.__jx__fqname = e;
}
}
t.exports = i;
}, function(t, e, i) {
var n = i(1), o = {};
o.$Data = n;
t.exports = o;
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t, e, i) {
var n = this;
o.extend(n);
var s = new r();
e = e || {};
s.setScope(e);
s.on("success", i);
s.on("error", function(t) {
n.onError(t);
});
s.load(t);
}
var o = i(6), r = i(12);
n.prototype.onError = function(t) {};
t.exports = n;
e(n, "jx_io_ScriptLoader");
return n;
}();
}).call(e, i(3));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t, e) {
var i = {}, n = {}, o = function(e) {
return !t.nodeType && t != window && t != document || ("FORM" != t.tagName || "submit" != e) && (!c.isCustomEvents && (c.isFF && c.isFF < 9 ? !document.createEvent("event")[e.toUpperCase()] : "undefined" == typeof t["on" + e]));
}, r = function(e, n, r) {
if (!e && "function" != typeof n) throw "bad arguments to on / addEventListener";
if (!(e in i)) {
i[e] = [];
o(e) || s(e);
}
i[e].push(n);
return t;
}, s = function(e) {
if (!(e in n)) {
n[e] = function(n) {
n && (n.stopPropagation || d(n));
var o, r = i[e], s = r.length, a = !0;
r._active = !0;
for (o = 0; o < s; o++) try {
if (!r[o]) continue;
r[o].call(t, c.isCustomEvents && n instanceof c.CustomEvent ? n.detail : n) === !1 && (a = !1);
} catch (t) {
h.fire("error", t);
}
r._active = !1;
if (r._dirty) {
for (o = 0; o < s; o++) if (!r[o]) {
o == s - 1 ? r.pop() : r[o--] = r.pop();
s--;
}
r._dirty = !1;
}
if (a === !1) {
if (n) {
n.preventDefault();
n.returnValue = !1;
}
return !1;
}
};
t.attachEvent ? t.attachEvent("on" + e, n[e]) : t.addEventListener && t.addEventListener(e, n[e], !1);
}
}, a = function(e) {
var o = n[e];
if (o) {
t.attachEvent ? t.detachEvent("on" + e, o) : t.addEventListener && t.removeEventListener(e, o, !1);
delete n[e];
delete i[e];
}
}, _ = function(e, o) {
var r = i[e];
if (r) {
for (var s = 0, _ = r.length; s < _; s++) if (r[s] === o) {
1 == r.length ? n[e] ? a(e) : delete i[e] : r._active ? (r[s] = null, r._dirty = !0) : s == _ - 1 ? r.pop() : r[s] = r.pop();
break;
}
return t;
}
}, l = function() {
if (i && n) {
for (var t in n) n.hasOwnProperty(t) && a(t);
i = n = null;
}
}, u = function(e, n) {
if (!c.isCustomEvents || o(e)) {
var r = i[e], s = !0;
if (r && r.length) {
r._active = !0;
var a, _, l;
for (a = 0, _ = r.length; a < _; a++) try {
if (!r[a]) continue;
l = r[a].call(t, n);
l === !1 && (s = !1);
} catch (t) {
h.fire("error", t);
}
r._active = !1;
if (r._dirty) {
for (a = 0; a < _; a++) if (!r[a]) {
a == _ - 1 ? r.pop() : r[a--] = r.pop();
_--;
}
r._dirty = !1;
}
}
return s;
}
return t.dispatchEvent(new c.CustomEvent(e, {
bubbles: !1,
cancelable: !0,
detail: n
}));
}, d = function(t) {
t.preventDefault = d.preventDefault;
t.stopPropagation = d.stopPropagation;
t.target = t.srcElement;
};
d.preventDefault = function() {
this.returnValue = !1;
};
d.stopPropagation = function() {
this.cancelBubble = !0;
};
var f = {
fire: u,
on: r,
un: _,
unextendEvents: l
};
if (e) return f;
for (var p in f) f.hasOwnProperty(p) && (t[p] = f[p]);
c.bugs.leaksMemory && c.bugs.leaksMemory(function() {
for (var e in f) f.hasOwnProperty(e) && (t[e] = null);
});
return t;
}
function o(t) {
a(0, t);
}
function r(t) {
a(1, t);
}
function s(t) {
a(2, t);
}
function a(t, e) {
t <= f ? e() : p[t].push(e);
}
function _(t) {
for (;f < t; ) {
f++;
for (var e = 0; e < p[f].length; e++) p[f][e]();
p[f] = null;
}
}
function l() {
f > 0 || (document.body && document.body.firstChild ? _(1) : window.setTimeout(l, 200));
}
function u() {
_(2);
}
function d() {
var t;
if (c.isSafari) t = window.setInterval(function() {
if (/loaded|complete/i.test(document.readyState)) {
window.clearInterval(t);
u();
}
}, 20); else if (document.addEventListener) /loaded|complete/i.test(document.readyState) ? u() : document.addEventListener("DOMContentLoaded", u, !1); else if (c.isIE) {
window.attachEvent("onload", u);
var e = document.createElement("document:ready");
t = window.setInterval(function() {
if (/loaded|complete/i.test(document.readyState)) {
e = null;
window.clearInterval(t);
u();
} else {
try {
e.doScroll("left");
} catch (t) {
return;
}
e = null;
window.clearInterval(t);
u();
}
}, 200);
}
}
var c = i(7), h = {
extend: n,
body: n(document.body, !0),
window: n(window, !0),
document: n(document, !0),
runAfterScriptReady: o,
runAfterFirstChildReady: r,
runAfterDomReady: s
};
h.extend(h);
var f = 0, p = [ [], [], [], [] ];
l();
d();
t.exports = h;
e(h, "jx_core_Events");
return h;
}();
}).call(e, i(3));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n() {
function t(t) {
return t.replace(/^http:/, W ? "https:" : "http:");
}
function e() {
if (void 0 !== window.innerHeight) return window.innerHeight;
if (document.documentElement) return document.documentElement.offsetHeight;
var t = document.getElementsByTagName("body");
return t.length ? t[0].clientHeight : 0;
}
function i() {
if (void 0 !== window.innerWidth) return window.innerWidth;
if (document.documentElement) return document.documentElement.offsetWidth;
var t = document.getElementsByTagName("body");
return t.length ? t[0].clientWidth : 0;
}
function n() {
var t, e = d.plugins && d.plugins[U];
if (e) {
t = d.mimeTypes && d.mimeTypes[Y];
return t && !t.enabledPlugin ? null : e.description;
}
if (window.ActiveXObject) try {
e = new window.ActiveXObject(G);
e.AllowScriptAccess = "always";
return e.GetVariable("$version");
} catch (t) {}
}
function s() {
var t = d.mimeTypes;
return f ? !I && ("javaEnabled" in d && d.javaEnabled()) : t && (t = t[X]) && (t = t.enabledPlugin) ? t.name : void 0;
}
function a() {
if (!r(l)) return l;
var t = document.createElement("div"), e = document.createElement("div"), i = t.style, n = e.style;
i.overflow = "auto";
i.width = i.height = "100px";
i.position = "absolute";
i.top = "-1000px";
n.width = "100%";
n.height = "200px";
t.appendChild(e);
document.body.appendChild(t);
l = t.offsetWidth - t.clientWidth;
document.body.removeChild(t);
return l;
}
function _() {
for (var t = 3, e = document.createElement("div"), i = e.getElementsByTagName("i"); e.innerHTML = "<!--[if gt IE " + ++t + "]><i></i><![endif]-->", 
i[0]; ) ;
return t > 4 ? t : document.documentMode;
}
var l, u, d = navigator, c = d.userAgent.toLowerCase(), h = +(/trident.*rv:? *([0-9]+)/.exec(c) || [])[1] || !1, f = _(), p = 8 === f, g = 7 === f, m = 6 === f, $ = !!window.opera && "[object Opera]" === Object.prototype.toString.call(window.opera), b = c.indexOf("edge") > -1, w = "Google Inc." === d.vendor, x = "Apple Computer, Inc." === d.vendor, v = !b && !f && !$ && (w || x || /webkit|khtml/.test(c)), y = +/\d+/.exec(/firefox\/\d+/i.exec(d.userAgent) || ""), j = c.indexOf("iphone") !== -1, C = c.indexOf("ipod") !== -1, S = c.indexOf("ipad") !== -1, A = j || S || C, k = c.indexOf("android") !== -1, I = c.indexOf("wp7") !== -1, N = A || k || I, B = f && "msie" || y && "firefox" || $ && "opera" || w && "chrome" || x && "safari", T = "CSS1Compat" === document.compatMode, D = !T, E = f && D && document.documentElement && !!document.documentElement.style.setExpression, O = document.documentMode || f, P = c.indexOf("windows") !== -1 || c.indexOf("win32") !== -1, L = c.indexOf("macintosh") !== -1 || c.indexOf("mac os x") !== -1, W = "https:" === document.location.protocol, R = d.language || d.browserLanguage || d.userLanguage || d.systemLanguage, F = {
noBoxSizing: O <= 7,
ie: {
cssBottomRight: m,
cssFixed: m || E,
buggyCSS: m || E
}
}, M = "textContent" in document.createElement("div"), V = !1, H = null;
try {
if (window.CustomEvent && /\[native code\]|\[object CustomEventConstructor\]/.test(window.CustomEvent.toString())) {
new window.CustomEvent("testevent", {
bubbles: !1,
cancelable: !0,
detail: !0
});
V = !0;
H = window.CustomEvent;
}
} catch (t) {}
switch (B) {
case "msie":
case "firefox":
case "chrome":
u = +/\d+/.exec(new RegExp(B + "[ /]\\d+").exec(c) || "");
break;

default:
u = +/\d+/.exec(/version[ \/]\d+/.exec(c) || "");
}
if (m) {
var z = [];
F.leaksMemory = function(t) {
o.isFunction(t);
z.push(t);
};
var q = function() {
for (var t = 0; t < z.length; t++) z[t]();
};
F.leaksMemory.remove = function(t) {
for (var e = z.length - 1; e >= 0; e--) t == z[e] && z.splice(e, 1);
};
window.attachEvent("onunload", q);
}
var U = "Shockwave Flash", G = "ShockwaveFlash.ShockwaveFlash", Y = "application/x-shockwave-flash", X = "application/x-java-vm";
return {
browser: B,
version: u,
isStrict: T,
isQuirks: D,
isOpera: $,
isSafari: x,
isWebKit: v,
isChrome: w,
isAndroid: k,
isIPhone: j,
isIPod: C,
isIPad: S,
isIOS: A,
isWP7: I,
isMobile: N,
isNewIE: h,
isEdge: b,
isIE: f,
isIE6: m,
isIE7: g,
isIE8: p,
isFF: y,
isCustomEvents: V,
CustomEvent: H,
engineIE: O,
bugs: F,
isWindows: P,
isMac: L,
isSecure: W,
secureURL: t,
hasFlash: n(),
hasJava: s(),
language: R,
getScrollbarSize: a,
getWindowClientHeight: e,
getWindowClientWidth: i,
isTextContent: M
};
}
var o = (i(8), i(9)), r = (i(10), i(11)), s = n();
t.exports = s;
e(s, "jx_core_Browser");
return s;
}();
}).call(e, i(3));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function i(t) {
"use strict";
if (null == this) throw new TypeError();
var e = Object(this), i = e.length >>> 0;
if (0 === i) return -1;
var n = 0;
if (arguments.length > 0) {
n = Number(arguments[1]);
n != n ? n = 0 : 0 != n && n != 1 / 0 && n != -(1 / 0) && (n = (n > 0 || -1) * Math.floor(Math.abs(n)));
}
if (n >= i) return -1;
for (var o = n >= 0 ? n : Math.max(i - Math.abs(n), 0); o < i; o++) if (o in e && e[o] === t) return o;
return -1;
}
function n(t, e, i) {
return o.call(e, t, i);
}
var o = Array.prototype.indexOf;
"function" == typeof o && /\[native code\]/.test(o.toString()) || (o = i);
t.exports = n;
e(n, "jx_core_globals_indexOf");
return n;
}();
}).call(e, i(3));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t, e) {
t || r.log(e);
}
var o = i(10), r = {
ok: n,
isFunction: function(t, e) {
n(o(t), e);
}
};
r.log = function() {};
t.exports = r;
e(r, "jx_core_Assert");
return r;
}();
}).call(e, i(3));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function i(t) {
return "function" == typeof t;
}
t.exports = i;
e(i, "jx_core_globals_isFunction");
return i;
}();
}).call(e, i(3));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
var i = function(t) {
return function(e, i) {
return i ? null == e : e === t;
};
}();
t.exports = i;
e(i, "jx_core_globals_isUndefined");
return i;
}();
}).call(e, i(3));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t) {
var e, i, n = r.extend(this);
try {
e = new window.ActiveXObject("htmlfile");
e.open();
e.write("<script>document.win = window</script>");
e.close();
i = e.win;
} catch (t) {}
if (!i) {
var o = this.iframe = document.createElement("iframe"), a = o.style;
n.allowTransparency = "true";
n.frameBorder = "0";
a.backgroundColor = "transparent";
a.position = "absolute";
a.width = a.height = "1px";
a.left = a.top = "-9999px";
a.border = 0;
document.body.appendChild(o);
try {
i = o.contentWindow;
e = i.document;
e.open();
e.close();
} catch (t) {
n.fire("error");
n.destroy();
return;
}
}
n.doc = e;
n.win = i;
n.$Loader = {
cleanup: function() {
s(function() {
n.$Loader.payload ? n.fire("success", n.$Loader.payload) : n.fire("error");
n.$Loader.payload = null;
t || n.destroy();
});
}
};
n.reusable = t;
}
function o(t) {
return t && t.replace(a, function(t) {
return "&#" + t.charCodeAt(0) + ";";
});
}
var r = i(6), s = i(13);
n.prototype.setScope = function(t) {
this.scope = t;
};
var a = /[&<>"']/g;
n.prototype.load = function(t) {
var e = /^(?:https?:)?\/\//i;
if (e.test(t)) {
t = o(t);
try {
this.doc.open();
this.win.$Loader = this.$Loader;
this.win.$Loader.scope = this.scope || {};
this.doc.write('<html><head><script src="' + t + '"></script><script>document.addEventListener && document.addEventListener("DOMContentLoaded", function() {try { $Loader.cleanup() } catch(e) {}})</script></head><body></body></html>');
this.doc.close();
} catch (t) {
this.$Loader.cleanup();
}
} else this.$Loader.cleanup();
};
n.prototype.destroy = function() {
try {
this.iframe && document.body.removeChild(this.iframe);
this.doc = this.win = this.iframe = this.win.$Loader = null;
} catch (t) {}
};
t.exports = n;
e(n, "jx_io_DataIFrame");
return n;
}();
}).call(e, i(3));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t, e, i) {
s.ok("function" == typeof t, "1st argument to nextTick must be a function");
if (i) for (var n = l.length; n-- > 0; ) if (l[n][0] === t && l[n][1] === e) return;
l.push([ t, e ]);
r || (r = setTimeout(o, 0));
}
function o() {
var t = +new Date() + _, e = l;
l = [];
r && (r = clearTimeout(r));
for (var i = 0, n = e.length; i < n; i++) {
try {
e[i][0].apply(e[i][1]);
} catch (t) {
a.fire("error", t);
}
if (+new Date() > t) {
if (i < n - 1) {
e.splice(0, i + 1);
if (l.length) l = e.concat(l); else {
l = e;
r = setTimeout(o, 0);
}
}
break;
}
}
}
var r, s = i(9), a = i(6), _ = 100, l = [];
n.tick = o;
t.exports = n;
e(n, "jx_core_globals_nextTick");
return n;
}();
}).call(e, i(3));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t, e, i, $, b) {
if (!(this instanceof n)) return new n(t, e, i, $, b);
if (!(v.isIE <= 10)) if (!k.ACCOUNT_KEY || k.ACCOUNT_KEY.match(/^[\w.]{5,32}$/)) {
D.send = O.send;
D.setRefTime(+new Date());
if (window.$zopim && window.$zopim.t) {
D.start("start_exec", window.$zopim.t);
D.end("start_exec", .25);
}
b || (b = {});
j.assetsURL = k.ASSETS_LEGACY;
j.call(this, t, e, i, $, b);
var w = this;
L.init(b.datanode, b.mockup, O);
if (L.livechat.isAccountError()) R.handleInitError(); else {
D.bindToConnectionStatus(L.root.$("connection").$("status$string"));
Z.init(O);
r = L.root;
s = r.$("connection").$("status$string");
a = r.$("livechat").$("ui");
_ = a.$("mobile$bool");
l = a.$("mobile_whitelist$bool");
h = a.$("mockup$bool");
u = a.$("popout$bool");
d = r.$("livechat").$("settings").$("popout").$("enabled$bool");
c = r.$("livechat").$("settings").$("cached$bool");
f = r.$("livechat").$("gates");
p = r.$("livechat").$("settings").$("chat_window").$("title_bar").$("title$string");
g = r.$("livechat").$("settings").$("chat_window").$("mobile_mode$string");
m = r.$("tmp").$("auth").$("site_jwt$string");
W.setDataNode(a);
if (!_.getValue() || l.getValue() || u.getValue()) {
P.init();
R.init();
new K(t);
if (W.getSiteJWTFunc()) {
W.setOverrideHost(S.getHash("__zopim_auth_server_host"));
W.authenticate(function(t) {
t ? window.console && window.console.log(N.getPrefix() + ": failed to verify token:", t.reason, t.details ? ": " + t.details : "") : o(w, b);
});
} else o(w, b);
}
}
} else {
I.warnBadEmbed();
R.handleInitError();
}
}
function o(t, e) {
function i() {
if (!b && x && ($ || w)) {
if (W.isAuthenticated()) {
g.update("overlay");
d.update(!1);
a.$("visitor").$("auth_status$string").bindValue(function(t) {
if ("failed" === t) {
window.console && window.console.log(N.getPrefix() + ": failed to verify jwt token while reconnecting");
R.hideAll();
}
});
}
n();
D.fromRefTime("init_ui_components" + (w ? "_cached" : "_no_cached"), .25);
var e = u.getValue(), i = h.getValue();
if (e) {
var o = window.document.getElementById("loading");
o && (o.style.display = "none");
t.setVisibility("").setWidth("100%").setHeight("100%").setTop("0").setLeft("0");
t.autobind(p, "value", function(t) {
document.title = t;
});
}
new A(t);
b = !0;
if (!e && !i) try {
t.parentNode.removeChild(t.dom);
} catch (t) {}
}
}
function n() {
!u.getValue() && _.getValue() && "overlay" === r.$("livechat").$("settings").$("chat_window").$("mobile_mode$string").getValue() && I.isStyleSupported("flex-direction") && a.update({
mobile_overlay$bool: !0,
mobile_notifications$bool: !0
});
}
z.init();
F.init();
O.init({
root: L.root,
isCookieDenied: P.isCookieDenied,
overrideProxy: S.getHash("__zopim_widget_proxy"),
source: "widget_v2"
});
X.init(L.root, O);
V.init();
H.init(r);
U.init();
E.init();
M.init();
B.init();
T.init();
q.init();
G.init();
Y.init();
new C(t, null, null, [ ".zopim { display: none !important }" ], {
media: "print"
});
t.dom.className = "zopim";
t.autobind(c, "value", function(t) {
w = t;
i();
});
t.autobind(f, "value", function(t) {
x = !!t;
i();
});
t.autobind(s, "value", function(t) {
$ = "reattached" == t || "cookie_law" == t;
i();
});
if (e.mockup) {
t.setVisible(!0);
t.setPosition("relative");
t.setWidth("auto");
t.setHeight("auto");
}
}
var r, s, a, _, l, u, d, c, h, f, p, g, m, $, b, w, x, v = i(7), y = i(15), j = i(16), C = i(27), S = (i(28), 
i(29)), A = i(30), k = i(43), I = i(51), N = i(111), B = i(356), T = i(357), D = i(63), E = i(87), O = i(62), P = i(203), L = i(41), W = i(52), R = i(358), F = i(110), M = i(371), V = i(278), H = i(372), z = i(113), q = i(373), U = i(374), G = i(377), Y = i(378), X = i(54), K = i(301), Z = i(304);
n.prototype = y(j.prototype);
t.exports = n;
e(n, "widget");
return n;
}();
}).call(e, i(3));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function i() {}
function n(t) {
i.prototype = t;
return new i();
}
t.exports = n;
e(n, "jx_core_globals_clone");
return n;
}();
}).call(e, i(3));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t, e, i, o, r) {
if (!(this instanceof n)) return new n(t, e, i, o, r);
r || (r = {});
r.tagName || (r.tagName = "div");
r.position || (r.position = "absolute");
r.visible || (r.visible = "hidden");
r.margin || (r.margin = "0");
r.padding || (r.padding = "0");
r.border || (r.border = "0");
r.height || (r.height = "0");
r.width || (r.width = "0");
_.call(this, t, e, i, o, r);
}
function o(t, e) {
var i = document.createElement("meta");
i.name = t;
i.content = e;
return i;
}
var r = i(15), s = i(17), a = i(7), _ = i(18);
n.prototype = r(_.prototype);
n.prototype.setDesktop = function(t) {
if (s(t)) {
var e = document.getElementsByTagName("head")[0];
e.appendChild(o("viewport", "user-scalable=no, width=device-width, initial-scale=1, maximum-scale=1"));
if (a.isIOS) {
e.appendChild(o("apple-mobile-web-app-capable", "yes"));
e.appendChild(o("apple-mobile-web-app-status-bar-style", "black-translucent"));
}
}
};
t.exports = n;
e(n, "jx_ui_Application");
return n;
}();
}).call(e, i(3));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function i(t) {
return !!t && "false" != t;
}
t.exports = i;
e(i, "jx_core_globals_parseBoolean");
return i;
}();
}).call(e, i(3));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t, e, i, o, s) {
if (!(this instanceof n)) return new n(t, e, i, o, s);
s || (s = {});
s.tagName || (s.tagName = "div");
r.call(this, t, e, i, o, s);
}
var o = i(15), r = i(19);
n.prototype = o(r.prototype);
t.exports = n;
e(n, "jx_ui_Widget");
return n;
}();
}).call(e, i(3));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t) {
return function(e) {
try {
this.dom.style[t] = e;
} catch (t) {}
return this;
};
}
function o(t) {
return function(e) {
this.dom.setAttribute(t, e);
return this;
};
}
function r(t) {
return u(t) && "%" == t.substr(t.length - 1) ? parseInt(t, 10) + "%" : parseInt(t, 10);
}
function s() {
if (!s.alreadyHacked) {
s.alreadyHacked = 1;
if (l.isStrict) {
document.body.parentNode.style.background = "#fff url(https://) fixed";
document.body.className = document.body.className;
} else if ("fixed" != document.body.currentStyle.backgroundAttachment) {
if ("none" != document.body.currentStyle.backgroundImage) {
var t, e, i = document.createElement("div"), n = i.style, o = document.body.currentStyle, r = !1, a = 0;
n.backgroundAttachment = o.backgroundAttachment;
n.backgroundColor = o.backgroundColor;
n.backgroundImage = o.backgroundImage;
n.backgroundPositionX = o.backgroundPositionX;
n.backgroundPositionY = o.backgroundPositionY;
n.backgroundRepeat = o.backgroundRepeat;
n.position = "absolute";
n.zIndex = -1;
n.top = n.left = 0;
n.width = "100%";
document.body.insertBefore(i, document.body.firstChild);
var _ = function() {
if (!r && a) {
t += document.body.clientWidth - a;
n.width = t + "px";
a = document.body.clientWidth;
}
e || (e = setTimeout(function() {
n.width = 0;
document.body.className = document.body.className;
t = Math.max(document.body.scrollWidth, document.body.clientWidth);
n.width = t + "px";
a = document.body.clientWidth;
r = document.body.scrollWidth > document.body.clientWidth;
e = null;
}, 0));
};
setTimeout(_, 0);
n.setExpression("height", 'document.body.scrollHeight+"px"');
_();
}
document.body.style.backgroundImage = "url(https://)";
document.body.style.backgroundAttachment = "fixed";
}
}
}
function a(t) {
for (;t.defaultPlacement; ) t = t.defaultPlacement;
return t;
}
function _(t, e, i, n, o) {
if (!(this instanceof _)) return new _(t, e, i, n, o);
if (t) {
o || (o = {});
this.jx_id = e = e || d.generateID();
this._top = this._bottom = this._left = this._right = this._width = this._height = NaN;
this._position = null;
this.pos = "";
this.offsetx = 0;
this.offsety = 0;
this._snaps = [ 0, 0, 0, 0 ];
this.useDisplay = !1;
this.doc = this.ownerDocument = t.ownerDocument;
this.parentNode = t;
this.attributes = o;
this.tagName = o.tagName;
this.isNew = !0;
this.dom = this.doc.createElement(this.tagName);
this.dom.jx_wrapper = this;
this.style = this.dom.style;
this.children = [];
this._autobinds = [];
v.call(this);
n && this.addChildren(n);
t.appendChild(t instanceof _ ? this : this.dom);
this.setStyle(i);
this.setAttributes(o);
this.__jx__fqname && this.addClass(this.__jx__fqname);
e && d.set(e, this);
}
}
var l = i(7), u = i(20), d = i(21), c = i(15), h = i(22), f = i(8), p = i(23), g = i(13), m = i(9), $ = i(24), b = i(17), w = i(11), x = i(25).toCamelCase, v = i(26);
l.isIE && document.execCommand("BackgroundImageCache", !1, !0);
var y = "background background-position border border-color border-style border-width color border-top border-right border-bottom border-left clear padding margin margin-top margin-right margin-bottom margin-left display line-height letter-spacing visibility outline overflow overflow-x overflow-y font-family font-size font-weight font-style text-align text-decoration text-transform vertical-align z-index cursor min-height min-width max-height max-width".split(" "), j = "title checked href media name src target dir data-test-id".split(" "), C = l.bugs.ie.cssFixed;
_.prototype = c(v.prototype);
_.prototype.addChildren = function(t) {
var e = t && t.length;
if (t && e) for (var i, n, o = a(this), r = o.ownerDocument, s = 0; s < e; s++) {
i = t[s];
if (h(i)) o.appendChild(i); else {
n = r.createTextNode(i);
o.appendChild(n);
"function" == typeof i.bind && i.bind(n);
}
}
};
_.prototype.appendChild = function(t) {
if (h(t)) return t[0](this, t[1], t[2], t[3], t[4]);
f(t, this.children) == -1 && 3 != t.nodeType && this.children.push(t);
t.parentNode && t.parentNode != this && t.parentNode.removeChild(t.parentNode instanceof _ ? t : t.dom || t);
t.dom && (t.parentNode = this);
this.dom.appendChild(t.dom || t);
return t;
};
_.prototype.removeChild = function(t) {
try {
if (t.dom) {
this.dom.removeChild(t.dom);
t.parentNode = null;
} else this.dom.removeChild(t);
var e = f(t, this.children);
if (e != -1) return this.children.splice(e, 1);
} catch (t) {}
};
_.prototype.insertBefore = function(t, e) {
var i = f(e, this.children);
e && i == -1 && (e = null);
if (t.parentNode) {
var n = f(t, this.children);
if (n != -1) {
this.children.splice(n, 1);
i > n && i--;
} else t.parentNode.removeChild(t);
}
t.dom && (t.parentNode = this);
e ? this.children.splice(i, 0, t) : this.children.push(t);
this.dom.insertBefore(t.dom || t, e ? e.dom || e : null);
};
_.prototype.insertAfter = function(t, e) {
this.insertBefore(t, e && e.getNextSibling());
};
_.prototype.prependTo = function() {};
_.prototype.cloneNode = function(t) {
return this.dom.cloneNode(t);
};
_.prototype.getNextSibling = function() {
return this.dom.nextSibling && this.dom.nextSibling.jx_wrapper;
};
_.prototype.getPreviousSibling = function() {
return this.dom.previousSibling && this.dom.previousSibling.jx_wrapper;
};
_.prototype.getFirstChild = function() {
return this.dom.firstChild && this.dom.firstChild.jx_wrapper;
};
_.prototype.getLastChild = function() {
return this.dom.lastChild && this.dom.lastChild.jx_wrapper;
};
var S = l.isTextContent;
_.prototype.getText = function() {
return this.dom.textContent || this.dom.innerText || "";
};
_.prototype.setText = function(t) {
if (this.dom) {
p && p.unbind && p.unbind(this.dom);
t && "function" == typeof t.bind && t.bind(this.dom);
S ? this.dom.textContent = t : this.dom.innerText = t;
return this;
}
};
_.prototype.getHTML = function() {
return this.dom.innerHTML;
};
_.prototype.setHTML = function(t) {
this.dom.innerHTML = t;
return this;
};
_.prototype.destroy = function() {
if (this._destructors) for (var t = this._destructors, e = t.length, i = 0; i < e; i++) t[i].call(this);
this._autobinds && this.autounbind();
this.dom.jx_wrapper = null;
"function" == typeof this.empty && this.empty();
this.parentNode && this.parentNode.removeChild(this.parentNode instanceof _ ? this : this.dom);
this.parentNode = null;
d.unset(this);
};
_.prototype.empty = function() {
for (var t; this.children.length; ) {
t = this.children.pop();
"function" == typeof t.destroy ? t.destroy() : 1 == t.nodeType && d.proto.destroy.call(t);
}
};
_.prototype.onDestruction = function(t) {
(this._destructors || (this._destructors = [])).push(t);
};
_.prototype.getClassName = _.prototype.getClass = function() {
return this.dom.className;
};
_.prototype.setClassName = _.prototype.setClass = function(t, e) {
this.dom.className = (e ? t : this.__jx__fqname + " " + t) + (this._pseudo ? " " + this._pseudo : "");
return this;
};
_.prototype.setAddClass = _.prototype.addClass = function(t) {
if (!t) return this;
this.dom.className ? this.hasClass(t) || (this.dom.className += " " + t) : this.dom.className = t;
return this;
};
_.prototype.removeClass = function(t) {
if (!t || !this.dom.className || !this.hasClass(t)) return this;
this.dom.className = (" " + this.dom.className + " ").replace(" " + t + " ", " ").slice(1, -1);
return this;
};
_.prototype.hasClass = function(t) {
return !!t && !!this.dom.className && (" " + this.dom.className + " ").indexOf(" " + t + " ") != -1;
};
_.prototype.autobind = function(t, e, i) {
if (this._autobinds) {
this._autobinds.push([ t, e, i ]);
t.on(e, i);
}
};
_.prototype.autounbind = function(t, e, i) {
if (this._autobinds) {
var n, o, r = this._autobinds;
if (t && e && i) for (n = r.length - 1; n >= 0; n--) {
o = r[n];
if (o[0] == t && o[1] == e && o[2] == i) {
r.splice(n, 1);
o[0].un(o[1], o[2]);
return;
}
} else if (t || e || i) ; else {
if (!r) return;
for (n = r.length - 1; n >= 0; n--) {
o = r[n];
o[0].un(o[1], o[2]);
}
delete this._autobinds;
}
}
};
_.prototype.getAttribute = function(t) {
return this.dom.getAttribute(t) || this.dom[t];
};
_.prototype.setAttribute = function(t, e) {
this.dom.setAttribute(t, e);
return this;
};
_.prototype.removeAttribute = function(t) {
this.dom.removeAttribute(t);
return this;
};
_.prototype.setAttributes = function(t) {
var e, i;
for (i in t) if (t.hasOwnProperty(i)) {
e = x("set-" + i);
"function" == typeof this[e] && this[e](t[i]);
}
return this;
};
_.prototype.getStyle = function(t) {
return this.dom.style[x(t)];
};
_.prototype.getComputedStyle = function(t) {
t = t && x(t);
var e;
if (window.getComputedStyle) e = window.getComputedStyle(this.dom, null); else {
if (!this.dom.currentStyle) return;
e = this.dom.currentStyle;
}
return t ? e[t] : e;
};
_.prototype.setStyle = function(t) {
var e, i;
if (1 == arguments.length && u(t)) {
if (!t) return this;
t = t.split(";");
for (e = 0; e < t.length; e++) if (!t[e].match(/^\s*$/)) {
i = t[e].match(/\s*([^:]+):\s*(.*?)\s*$/);
!i && t[e].length || this.setOneStyle(i[1], i[2]);
}
} else if (1 == arguments.length && "object" == typeof t) for (var n in t) t.hasOwnProperty(n) && this.setOneStyle(n, t[n]); else if (arguments.length > 1) for (e = 0; e < arguments.length; e += 2) this.setOneStyle(arguments[e], arguments[e + 1]);
return this;
};
_.prototype.setOneStyle = function(t, e) {
var i = x("set-" + t);
"function" == typeof this[i] ? this[i](e) : this.setCSSStyle(t, e);
return this;
};
_.prototype.setCSSStyle = function(t, e) {
try {
this.dom.style[x(t)] = e;
} catch (t) {}
return this;
};
_.prototype.getScrollWidth = function() {
return this.dom.scrollWidth;
};
_.prototype.getScrollHeight = function() {
return this.dom.scrollHeight;
};
_.prototype.getClientWidth = function() {
return this.dom.clientWidth;
};
_.prototype.getClientHeight = function() {
return this.dom.clientHeight;
};
_.prototype.getTop = function() {
return this.dom.offsetTop;
};
_.prototype.getLeft = function() {
return this.dom.offsetLeft;
};
_.prototype.getWidth = function() {
return this.dom.offsetWidth;
};
_.prototype.getHeight = function() {
return this.dom.offsetHeight;
};
_.prototype.setTop = function(t) {
this._top = r(t);
this.solveConstraints();
return this;
};
_.prototype.setLeft = function(t) {
this._left = r(t);
this.solveConstraints();
return this;
};
_.prototype.setBottom = function(t) {
this._bottom = r(t);
this.solveConstraints();
return this;
};
_.prototype.setRight = function(t) {
this._right = r(t);
this.solveConstraints();
return this;
};
_.prototype.setWidth = function(t) {
this._width = r(t);
this.solveConstraints();
return this;
};
_.prototype.setHeight = function(t) {
this._height = r(t);
this.solveConstraints();
return this;
};
_.prototype.getScrollLeft = function() {
return this.dom.scrollLeft;
};
_.prototype.setScrollLeft = function(t) {
this.dom.scrollLeft = t;
return this;
};
_.prototype.getScrollTop = function() {
return this.dom.scrollTop;
};
_.prototype.setScrollTop = function(t) {
this.dom.scrollTop = t;
return this;
};
_.prototype.setFloat = function(t) {
function e() {
var e = p && p.flip ? p.flip(t) : t;
l.isIE ? i.dom.style.styleFloat = e : i.dom.style.cssFloat = e;
}
var i = this;
if (p && p.onLanguage && !this._onLanguageFloat) {
p.onLanguage && p.onLanguage(e);
this.onDestruction(function() {
p.unLanguage && p.unLanguage(e);
});
this._onLanguageFloat = !0;
}
e();
return this;
};
_.prototype.solveConstraints = function() {
isNaN(this._top) || isNaN(this._height) || (this._bottom = NaN);
isNaN(this._left) || isNaN(this._width) || (this._right = NaN);
this._width < 0 && (this._width = 0);
this._height < 0 && (this._height = 0);
this.applyConstraints();
};
_.prototype.applyConstraints = function() {
function t() {
i.top = u(n._top) ? n._top : isNaN(n._top) ? "" : n._top + "px";
i.bottom = u(n._bottom) ? n._bottom : isNaN(n._bottom) ? "" : n._bottom + "px";
if (n._height != n.__height) {
i.height = u(n._height) ? n._height : isNaN(n._height) ? "" : n._height + "px";
n.__height = n._height;
}
}
function e() {
i.left = u(n._left) ? n._left : isNaN(n._left) ? "" : n._left + "px";
i.right = u(n._right) ? n._right : isNaN(n._right) ? "" : n._right + "px";
if (n._width != n.__width) {
i.width = u(n._width) ? n._width : isNaN(n._width) ? "" : n._width + "px";
n.__width = n._width;
}
}
var i = this.dom.style, n = this;
if (d.hasParentNode(this.dom)) if (l.bugs.ie.cssFixed && "fixed" == this._position) g(function() {
n.dom && n.hackFixed();
}); else {
if (l.bugs.ie.cssBottomRight && (!isNaN(this._left) && !isNaN(this._right) || !isNaN(this._top) && !isNaN(this._bottom))) {
this.appendToParent && this.appendToParent(!0);
s();
var o, r, a = isNaN(this._left) ? "" : this._left, _ = isNaN(this._right) ? "" : this._right, c = isNaN(this._width) ? "" : this._width, h = isNaN(this._top) ? "" : this._top, f = isNaN(this._bottom) ? "" : this._bottom, p = isNaN(this._height) ? "" : this._height, m = "BackCompat" == this.dom.ownerDocument.compatMode;
if ("fixed" == this._position && this.dom.ownerDocument == document) if (m) {
r = "document.body.clientHeight";
o = "document.body.clientWidth";
} else {
r = "document.documentElement.clientHeight";
o = "document.documentElement.clientWidth";
} else {
r = "this.offsetParent.clientHeight";
o = "this.offsetParent.clientWidth";
}
if (l.isIE6) {
if (!isNaN(this._left) && !isNaN(this._right)) {
_ = "";
c = [ o, this._left, this._right ].join("-");
}
if (!isNaN(this._top) && !isNaN(this._bottom)) {
f = "";
p = [ r, this._top, this._bottom ].join(" - ");
}
}
var $ = function(t, e) {
i[t] = "";
i.removeExpression(t);
"number" == typeof e ? i[t] = e + "px" : u(e) && "%" == e.substr(e.length - 1) ? i[t] = e : u(e) && e.length && i.setExpression(t, e);
};
$("left", a);
$("right", _);
$("width", c);
$("top", h);
$("bottom", f);
$("height", p);
}
e();
t();
}
};
_.prototype.hackFixed = function() {
var t = this.dom.style;
s();
this.appendToParent && this.appendToParent(!0);
this._bottom < 0 && (this._bottom = 0);
this._right < 0 && (this._right = 0);
m.ok(isNaN(this._left) != isNaN(this._right), "One and only one of left/right must be set");
m.ok(isNaN(this._top) != isNaN(this._bottom), "One and only one of top/bottom must be set");
m.ok(!isNaN(this._width), "Width must be set");
m.ok(!isNaN(this._height), "Height must be set");
m.ok(this.ownerDocument == document, "Fixed element must be top level element");
if (this._height != this.__height) {
t.height = this._height + "px";
this.__height = this._height;
}
if (this._width != this.__width) {
t.width = this._width + "px";
this.__width = this._width;
}
var e, i, n, o, r = this.getHeight(), a = this.getWidth();
if (l.isQuirks) {
o = "document.body.clientHeight";
n = "document.body.clientWidth";
e = "(dummye34cf6=document.body.scrollLeft)+";
i = "(dummye34cf6=document.body.scrollTop )+";
} else {
o = "document.documentElement.clientHeight";
n = "document.documentElement.clientWidth";
e = "(dummye34cf6=document.documentElement.scrollLeft)+";
i = "(dummye34cf6=document.documentElement.scrollTop )+";
}
e += isNaN(this._left) ? u(this._left) ? parseInt(this._left, 10) / 100 * (l.isQuirks ? document.body : document.documentElement).clientWidth : n + "-" + (a + this._right) : this._left;
i += isNaN(this._top) ? u(this._top) ? parseInt(this._top, 10) / 100 * (l.isQuirks ? document.body : document.documentElement).clientHeight : o + "-" + (r + this._bottom) : this._top;
l.isIE6 && "rtl" == document.body.currentStyle.direction && (e += l.isQuirks ? "-(document.body.scrollWidth-document.body.clientWidth)" : "-(document.documentElement.scrollWidth-document.documentElement.clientWidth)");
t.setExpression("left", e + '+"px"');
t.setExpression("top", i + '+"px"');
};
_.prototype.dock = function(t, e, i) {
this.pos = t;
$(e) && (this.offsetx = e);
$(i) && (this.offsety = i);
this.doDock();
this.on("jx:resize", this.doDock);
};
_.prototype.doDock = function() {
var t, e, i, n, o, r, s, a = isNaN(this._width) ? this.dom.offsetWidth : this._width, _ = isNaN(this._height) ? this.dom.offsetHeight : this._height;
t = e = i = n = NaN;
o = r = s = 0;
switch (this.pos.charAt(0)) {
case "t":
t = 0;
break;

case "m":
t = "50%";
break;

case "b":
e = 0;
}
switch (this.pos.charAt(1)) {
case "l":
i = 0;
break;

case "c":
i = "50%";
break;

case "r":
n = 0;
}
"50%" == t && (o = -(_ / 2));
"50%" == i && (r = -(a / 2));
this.offsety >= 0 || !isNaN(t) || "string" == typeof t ? o += this.offsety : s = -this.offsety;
r += this.offsetx;
this.setMargin([ o + "px", 0, s + "px", r + "px" ].join(" ")).setTop(t).setBottom(e).setLeft(i).setRight(n);
};
_.prototype.setBounds = function(t) {
if (!h(t)) {
t = t.split(" ");
t[0] = parseInt(t[0], 10);
t[1] = parseInt(t[1], 10);
t[2] = parseInt(t[2], 10);
t[3] = parseInt(t[3], 10);
}
if (C) {
t[1] = Math.max(0, t[1]);
t[2] = Math.max(0, t[2]);
}
this._bounds = t;
return this;
};
_.prototype.setSnaps = function(t) {
if (!h(t)) {
t = t.split(" ");
t[0] = parseInt(t[0], 10);
t[1] = parseInt(t[1], 10);
t[2] = parseInt(t[2], 10);
t[3] = parseInt(t[3], 10);
}
this._snaps = [ Math.max(0, t[0]), Math.max(0, t[1]), Math.max(0, t[2]), Math.max(0, t[3]) ];
return this;
};
_.prototype.applyBounds = function() {
if (this._bounds) {
this._left < this._bounds[3] + this._snaps[3] && (this._left = this._bounds[3]);
this._right < this._bounds[1] + this._snaps[1] && (this._right = this._bounds[1]);
this._top < this._bounds[0] + this._snaps[0] && (this._top = this._bounds[0]);
this._bottom < this._bounds[2] + this._snaps[2] && (this._bottom = this._bounds[2]);
var t = l.isQuirks ? document.body : document.documentElement, e = isNaN(this._width) ? this.dom.offsetWidth : this._width, i = t.clientWidth - e, n = t.clientHeight - this.dom.offsetHeight;
i - this._left <= this._bounds[1] + this._snaps[1] && (this._left = i - this._bounds[1]);
i - this._right <= this._bounds[3] + this._snaps[3] && (this._right = i - this._bounds[3]);
n - this._top <= this._bounds[2] + this._snaps[2] && (this._top = n - this._bounds[2]);
n - this._bottom <= this._bounds[0] + this._snaps[0] && (this._bottom = n - this._bounds[0]);
}
};
_.prototype.moveTo = function(t, e) {
this._bottom = this._right = NaN;
this._top = e;
this._left = t;
this.applyBounds();
this.applyConstraints();
return this;
};
_.prototype.move = function(t, e) {
isNaN(this._left) && isNaN(this._right) && (this._left = 0);
isNaN(this._top) && isNaN(this._bottom) && (this._top = 0);
isNaN(this._left) || (this._left += t);
isNaN(this._right) || (this._right -= t);
isNaN(this._top) || (this._top += e);
isNaN(this._bottom) || (this._bottom -= e);
this.applyBounds();
this.applyConstraints();
};
_.prototype.resizeBy = function(t, e, i, n) {
if (t) {
isNaN(this._width) && (this._width = this.dom.offsetWidth);
this._width = Math.max(i || 0, this._width + t);
}
if (e) {
isNaN(this._height) && (this._height = this.dom.offsetHeight);
this._height = Math.max(n || 0, this._height + e);
}
this.applyBounds();
this.applyConstraints();
this.fire("jx:resize");
return this;
};
_.prototype.setVisible = function(t) {
"none" != t && "block" != t || (this.useDisplay = !0);
"none" != t && "hidden" != t && "false" != t && t ? this.show() : this.hide();
return this;
};
_.prototype.isVisible = function() {
var t = this.dom.style;
return this.useDisplay ? "none" != t.display : "visible" == t.visibility;
};
_.prototype.show = function() {
var t = this.dom.style;
if (this.useDisplay) {
if (t.display != (this._initialDisplay || "block")) {
t.display = this._initialDisplay || "block";
this.fire("show");
}
} else if ("visible" != t.visibility) {
t.visibility = "visible";
this.fire("show");
}
return this;
};
_.prototype.hide = function() {
var t = this.dom.style;
if (this.useDisplay) {
if ("none" != t.display) {
this._initialDisplay = "none" != t.display && t.display;
t.display = "none";
this.fire("hide");
}
} else if ("hidden" != t.visibility) {
t.visibility = "hidden";
this.fire("hide");
}
return this;
};
_.prototype.toggle = function() {
return this.isVisible() ? this.hide() : this.show();
};
_.prototype.getXY = function() {
var t, e, i = this.dom.offsetParent;
t = this.dom.offsetLeft;
e = this.dom.offsetTop;
for (;i; ) {
t += i.offsetLeft;
e += i.offsetTop;
i = i.offsetParent;
}
return [ t, e ];
};
_.prototype.getFixedXY = function() {
var t, e, i = this.dom, n = this.dom.ownerDocument, o = n.documentElement, r = n.defaultView || i.parentWindow || !1, s = {
top: 0,
left: 0
}, a = o.clientTop || 0, _ = o.clientLeft || 0, l = r.pageYOffset || o.scrollTop, u = r.pageXOffset || o.scrollLeft;
"getBoundingClientRect" in i && (s = i.getBoundingClientRect());
e = s.top + l - a;
t = s.left + u - _;
return [ t, e ];
};
_.prototype.setOpacity = function(t) {
t = Math.max(Math.min(t, 1), 0);
l.isIE < 9 ? this.dom.style.filter = (this.dom.style.filter || "").replace(/progid:DXImageTransform.Microsoft.Alpha\([^\)]*\),? ?/gi, "") + (t >= 1 ? "" : "progid:DXImageTransform.Microsoft.Alpha(opacity=" + 100 * t + "), ") : this.dom.style.opacity = t;
return this;
};
_.prototype.setPosition = function(t) {
switch (t) {
case "static":
case "relative":
case "absolute":
case "fixed":
this._position = t;
}
null !== this._position && this.setCSSStyle("position", C && "fixed" == this._position ? "absolute" : this._position);
return this;
};
_.prototype.setBackgroundImage = function(t) {
this.dom.style.backgroundImage = 'url("' + t + '")';
return this;
};
_.prototype.setRotation = function(t) {
if (l.isFF) this.dom.style.MozTransform = t ? "rotate(" + t + "deg)" : ""; else if (l.isSafari) this.dom.style.WebkitTransform = t ? "rotate(" + t + "deg)" : ""; else if (l.isIE) {
this.dom.style.filter = t ? "progid:DXImageTransform.Microsoft.BasicImage(rotation=" + Math.round(t / 90) + ")" : "";
if (l.isIE8 && t) {
var e = this.parentNode.getElementsByTagName("iframe");
if (l.isIE8 && e.length) {
e[0].style.filter = t ? "progid:DXImageTransform.Microsoft.BasicImage(rotation=" + Math.round(t / 90) + ")" : "";
this.dom.style.overflow = "visible";
}
}
}
return this;
};
_.prototype.appendToParent = function(t) {
d.hasParentNode(this.dom) || this.parentNode.appendChild(this.parentNode instanceof _ ? this : this.dom);
this.parentNode != document.body || "absolute" != this.style.position && "fixed" != this.style.position || this.parentNode.insertBefore(this.dom, this.parentNode.firstChild);
if (t && !this.inDOM) {
this.parentNode.appendToParent && this.parentNode.appendToParent(t);
this.inDOM = !0;
}
};
_.prototype.focus = function() {
try {
this.dom.focus();
} catch (t) {}
return this;
};
_.prototype.blur = function() {
try {
this.dom.blur();
} catch (t) {}
return this;
};
_.prototype.click = function() {
this.dom.click && this.dom.click();
return this;
};
_.prototype.validate = function(t) {
for (var e = !0, i = 0, n = this.children.length; i < n; i++) {
var o = this.children[i];
o instanceof _ && "function" == typeof o.validate && (o.validate(!!t && e) || (e = !1));
}
return e;
};
_.prototype.getSelectable = function() {
return this.selectable;
};
_.prototype.setSelectable = function(t) {
function e() {
return !1;
}
if (b(t)) {
this.selectable = !0;
this.setStyle("user-select", "text");
l.isFF && this.setStyle("-moz-user-select", "text");
l.isWebKit && this.setStyle("-webkit-user-select", "text");
l.isIE > 9 && this.setStyle("-ms-user-select", "text");
(l.isIE < 10 || l.isOpera) && this.un("selectstart", e);
} else {
this.selectable = !1;
this.setStyle("user-select", "none");
l.isFF && this.setStyle("-moz-user-select", "none");
l.isWebKit && this.setStyle("-webkit-user-select", "none");
l.isIE > 9 && this.setStyle("-ms-user-select", "none");
(l.isIE < 10 || l.isOpera) && this.on("selectstart", e);
}
return this;
};
_.prototype.getDisabled = function() {
return this.dom.disabled;
};
_.prototype.setDisabled = function(t) {
t = b(t);
for (var e = 0, i = this.children.length; e < i; e++) this.children[e] instanceof _ && this.children[e].setDisabled(t);
this[t ? "addClass" : "removeClass"]("disabled");
this.dom.disabled = t;
return this;
};
_.prototype.getReadOnly = function() {
return this.dom.readOnly;
};
_.prototype.setReadOnly = function(t) {
t = b(t);
for (var e = 0, i = this.children.length; e < i; e++) this.children[e] instanceof _ && this.children[e].setReadOnly(t);
this.dom.readOnly = t;
return this;
};
_.prototype.getValue = function() {
return this.dom.value;
};
_.prototype.setValue = function(t) {
this.dom.value = w(t, "allowNull") ? "" : t;
return this;
};
_.prototype.getType = function() {
return this.getAttribute("type");
};
_.prototype.setType = function(t) {
try {
this.dom.setAttribute("type", t);
} catch (t) {}
return this;
};
_.prototype.getName = function() {
return this.getAttribute("name");
};
_.prototype.setName = function(t) {
return this.setAttribute("name", t);
};
_.prototype.getTabIndex = _.prototype.getTabindex = function() {
try {
return this.dom.tabIndex;
} catch (t) {}
};
_.prototype.setTabIndex = _.prototype.setTabindex = function(t) {
try {
this.dom.tabIndex = t;
} catch (t) {}
return this;
};
_.prototype.setPlacement = function(t) {
if (t && this.parentNode && this.parentNode instanceof _) {
var e = this.parentNode.getContainer(t);
if (e) {
if (!b(this.attributes.discardPlacement)) {
e.appendChild(e instanceof _ ? this : this.dom);
return this;
}
for (;this.children.length; ) e.appendChild(this.children[0]);
this.destroy();
}
}
};
_.prototype.setContainer = function(t) {
this.attributes.container = t;
return this;
};
_.prototype.getContainer = function(t) {
if (t) {
if (this.attributes.container == t) return this;
for (var e, i = this.children.length, n = 0; n < i; n++) if ("function" == typeof this.children[n].getContainer) {
e = this.children[n].getContainer(t);
if (e) return e;
}
}
};
_.prototype.getPseudo = function() {
return this._pseudo;
};
_.prototype.setPseudo = function(t) {
this._pseudo && this.removeClass(t);
this._pseudo = t;
this._pseudo && this.addClass(t);
return this;
};
_.prototype.setUseDisplay = function(t) {
this.useDisplay = b(t);
return this;
};
_.prototype.getElement = function(t) {
return d.get(this.jx_id + "__" + t);
};
_.prototype.setLabel = function(t) {
this.label = t;
return this;
};
_.prototype.getLabel = function() {
return this.label || "";
};
for (var A = 0; A < y.length; A++) _.prototype[x("set-" + y[A])] = n(x(y[A]));
for (A = 0; A < j.length; A++) _.prototype[x("set-" + j[A])] = o(j[A]);
_.__jx__no_fqname = !0;
t.exports = _;
e(_, "jx_ui_HTMLElement");
return _;
}();
}).call(e, i(3));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function i(t) {
return "string" == typeof t;
}
t.exports = i;
e(i, "jx_core_globals_isString");
return i;
}();
}).call(e, i(3));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t, e, i) {
try {
t.style[B(e)] = i;
} catch (t) {}
}
function o() {}
function r() {}
function s() {
return "___$_" + E++;
}
function a(t, e) {
var i = e.getAttribute(O);
i = i ? i.split(" ") : [];
t || (t = s());
P[t] = e;
i.push(t);
e.setAttribute(O, i.join(" "));
}
function _(t) {
var e = t.getAttribute(O);
if (e) {
e = e.split(" ");
for (var i = 0; i < e.length; i++) delete P[e[i]];
}
}
function l(t) {
return P[t];
}
function u(t, e) {
for (var i, n = 0; n < e.length; n++) {
i = e[n];
if ("string" != typeof i) {
i[1] && (i[1] = t + "__" + i[1]);
i[3] && u(t, i[3]);
}
}
return e;
}
function d(t) {
var e = function(i, n, o, r, a) {
n = n || s();
var _ = i.ownerDocument, l = T.create(_, t, n);
l.__jx__constructor = e;
l.__jx__native = !0;
var u = !1;
l.appendToParent = function(t) {
T.hasParentNode(l) || T.appendChild(i, l);
if (t && !u) {
i.appendToParent && i.appendToParent(!0);
u = !0;
}
};
l.setStyle(o);
l.setAttributes(a);
T.addChildren(l, r);
l.appendToParent();
return l;
};
return e;
}
function c(t) {
for (;t.defaultPlacement; ) t = t.defaultPlacement;
return t;
}
function h(t) {
return t.createElement ? t : c(t).ownerDocument;
}
function f(t, e, i, n) {
var r = h(t).createElement(e);
y.isSafari && "textarea" == e.toLowerCase() && (r.style.resize = "none");
switch (e.toLowerCase()) {
case "textarea":
case "input":
r.style.outlineStyle = "none";
}
o(r);
a(i, r);
w(r);
j.extend(r);
r.setStyle(n);
y.buggyCSS && r.setOverflow("auto");
return r;
}
function p(t) {
return t.parentNode && t.parentNode.nodeType && 11 != t.parentNode.nodeType;
}
function g(t, e) {
if (t != document.body || "absolute" != e.style.position && "fixed" != e.style.position) {
for (var i = t; i.defaultPlacement; ) i = i.defaultPlacement;
i.appendChild(e);
e.applyConstraints();
} else {
t.insertBefore(e, t.firstChild);
e.applyConstraints();
}
}
function m(t, e) {
if (e && e.length) {
t = c(t);
for (var i, n, o, r = t.ownerDocument, s = 0; s < e.length; s++) {
n = e[s];
if (C(n)) i = n[0](t, n[1], n[2], n[3], n[4]); else {
o = r.createTextNode(n);
t.appendChild(o);
"function" == typeof n.bind && n.bind(o);
}
}
return i;
}
}
function $(t) {
var e = t.ownerDocument;
return e.defaultView && e.defaultView.getComputedStyle ? e.defaultView.getComputedStyle(t, null) || {} : t.currentStyle ? t.currentStyle : {};
}
function b(t, e) {
return $(t)[e];
}
function w(t, e) {
function i(e) {
var i;
for (var n in e) if (e.hasOwnProperty(n)) {
i = "set" + n.substr(0, 1).toUpperCase() + n.substr(1);
"function" == typeof t[i] && t[i](e[n]);
}
}
function n() {
return t.textContent || t.innerText || "";
}
function o(e) {
S && S.unbind && S.unbind(t);
e && "function" == typeof e.bind && e.bind(t);
L ? t.textContent = e : t.innerText = e;
}
function r(e) {
function i(e, i) {
var n = B("set-" + e);
"function" == typeof t[n] ? t[n](i) : D(t, e, i);
}
var n, o;
if (1 == arguments.length && A(e)) {
if (!e) return;
e = e.split(";");
for (n = 0; n < e.length; n++) if (!e[n].match(/^\s*$/)) {
o = e[n].match(/\s*([^:]+):\s*(.*?)\s*$/);
!o && e[n].length || i(o[1], o[2]);
}
} else if (1 == arguments.length && "object" == typeof e) for (var r in e) e.hasOwnProperty(r) && i(r, e[r]); else if (arguments.length > 1) for (n = 0; n < arguments.length; n += 2) i(arguments[n], arguments[n + 1]);
}
function s(e) {
function i() {
var t = S && S.flip ? S.flip(e) : e;
y.isIE ? ot.styleFloat = t : ot.cssFloat = t;
}
S && S.onLanguage && S.onLanguage(i);
i();
return t;
}
function a(e) {
X = h(e);
p();
return t;
}
function _(e) {
Z = h(e);
p();
return t;
}
function l(e) {
K = h(e);
p();
return t;
}
function u(e) {
Q = h(e);
p();
return t;
}
function d(e) {
J = h(e);
p();
return t;
}
function c(e) {
tt = h(e);
p();
return t;
}
function h(t) {
return A(t) && "%" == t.substr(t.length - 1) ? parseInt(t, 10) + "%" : parseInt(t, 10);
}
function f(e) {
switch (e) {
case "static":
case "relative":
case "absolute":
case "fixed":
et = e;
}
null !== et && D(t, "position", _t && "fixed" == et ? "absolute" : et);
return t;
}
function p() {
isNaN(X) || isNaN(tt) || (K = NaN);
isNaN(Z) || isNaN(J) || (Q = NaN);
J < 0 && (J = 0);
tt < 0 && (tt = 0);
g();
}
function g() {
T.hasParentNode(t) && (y.bugs.ie.cssFixed && "fixed" == et ? k(m, t, !0) : !y.bugs.ie.cssBottomRight || (isNaN(Z) || isNaN(Q)) && (isNaN(X) || isNaN(K)) ? j() : v());
}
function m() {
x();
t.appendToParent && t.appendToParent(!0);
K < 0 && (K = 0);
Q < 0 && (Q = 0);
I.ok(isNaN(Z) != isNaN(Q), "One and only one of left/right must be set");
I.ok(isNaN(X) != isNaN(K), "One and only one of top/bottom must be set");
I.ok(!isNaN(J), "Width must be set");
I.ok(!isNaN(tt), "Height must be set");
I.ok(t.ownerDocument == document, "Fixed element must be top level element");
if (tt != nt) {
ot.height = tt + "px";
nt = tt;
}
if (J != it) {
ot.width = J + "px";
it = J;
}
var e, i, n, o;
if (y.isQuirks) {
o = "document.body.clientHeight";
n = "document.body.clientWidth";
e = "(dummye34cf6=document.body.scrollLeft)+";
i = "(dummye34cf6=document.body.scrollTop )+";
} else {
o = "document.documentElement.clientHeight";
n = "document.documentElement.clientWidth";
e = "(dummye34cf6=document.documentElement.scrollLeft)+";
i = "(dummye34cf6=document.documentElement.scrollTop )+";
}
e += isNaN(Z) ? A(Z) ? parseInt(Z, 10) / 100 * (y.isQuirks ? document.body : document.documentElement).clientWidth : n + "-" + (J + Q) : Z;
i += isNaN(X) ? A(X) ? parseInt(X, 10) / 100 * (y.isQuirks ? document.body : document.documentElement).clientHeight : o + "-" + (tt + K) : X;
y.isIE6 && "rtl" == document.body.currentStyle.direction && (e += y.isQuirks ? "-(document.body.scrollWidth-document.body.clientWidth)" : "-(document.documentElement.scrollWidth-document.documentElement.clientWidth)");
ot.setExpression("left", e + '+"px"');
ot.setExpression("top", i + '+"px"');
}
function x() {
if (!x.alreadyHacked) {
x.alreadyHacked = 1;
if (y.isStrict) document.body.parentNode.style.background = "#fff url(https://) fixed"; else if ("fixed" != document.body.currentStyle.backgroundAttachment) {
if ("none" != document.body.currentStyle.backgroundImage) {
var t = document.createElement("div"), e = t.style, i = document.body.currentStyle;
e.backgroundAttachment = i.backgroundAttachment;
e.backgroundColor = i.backgroundColor;
e.backgroundImage = i.backgroundImage;
e.backgroundPositionX = i.backgroundPositionX;
e.backgroundPositionY = i.backgroundPositionY;
e.backgroundRepeat = i.backgroundRepeat;
e.position = "absolute";
e.zIndex = -1;
e.top = e.left = 0;
e.width = "100%";
document.body.insertBefore(t, document.body.firstChild);
var n, o, r = !1, s = 0, a = function() {
if (!r && s) {
n += document.body.clientWidth - s;
e.width = n + "px";
s = document.body.clientWidth;
}
o || (o = setTimeout(function() {
e.width = 0;
document.body.className = document.body.className;
n = Math.max(document.body.scrollWidth, document.body.clientWidth);
e.width = n + "px";
s = document.body.clientWidth;
r = document.body.scrollWidth > document.body.clientWidth;
o = null;
}, 0));
};
setTimeout(a, 0);
e.setExpression("height", 'document.body.scrollHeight+"px"');
a();
}
document.body.style.backgroundImage = "url(https://)";
document.body.style.backgroundAttachment = "fixed";
}
}
}
function v() {
function e(t, e) {
ot[t] = "";
ot.removeExpression(t);
"number" == typeof e ? ot[t] = e + "px" : A(e) && "%" == e.substr(e.length - 1) ? ot[t] = e : A(e) && e.length && ot.setExpression(t, e);
}
t.appendToParent && t.appendToParent(!0);
x();
var i, n, o = isNaN(Z) ? "" : Z, r = isNaN(Q) ? "" : Q, s = isNaN(J) ? "" : J, a = isNaN(X) ? "" : X, _ = isNaN(K) ? "" : K, l = isNaN(tt) ? "" : tt, u = "BackCompat" == t.ownerDocument.compatMode;
if ("fixed" == et && t.ownerDocument == document) if (u) {
n = "document.body.clientHeight";
i = "document.body.clientWidth";
} else {
n = "document.documentElement.clientHeight";
i = "document.documentElement.clientWidth";
} else {
n = "this.offsetParent.clientHeight";
i = "this.offsetParent.clientWidth";
}
if (y.isIE6) {
if (!isNaN(Z) && !isNaN(Q)) {
r = "";
s = [ i, Z, Q ].join("-");
}
if (!isNaN(X) && !isNaN(K)) {
_ = "";
l = [ n, X, K ].join(" - ");
}
}
if ("fixed" == et && t.ownerDocument == document) if (u) {
if (!isNaN(Z) || isNaN(Q)) o += "+(dummye34cf6=document.body.scrollLeft)"; else {
o += "+(dummye34cf6=document.body.scrollLeft)+document.body.clientWidth-this.offsetWidth-" + Q;
r = "";
}
if (!isNaN(X) || isNaN(K)) a += "+(dummye34cf6=document.body.scrollTop)"; else {
a += "+(dummye34cf6=document.body.scrollTop)+document.body.clientHeight-this.offsetHeight-" + K;
_ = "";
}
} else {
if (!isNaN(Z) || isNaN(Q)) o += "+(dummye34cf6=document.documentElement.scrollLeft)"; else if (y.isIE6) {
o += "+(dummye34cf6=document.documentElement.scrollLeft)+document.documentElement.clientWidth-this.offsetWidth-" + Q;
r = "";
} else r += "+document.documentElement.scrollWidth-(dummye34cf6=document.documentElement.scrollLeft)-document.documentElement.clientWidth";
if (!isNaN(X) || isNaN(K)) a += "+(dummye34cf6=document.documentElement.scrollTop)"; else if (y.isIE6) {
a += "+(dummye34cf6=document.documentElement.scrollTop)+document.documentElement.clientHeight-this.offsetHeight-" + K;
_ = "";
} else _ += "+document.documentElement.scrollHeight - (dummye34cf6=document.documentElement.scrollTop) - document.documentElement.clientHeight";
}
e("left", o);
e("right", r);
e("width", s);
e("top", a);
e("bottom", _);
e("height", l);
}
function j() {
O();
E();
}
function E() {
ot.top = A(X) ? X : isNaN(X) ? "" : X + "px";
ot.bottom = A(K) ? K : isNaN(K) ? "" : K + "px";
if (tt != nt) {
ot.height = A(tt) ? tt : isNaN(tt) ? "" : tt + "px";
nt = tt;
}
}
function O() {
ot.left = A(Z) ? Z : isNaN(Z) ? "" : Z + "px";
ot.right = A(Q) ? Q : isNaN(Q) ? "" : Q + "px";
if (J != it) {
ot.width = A(J) ? J : isNaN(J) ? "" : J + "px";
it = J;
}
}
function P() {
var e, i, n, o, r, s, a = isNaN(J) ? t.offsetWidth : J, _ = isNaN(tt) ? t.offsetHeight : tt;
e = i = n = o = NaN;
r = s = 0;
switch (lt.charAt(0)) {
case "t":
e = 0;
break;

case "m":
e = "50%";
break;

case "b":
i = 0;
}
switch (lt.charAt(1)) {
case "l":
n = 0;
break;

case "c":
n = "50%";
break;

case "r":
o = 0;
}
"50%" == e && (r = -(_ / 2));
"50%" == n && (s = -(a / 2));
var l = 0;
dt >= 0 || !isNaN(e) || "string" == typeof e ? r += dt : l = -dt;
s += ut;
t.setMargin([ r + "px", 0, l + "px", s + "px" ].join(" ")).setTop(e).setBottom(i).setLeft(n).setRight(o);
}
function R(e) {
if (!C(e)) {
e = e.split(" ");
e[0] = parseInt(e[0], 10);
e[1] = parseInt(e[1], 10);
e[2] = parseInt(e[2], 10);
e[3] = parseInt(e[3], 10);
}
if (_t) {
e[1] = Math.max(0, e[1]);
e[2] = Math.max(0, e[2]);
}
ct = e;
return t;
}
function F(e) {
if (!C(e)) {
e = e.split(" ");
e[0] = parseInt(e[0], 10);
e[1] = parseInt(e[1], 10);
e[2] = parseInt(e[2], 10);
e[3] = parseInt(e[3], 10);
}
ht = [ Math.max(0, e[0]), Math.max(0, e[1]), Math.max(0, e[2]), Math.max(0, e[3]) ];
return t;
}
function M() {
if (ct) {
Z < ct[3] + ht[3] && (Z = ct[3]);
Q < ct[1] + ht[1] && (Q = ct[1]);
X < ct[0] + ht[0] && (X = ct[0]);
K < ct[2] + ht[2] && (K = ct[2]);
var e = y.isQuirks ? document.body : document.documentElement, i = isNaN(J) ? t.offsetWidth : J, n = e.clientWidth - i, o = e.clientHeight - t.offsetHeight;
n - Z <= ct[1] + ht[1] && (Z = n - ct[1]);
n - Q <= ct[3] + ht[3] && (Q = n - ct[3]);
o - X <= ct[2] + ht[2] && (X = o - ct[2]);
o - K <= ct[0] + ht[0] && (K = o - ct[0]);
}
}
function V(e, i) {
K = Q = NaN;
X = i;
Z = e;
M();
g();
return t;
}
function H(t, e) {
isNaN(Z) && isNaN(Q) && (Z = 0);
isNaN(X) && isNaN(K) && (X = 0);
isNaN(Z) || (Z += t);
isNaN(Q) || (Q -= t);
isNaN(X) || (X += e);
isNaN(K) || (K -= e);
M();
g();
}
function z(e, i, n, o) {
if (e) {
isNaN(J) && (J = t.offsetWidth);
J = Math.max(n || 0, J + e);
}
if (i) {
isNaN(tt) && (tt = t.offsetHeight);
tt = Math.max(o || 0, tt + i);
}
M();
g();
t.fire("jx:resize");
return t;
}
function q(e) {
"none" != e && "block" != e || (ft = !0);
"none" != e && "hidden" != e && "false" != e && e ? Y() : U();
return t;
}
function U() {
if (ft) {
if ("none" != ot.display) {
ot.display = "none";
t.fire("hide");
}
} else if ("hidden" != ot.visibility) {
ot.visibility = "hidden";
t.fire("hide");
}
return t;
}
function G() {
return ft ? "none" != t.getStyle("display") : "visible" == t.getStyle("visibility");
}
function Y() {
if (ft) {
if ("block" != ot.display) {
ot.display = "block";
t.fire("show");
}
} else if ("visible" != ot.visibility) {
ot.visibility = "visible";
t.fire("show");
}
return t;
}
var X, K, Z, Q, J, tt, et, it, nt, ot = t.style, rt = t.ownerDocument, st = "BackCompat" == rt.compatMode, at = !(!rt.documentElement || !rt.documentElement.style.setExpression), _t = y.isIE6 || y.isIE && st && at;
X = K = Z = Q = J = tt = NaN;
et = null;
var lt = "", ut = 0, dt = 0;
t.dock = function(e, i, n) {
lt = e;
N(i) && (ut = i);
N(n) && (dt = n);
P();
t.on("jx:resize", P);
};
var ct, ht = [ 0, 0, 0, 0 ], ft = !1;
t.getStyles = function() {
return $(t);
};
t.getStyle = function(e) {
return b(t, e);
};
t.setAttributes = i;
t.getText = n;
t.setText = o;
t.setStyle = r;
t.setFloat = s;
t.setPosition = f;
t.setTop = a;
t.setBottom = l;
t.setLeft = _;
t.setRight = u;
t.setHeight = c;
t.setWidth = d;
t.applyConstraints = g;
t.setVisible = q;
t.setBounds = R;
t.setSnaps = F;
t.move = H;
t.moveTo = V;
t.resizeBy = z;
t.hide = U;
t.show = Y;
t.isVisible = G;
for (var pt in W) W.hasOwnProperty(pt) && (t[pt] = W[pt]);
if (e) for (var gt = t.firstChild; gt; ) {
w(gt, !0);
gt = gt.nextSibling;
}
return t;
}
function x(t) {
return function(e) {
try {
this.style[t] = e;
} catch (t) {}
return this;
};
}
function v(t) {
return function(e) {
this.setAttribute(t, e);
return this;
};
}
var y = i(7), j = i(6), C = i(22), S = i(23), A = i(20), k = i(13), I = i(9), N = i(24), B = i(25).toCamelCase, T = {
create: f,
extend: w,
appendChild: g,
addChildren: m,
hasParentNode: p,
id: s,
get: l,
set: a,
unset: _,
mangleIDs: u,
generateID: s,
nativeGenerator: d,
getStyles: $,
processDeferredStyles: r
}, D = n, E = 1, O = "__JX__ID", P = {};
y.bugs.leaksMemory && y.bugs.leaksMemory(function() {
for (var t, e = 0, i = P.length; e < i; e++) {
t = P[e];
t.plugLeakage && t.plugLeakage();
}
});
var L = y.isTextContent, W = T.proto = {
$: function(t) {
return l(this.id + "__" + t);
},
destroy: function() {
if (this._destructors) for (var t = this._destructors, e = t.length, i = 0; i < e; i++) t[i].call(this);
this.parentNode && this.parentNode.removeChild(this);
this._autobinds && this.autounbind();
"function" == typeof this.empty && this.empty();
"function" == typeof this.unextendEvents && this.unextendEvents();
_(this);
y.bugs.leaksMemory && "function" == typeof this.plugLeakage && this.plugLeakage();
},
empty: function() {
for (var t; t = this.firstChild; ) "function" == typeof t.destroy ? t.destroy() : t.jx_wrapper ? t.jx_wrapper.destroy() : 1 == t.nodeType ? W.destroy.call(t) : this.removeChild(t);
},
onDestruction: function(t) {
(this._destructors || (this._destructors = [])).push(t);
},
autobind: function(t, e, i) {
t.on(e, i);
this._autobinds || (this._autobinds = []);
this._autobinds.push([ t, e, i ]);
},
autounbind: function(t, e, i) {
var n, o, r = this._autobinds;
if (t && e && i) for (n = r.length - 1; n >= 0; n--) {
o = r[n];
if (o[0] == t && o[1] == e && o[2] == i) {
r.splice(n, 1);
o[0].un(o[1], o[2]);
return;
}
} else if (t || e || i) ; else {
if (!r) return;
for (n = r.length - 1; n >= 0; n--) {
o = r[n];
o[0].un(o[1], o[2]);
}
}
},
getXY: function() {
var t, e, i = this.offsetParent;
t = this.offsetLeft;
e = this.offsetTop;
for (;i; ) {
t += i.offsetLeft;
e += i.offsetTop;
i = i.offsetParent;
}
return [ t, e ];
},
getFixedXY: function() {
var t = 0, e = 0, i = this;
if ("getBoundingClientRect" in this) {
var n = this.ownerDocument, o = n.body, r = n.defaultView || i.parentWindow || !1, s = i.getBoundingClientRect(), a = n.clientTop || o.clientTop || 0, _ = n.clientLeft || o.clientLeft || 0, l = r.pageYOffset || o.scrollTop, u = r.pageXOffset || o.scrollLeft;
e = s.top + l - a;
t = s.left + u - _;
} else {
e = i.offsetTop;
t = i.offsetLeft;
for (;i = i.offsetParent; ) {
e -= i.scrollTop, t -= i.scrollLeft;
e += i.offsetTop, t += i.offsetLeft;
}
}
return [ t, e ];
},
toggle: function() {
this.isVisible() ? this.hide() : this.show();
return this;
},
setOpacity: function(t) {
t = Math.max(Math.min(t, 1), 0);
y.isIE ? this.style.filter = (this.style.filter || "").replace(/progid:DXImageTransform.Microsoft.Alpha\([^\)]*\),? ?/gi, "") + (t >= 1 ? "" : "progid:DXImageTransform.Microsoft.Alpha(opacity=" + 100 * t + "), ") : this.style.opacity = t;
return this;
},
setBackgroundImage: function(t) {
var e = t;
e && y.isIE ? this.style.filter += 'progid:DXImageTransform.Microsoft.AlphaImageLoader(src="' + e + '",sizingMethod="scale"), ' : this.style.backgroundImage = 'url("' + t + '")';
return this;
},
setClass: function(t) {
this.className = t;
return this;
},
addClass: function(t) {
this.removeClass(t);
this.className += " " + t;
return this;
},
removeClass: function(t) {
for (var e = this.className.split(" "), i = 0; i < e.length; i++) e[i] == t && (e[i] = "");
this.className = e.join(" ");
return this;
},
setRotation: function(t) {
if (y.isFF) this.style.MozTransform = t ? "rotate(" + t + "deg)" : ""; else if (y.isSafari) this.style.WebkitTransform = t ? "rotate(" + t + "deg)" : ""; else if (y.isIE) {
this.style.filter = t ? "progid:DXImageTransform.Microsoft.BasicImage(rotation=" + Math.round(t / 90) + ")" : "";
if (y.isIE8 && t) {
var e = this.getElementsByTagName("iframe");
if (y.isIE8 && e.length) {
e[0].style.filter = t ? "progid:DXImageTransform.Microsoft.BasicImage(rotation=" + Math.round(t / 90) + ")" : "";
this.style.overflow = "visible";
}
}
}
return this;
},
setSelectable: function(t) {
function e() {
return !1;
}
if (t && "false" != t) {
this.unselectable = "on";
"undefined" != typeof this.style.MozUserSelect ? this.style.MozUserSelect = "none" : "undefined" != typeof this.style.WebkitUserSelect ? this.style.WebkitUserSelect = "none" : "undefined" != typeof this.onselectstart && this.un("selectstart", e);
} else {
this.unselectable = "on";
"undefined" != typeof this.style.MozUserSelect ? this.style.MozUserSelect = "none" : "undefined" != typeof this.style.WebkitUserSelect ? this.style.WebkitUserSelect = "none" : "undefined" != typeof this.onselectstart && this.on("selectstart", e);
}
return this;
},
setScrollTop: function(t) {
this.scrollTop = t;
return this;
}
};
y.leaksMemory && (W.plugLeakage = function() {
this.unextendEvents && this.unextendEvents();
this.$ = this.plugLeakage = this.destroy = this.empty = this.autobind = this.autounbind = this._autobinds = this._destructors = this.onDestruction = this.getXY = this.appendToParent = this.defaultPlacement = this.getStyles = this.getStyle = this.setAttributes = this.getText = this.setText = this.setStyle = this.setFloat = this.setPosition = this.setTop = this.setBottom = this.setLeft = this.setRight = this.setHeight = this.setWidth = this.applyConstraints = this.setVisible = this.setBounds = this.setSnaps = this.move = this.moveTo = this.resizeBy = this.hide = this.show = this.isVisible = this.toggle = this.setOpacity = this.setBackgroundImage = this.setClass = this.addClass = this.removeClass = this.setRotation = this.setSthisectable = this.setScrollTop = this.setBackground = this.setBackgroundPosition = this.setBorder = this.setBorderColor = this.setBorderStyle = this.setBorderWidth = this.setBorderTop = this.setBorderRight = this.setBorderBottom = this.setBorderLeft = this.setClear = this.setColor = this.setPadding = this.setMargin = this.setMarginTop = this.setMarginRight = this.setMarginBottom = this.setMarginLeft = this.setDisplay = this.setLineHeight = this.setLetterSpacing = this.setVisibility = this.setOutline = this.setOverflow = this.setOverflowX = this.setOverflowY = this.setFontFamily = this.setFontSize = this.setFontWeight = this.setFontStyle = this.setTextAlign = this.setTextDecoration = this.setTextTransform = this.setVerticalAlign = this.setZIndex = this.setCursor = this.setHref = this.setSrc = this.setChecked = this.setMedia = this.setName = this.setType = this.setValue = this.setDataNode = this.__jx__constructor = this.__jx__native = null;
});
var R, F;
R = "background background-position border border-color border-style border-width color border-top border-right border-bottom border-left clear padding margin margin-top margin-right margin-bottom margin-left display line-height letter-spacing visibility outline overflow overflow-x overflow-y font-family font-size font-weight font-style text-align text-decoration text-transform vertical-align z-index cursor".split(" ");
for (F = 0; F < R.length; F++) W[B("set-" + R[F])] = x(B(R[F]));
R = "checked href media name src target type value".split(" ");
for (F = 0; F < R.length; F++) W[B("set-" + R[F])] = v(R[F]);
y.isIE && document.execCommand("BackgroundImageCache", !1, !0);
t.exports = T;
e(T, "jx_core_Element");
return T;
}();
}).call(e, i(3));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function i(t) {
return "[object Array]" == Object.prototype.toString.call(t);
}
t.exports = i;
e(i, "jx_core_globals_isArray");
return i;
}();
}).call(e, i(3));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t, e) {
if (isNaN(t)) {
var i = new o();
i.add("_", t);
return i;
}
t == -1 && (t = $.length);
var n = $[t];
n || ($[t] = n = new o());
if ("string" == typeof e) n.add("_", e); else for (var r in e) e.hasOwnProperty(r) && n.add(r, e[r]);
return n;
}
function o() {
function t(t, e) {
u[t] = e;
}
function e(t) {
r(t, c);
}
function i(t) {
d.push(t);
}
function n() {
return s();
}
function s(t) {
return u[t || b] || u._;
}
function a(t) {
var e, i = s(t);
for (e = 0; e < d.length; e++) d[e](i);
}
function _(t, e) {
var i, n = new o();
$[u._] = n;
for (var r in u) if (u.hasOwnProperty(r)) {
i = u[r];
if ("string" != typeof i) continue;
i = i[t].apply(i, e);
n.add(r, i);
}
return n;
}
function l(t) {
return function() {
return _(t, arguments);
};
}
for (var u = {}, d = [], c = {
add: t,
bind: e,
onTranslate: i,
toJSON: n,
toString: s,
update: a
}, h = [ "concat", "replace", "toLowerCase", "toUpperCase" ], f = 0; f < h.length; f++) c[h[f]] = l(h[f]);
return c;
}
function r(t, e) {
for (var i = 0; i < w.length; i++) if (w[i] == t) {
x[i] = e;
return;
}
w.push(t);
x.push(e);
}
function s(t) {
for (var e = 0; e < w.length; e++) if (w[e] == t) {
w.splice(e, 1);
x.splice(e, 1);
return;
}
}
function a(t) {
t = t.split(/-|_/).slice(0, 2);
var e = t[0] = t[0].toLowerCase();
t[1] && (t[1] = t[1].toUpperCase());
t = t.join("_");
return p.languages ? t in p.languages ? t : e in p.languages ? e : null : null;
}
function _(t) {
var e, i, o, r, s, _;
t = a(t);
if (t) {
s = p.languages[t];
if (s) {
_ = g[p.languages[t]];
if (_) {
n.language = b = t;
m.ensureLoaded(_, function(n) {
n && l(t);
if (t == b) {
for (e = 0, i = $.length; e < i; e++) $[e].update instanceof Function && $[e].update(t);
for (e = 0, i = w.length; e < i; e++) {
o = w[e];
r = x[e].toString();
if (y) o.textContent = r; else if ("string" == typeof o.innerText) o.innerText = r; else if ("string" == typeof o.nodeValue) try {
o.data = r;
} catch (t) {}
}
v._active = !0;
i = v.length;
for (e = 0; e < i; e++) try {
v[e] && v[e](t);
} catch (t) {}
v._active = !1;
if (v._dirty) {
for (e = 0; e < i; e++) if (!v[e]) {
e == i - 1 ? v.pop() : v[e--] = v.pop();
i--;
}
v._dirty = !1;
}
}
});
}
}
}
}
function l(t) {
var e, i = g[p.languages[t]];
for (e = 0; e < i.length; e++) 0 !== i[e] && $[e].add(t, i[e]);
}
function u(t) {
v.push(t);
}
function d(t) {
for (var e = 0, i = v.length; e < i; e++) if (v[e] == t) {
v._active ? (v[e] = null, v._dirty = !0) : e == i - 1 ? v.pop() : v[e] = v.pop();
break;
}
}
function c() {
return !(b.search(j) == -1);
}
function h(t) {
return c() ? t.replace(/left/, "%left%").replace(/right/, "left").replace(/%left%/, "right").replace(/ltr/, "%ltr%").replace(/rtl/, "ltr").replace(/%ltr%/, "rtl") : t;
}
var f = i(7), p = i(1), g = i(4), m = i(2), $ = [], b = "_", w = [], x = [], v = [], y = f.isTextContent, j = /^ar|^fa|^he|^ku|^ur/, C = p.strings;
if (C) for (var S = 0; S < C.length; S++) n(S, C[S]);
n.bind = r;
n.flip = h;
n.onLanguage = u;
n.unLanguage = d;
n.update = _;
n.unbind = s;
n.rtl = c;
n.findClosestLanguage = a;
t.exports = n;
e(n, "jx_core__");
return n;
}();
}).call(e, i(3));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function i(t) {
return "number" == typeof t;
}
t.exports = i;
e(i, "jx_core_globals_isNumber");
return i;
}();
}).call(e, i(3));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function i(t) {
t = t.split(/[^a-zA-Z0-9]/);
for (var e = 1; e < t.length; e++) t[e].length && (t[e] = t[e].substr(0, 1).toUpperCase() + t[e].substr(1));
return t.join("");
}
var n = {
toCamelCase: i
};
t.exports = n;
e(n, "jx_core_StringUtils");
return n;
}();
}).call(e, i(3));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t) {
t.preventDefault = n.preventDefault;
t.stopPropagation = n.stopPropagation;
t.target = t.srcElement;
}
function o() {
this.allCallbacks = {};
this.nativeHandlers = {};
}
var r = i(7), s = i(6);
n.preventDefault = function() {
this.returnValue = !1;
};
n.stopPropagation = function() {
this.cancelBubble = !0;
};
o.prototype.useCustomHandling = function(t) {
return !this.dom.nodeType && this.dom != window && this.dom != document || ("form" != this.tagName.toLowerCase() || "submit" != t) && (!r.isCustomEvents && (r.isFF && r.isFF < 9 ? !document.createEvent("event")[t.toUpperCase()] : "undefined" == typeof this.dom["on" + t]));
};
o.prototype.addEventListener = function(t, e) {
if (!t && "function" != typeof e) throw "bad arguments to on / addEventListener";
if (!(t in this.allCallbacks)) {
this.allCallbacks[t] = [];
this.useCustomHandling(t) || this.setupNativeEventListener(t);
}
this.allCallbacks[t].push(e);
return this;
};
o.prototype.setupNativeEventListener = function(t) {
if (!(t in this.nativeHandlers)) {
var e = this;
this.nativeHandlers[t] = function(i) {
i && (i.stopPropagation || n(i));
var o, a = e.allCallbacks[t], _ = a.length, l = !0;
a._active = !0;
for (o = 0; o < _; o++) try {
if (!a[o]) continue;
a[o].call(e, r.isCustomEvents && i instanceof r.CustomEvent ? i.detail : i) === !1 && (l = !1);
} catch (t) {
s.fire("error", t);
}
a._active = !1;
if (a._dirty) {
for (o = 0; o < _; o++) if (!a[o]) {
o == _ - 1 ? a.pop() : a[o--] = a.pop();
_--;
}
a._dirty = !1;
}
if (l === !1) {
if (i) {
i.preventDefault();
i.returnValue = !1;
}
return !1;
}
};
this.dom.attachEvent ? this.dom.attachEvent("on" + t, this.nativeHandlers[t]) : this.dom.addEventListener && this.dom.addEventListener(t, this.nativeHandlers[t], !1);
}
};
o.prototype.teardownNativeEventListener = function(t) {
var e = this.nativeHandlers[t];
if (e) {
this.dom.attachEvent ? this.dom.detachEvent("on" + t, e) : this.dom.addEventListener && this.dom.removeEventListener(t, e, !1);
delete this.nativeHandlers[t];
delete this.allCallbacks[t];
}
};
o.prototype.removeEventListener = function(t, e) {
var i = this.allCallbacks[t];
if (i) {
for (var n = 0, o = i.length; n < o; n++) if (i[n] === e) {
1 == i.length ? this.nativeHandlers[t] ? this.teardownNativeEventListener(t) : delete this.allCallbacks[t] : i._active ? (i[n] = null, 
i._dirty = !0) : n == o - 1 ? i.pop() : i[n] = i.pop();
break;
}
return this;
}
};
o.prototype.unextendEvents = function() {
if (this.allCallbacks && this.nativeHandlers) {
for (var t in this.nativeHandlers) this.nativeHandlers.hasOwnProperty(t) && this.teardownNativeEventListener(t);
this.allCallbacks = this.nativeHandlers = null;
}
};
o.prototype.fireCustomEvent = function(t, e) {
if (!r.isCustomEvents || this.useCustomHandling(t)) {
var i = this.allCallbacks[t], n = !0;
if (i && i.length) {
i._active = !0;
var o, a, _;
for (o = 0, a = i.length; o < a; o++) try {
if (!i[o]) continue;
_ = i[o].call(this, e);
_ === !1 && (n = !1);
} catch (t) {
s.fire("error", t);
}
i._active = !1;
if (i._dirty) {
for (o = 0; o < a; o++) if (!i[o]) {
o == a - 1 ? i.pop() : i[o--] = i.pop();
a--;
}
i._dirty = !1;
}
}
return n;
}
return this.dom.dispatchEvent(new r.CustomEvent(t, {
bubbles: !1,
cancelable: !0,
detail: e
}));
};
o.prototype.fire = o.prototype.fireCustomEvent;
o.prototype.on = o.prototype.addEventListener;
o.prototype.un = o.prototype.removeEventListener;
o.__jx__no_fqname = !0;
t.exports = o;
e(o, "jx_ui_HTMLEvent");
return o;
}();
}).call(e, i(3));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t, e, i, o, s) {
if (!(this instanceof n)) return new n(t, e, i, o, s);
var a = t.ownerDocument;
s || (s = {});
s.tagName || (s.tagName = "style");
r.call(this, a.getElementsByTagName("head")[0], e, i, null, s);
this.dom.type = "text/css";
this.addChildren(o);
}
var o = i(15), r = i(18);
n.prototype = o(r.prototype);
n.prototype.getText = function() {
return this.dom.styleSheet ? this.dom.styleSheet.cssText : r.prototype.getText.call(this);
};
n.prototype.addChildren = function(t) {
if (t && t.length) if ("styleSheet" in this.dom) {
if (!this.dom.styleSheet) {
this.destroy();
return;
}
this.dom.styleSheet.cssText += t.join("");
} else r.prototype.addChildren.call(this, [ t.join("") ]);
};
t.exports = n;
e(n, "jx_ui_StyleSheet");
return n;
}();
}).call(e, i(3));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
var n = i(10);
n(String.prototype.trim) || (String.prototype.trim = function() {
return this.replace(/^\s+|\s+$/g, "");
});
var o = {};
t.exports = o;
e(o, "jx_core_Polyfill");
return o;
}();
}).call(e, i(3));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t) {
if (!(this instanceof n)) {
_ || n._initSingleton(window);
return _;
}
if (t) return n.parseQuery(t);
this.store = {};
}
function o(t, e, i) {
if (void 0 === e && void 0 === i) return t;
void 0 === e && (e = "string");
if (!(e in a)) throw "invalid type requested";
return void 0 === t ? void 0 !== i ? i : a[e] : "boolean" === e ? s.test(t) : "integer" === e ? t === !0 ? 1 : parseInt(t, 10) : "float" === e ? t === !0 ? 1 : parseFloat(t) : t;
}
var r = i(22), s = /^(1|on|true)$/i, a = {
boolean: !1,
integer: 0,
float: 0,
string: ""
}, _ = null;
n._initSingleton = function(t) {
_ = new n(t.location.search);
};
n.buildQuery = function(t) {
var e, i, n, o, s, a, _ = [], l = [];
for (s in t) t.hasOwnProperty(s) && _.push(s);
_.sort();
for (e = 0, n = _.length; e < n; e++) {
s = _[e];
a = t[s];
s = window.encodeURIComponent(s);
if (r(a)) if (1 !== a.length || a[0] !== !0) for (i = 0, o = a.length; i < o; i++) l.push(s + "=" + window.encodeURIComponent(a[i] + "")); else l.push(s); else l.push(s + "=" + window.encodeURIComponent(a + ""));
}
return l.join("&");
};
n.parseQuery = function(t) {
var e, i, o = new n();
t = t.replace(/^\?|\/+$/g, "");
var r, s, a = t.split("&");
for (e = 0, i = a.length; e < i; e++) {
var _ = a[e];
if (_.length) {
var l = _.indexOf("=");
if (l <= -1) {
r = _;
s = !0;
} else {
r = _.slice(0, l);
s = window.decodeURIComponent(_.slice(l + 1));
}
o.add(window.decodeURIComponent(r), s);
}
}
return o;
};
n.getHash = function(t, e) {
var i = e || window.location.hash;
return n.parseQuery(i.replace(/^#/, "")).get(t);
};
var l = n.prototype;
l.add = function(t, e) {
this.has(t) ? this.store[t].push(e) : this.store[t] = [ e ];
};
l.has = function(t) {
return this.store.hasOwnProperty(t);
};
l.getLast = function(t, e, i) {
return this.has(t) ? this.getAt(t, this.store[t].length - 1, e, i) : o(void 0, e, i);
};
l.getFirst = function(t, e, i) {
return this.getAt(t, 0, e, i);
};
l.getAt = function(t, e, i, n) {
return o(this.has(t) ? this.store[t][e] : void 0, i, n);
};
l.getRaw = function(t) {
return this.has(t) ? this.store[t].concat() : [];
};
l.get = l.getLast;
l.toString = function() {
return n.buildQuery(this.store);
};
t.exports = n;
e(n, "meshim_common_QueryString");
return n;
}();
}).call(e, i(3));
}, function(t, e, i) {
(function(e, n, o, r, s, a) {
e.__$$__jx_ui_Widget = i(18);
t.exports = function() {
function t(s, a, l, u, d) {
if (!(this instanceof t)) return new t(s, a, l, u, d);
a = a || n.generateID();
var c = [ e.__$$__jx_ui_Widget, "", "", [], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui"
} ], h = c[0].call(this, s, a, null, n.mangleIDs(a, c[3]), c[4]), f = h || this;
n.set(a, f);
if (!t.__jx__jcss_generated) {
o.generate(s, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var p = function() {
function t() {
function t() {
n || (n = new p(O, null, null, null, {
visibility: "hidden",
dataTestId: "ChatWidgetWindow"
}));
}
function i() {
_ || (_ = new b(O, null, null, null, {
visibility: "hidden",
dataTestId: "ChatWidgetMobileWindow"
}));
}
function u() {
l || (l = new w(O, null, null, null, {
visibility: "hidden",
dataTestId: "ChatWidgetPopoutMobileWindow"
}));
}
function j() {
a || (a = new x(O, null, null, null, {
visibility: "hidden",
dataTestId: "ChatWidgetMobileNotification"
}));
}
function T() {
o || (o = new g(O, null, null, null, {
visibility: "hidden",
dataTestId: "ChatWidgetButton"
}));
}
function D() {
o || (o = new m(O, null, null, null, {
visibility: "hidden",
dataTestId: "ChatWidgetMobileButton"
}));
}
function E() {
s || (s = new $(O, null, null, null, {
visibility: "hidden",
dataTestId: "ChatWidgetMobileUnreadCountBadge"
}));
}
c.init();
A.bindValue(function(t) {
if (t && !e) {
e = !0;
r(function() {
h.fromRefTime("theme_loaded" + (C.getValue() ? "_cached" : "_no_cached"), .25);
n && n.setVisibility("");
o && o.setVisibility("");
s && s.setVisibility("");
a && a.setVisibility("");
_ && _.setVisibility("");
l && l.setVisibility("");
y.refocusActiveElement();
});
}
});
var O = window.document.body, P = B.getValue(), L = k.getValue(), W = I.getValue(), R = N.getValue();
(P || R) && (O = f);
if (R) {
var F = v.iOSVersion;
if (L && F && F >= 11.2) {
u();
f.addClass("popout");
} else {
t();
f.addClass("popout");
}
} else if (L) {
d.init();
D();
E();
if (W) {
i();
S.$("mobile_notifications$bool").getValue() && j();
}
} else {
t();
T();
}
}
var e, n, o, s, a, _, l, u = i(41), d = i(58), c = i(60), h = i(63), p = i(82), g = i(314), m = i(331), $ = i(341), b = i(343), w = i(353), x = i(354), v = i(56), y = i(51), j = u.root, C = j.$("livechat").$("settings").$("cached$bool"), S = j.$("livechat").$("ui"), A = S.$("theme_loaded$bool"), k = S.$("mobile$bool"), I = S.$("mobile_overlay$bool"), N = S.$("popout$bool"), B = S.$("mockup$bool");
t();
}();
for (var g in p) p.hasOwnProperty(g) && (f[g] = p[g]);
f.fire && f.fire("init");
f.setStyle && f.setStyle(l);
f.setAttributes && f.setAttributes(d);
"function" == typeof f.addChildren ? f.addChildren(u) : n.addChildren(f, u);
if (f !== this) {
f.__jx__constructor = _;
f.__jx__native = !1;
}
return f;
}
var _;
t.prototype = s(e.__$$__jx_ui_Widget.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_Widget;
t.__jx__jcss = {
"**self, textarea, input, button": {
fontFamily: [ "$$fontFamily", "$$customFontFamily" ],
fontSize: "$$fontSize"
},
":lang(ja), :lang(ko), :lang(zh_CN), :lang(zh_TW)": {
"*": {
fontWeight: "normal !important",
fontStyle: "normal !important"
},
"::placeholder": {
fontStyle: "normal !important"
}
},
"&.popout": {
position: "absolute",
"top, left": 0,
"width, height": "100%"
},
"*": {
WebkitTapHighlightColor: "transparent"
},
"input, select, textarea, button": {
"&:focus": {
outline: "none"
}
},
img: {
MsInterpolationMode: "bicubic"
},
"input, textarea": {
"&:-moz-placeholder, &::-moz-placeholder": {
opacity: 1
}
},
"input, button": {
"&::-moz-focus-inner": {
padding: 0,
border: 0
}
},
table: {
fontSize: "100%",
color: "inherit",
borderCollapse: "collapse",
borderSpacing: 0
}
};
a(t, "meshim_widget_Widget");
_ = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(4), i(21), i(31), i(13), i(15), i(3));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
var n = i(32), o = i(6), r = i(33), s = i(40), a = i(34), _ = i(39), l = i(35), u = i(24), d = n.REGEX, c = {};
o.extend(c);
c.generateAll = r.generateAll;
c.generate = r.generate;
c.writeChanges = r.writeChanges;
c.setPalette = s.setPalette;
c.delPalette = s.delPalette;
c.delPalettes = s.delPalettes;
c.appendPalette = s.appendPalette;
c.getPalette = s.getPalette;
s.initDefaultPalette();
c.setIFrameOnly = a.setIFrameOnly;
c.bindIFrame = a.bindIFrame;
c.unbindIFrame = a.unbindIFrame;
c.transform2CSS = _;
c.getVariable = function(t) {
for (var e = l.palettes, i = l.priorities, n = i.length - 1; n >= 0; n--) if (i[n] && e[i[n]] && (e[i[n]][t] || u(e[i[n]][t]))) return d.isVariable.test(e[i[n]][t]) ? c.getVariable(e[i[n]][t].toString().slice(2)) : e[i[n]][t];
};
c.reload = function() {
c.writeChanges(!0);
};
t.exports = c;
e(c, "jx_core_JCSS");
return c;
}();
}).call(e, i(3));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function i(t) {
return t.join("");
}
var n = {
space: / /g,
repeatingLinearGradient: /^\s*repeating-linear-gradient/,
prependFQName: /^(\*\*self|)(?!.+?keyframes)/,
prePrependFQName: /^(?!\*\*self)/g,
replacePseudo: /\:\:\:([A-Za-z_\-.]+)/g,
replaceAppend: / +?&/g,
placeholder: /::placeholder$/,
replaceVariables: /(?:(?:([A-Za-z\-]+):)??(?:& *:)?\$\$([A-Za-z_\.]+))(?=;)/g,
replaceLeftovers: /(?:(?:[A-Za-z\-]+:)??(?:& *:)?(\$\$[A-Za-z_\.]*?)??)(?=;)/g,
replaceMedia: /(.*)(@media.*)@mediaend(.*)/,
commaStart: /^,/,
selectorCase: /([A-Z]+)/g,
removePrefix: /^\$\$/,
isVariable: /\$\$[A-Za-z_]+/
}, o = {
REGEX: n,
join: i
};
t.exports = o;
e(o, "jx_core_jcss_modules_JCSSUtils");
return o;
}();
}).call(e, i(3));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t) {
var e;
for (var i in c) if (c.hasOwnProperty(i)) {
e = c[i];
if (e && e.prototype && e.__jx__jcss && !e.__jx__jcss_generated) {
o.call(this, null, e.prototype.__jx__fqname, e.__jx__jcss, null, e);
e.__jx__jcss_generated = !0;
}
}
t || r.call(this);
}
function o(t, e, i, n, o, s) {
if (i && (t || o)) {
var a;
e = e ? "." + e.trim().replace(w.space, ".") : "";
i = i || {};
n = "_" + (n || "");
o = o || t.__jx__constructor;
a = _(o).replace(/\*\*self/g, e);
h.cache[n] = h.cache[n] || [];
y[n] = y[n] || [];
h.cache[n].push(a);
y[n].push(a);
j[n] = !!s;
l || (l = f.schedule(r, this));
}
}
function r(t) {
l && (l = f.clearSchedule(l));
var e, i, n = t ? h.cache : y;
a();
for (i in n) if (n.hasOwnProperty(i)) {
if (!n[i]) continue;
var o = n[i].join("\n");
e = o.replace(w.replaceVariables, s);
d.getIFrameOnly() || p.setStyleSheet(document, "jcss" + i, e, t || j[i]);
for (var r = 0; r < C.length; r++) p.setStyleSheet(C[r].idoc, "jcss" + i, e, t || j[i]);
h.cache_replaced[i] = t ? e : (h.cache_replaced[i] || "") + e;
j[i] = !1;
}
y = {};
this.fire("write", e);
}
function s(t, e, i) {
for (;v[i] || g(v[i]); ) i = v[i].toString().replace(w.removePrefix, "");
return e ? m.toStyle(e, i) : i || "";
}
function a() {
var t, e, i, n = {};
v = {};
for (e in h.palettes) if (h.palettes.hasOwnProperty(e)) {
i = $(e, h.priorities);
for (t in h.palettes[e]) if (h.palettes[e].hasOwnProperty(t) && (isNaN(n[t]) || i > n[t]) && (h.palettes[e][t] || g(h.palettes[e][t]))) {
v[t] = h.palettes[e][t];
n[t] = i;
}
}
}
function _(t) {
var e = t.prototype.__jx__fqname;
if (h.cached_fqname[e]) return h.cached_fqname[e];
h.cached_fqname[e] = {};
var i = [], n = t.__jx__jcss || {}, o = b(n, "", "**self", !0).join("\n");
t && t.prototype.__jx__super && i.push(_(t.prototype.__jx__super));
i.push(o);
h.cached_fqname[e] = i.join("\n");
return h.cached_fqname[e];
}
var l, u = i(32), d = i(34), c = i(4), h = i(35), f = i(37), p = i(36), g = i(24), m = i(38), $ = i(8), b = i(39), w = u.REGEX, x = {
generateAll: n,
generate: o,
writeChanges: r
}, v = {}, y = {}, j = {}, C = d.getIFrames();
t.exports = x;
e(x, "jx_core_jcss_modules_JCSSGenerator");
return x;
}();
}).call(e, i(3));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t) {
for (var e = 0, i = h.length; e < i; e++) if (t === h[e]) return;
h.push(t);
for (var n in l.cache) l.cache.hasOwnProperty(n) && u.setStyleSheet(t.idoc, "jcss" + n, l.cache_replaced[n]);
}
function o(t) {
for (var e = 0, i = h.length; e < i; e++) t === h[e] && h.splice(e, 1);
}
function r(t) {
_ = d(t);
}
function s() {
return _;
}
function a() {
return h;
}
var _, l = i(35), u = i(36), d = i(17), c = {
bindIFrame: n,
unbindIFrame: o,
setIFrameOnly: r,
getIFrameOnly: s,
getIFrames: a
}, h = [];
t.exports = c;
e(c, "jx_core_jcss_modules_JCSSIFrame");
return c;
}();
}).call(e, i(3));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
var i = {
cached_fqname: {},
cache: {},
cache_replaced: {},
palettes: {},
priorities: []
};
t.exports = i;
e(i, "jx_core_jcss_modules_JCSSStore");
return i;
}();
}).call(e, i(3));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t, e, i, n) {
t || (t = document);
var r = o(t, e);
if (r) if (n) r.styleSheet ? r.styleSheet.cssText = i : r[a ? "textContent" : "innerText"] = i; else if (r.styleSheet) r.styleSheet.cssText = [ r.styleSheet.cssText, i ].join(""); else {
var s = t.createTextNode(i);
r.appendChild(s);
} else {
r = t.createElement("style");
t.getElementsByTagName("head")[0].appendChild(r);
r.type = "text/css";
e && r.setAttribute("__jx__stylesheet_id", e);
if (void 0 !== r.styleSheet) {
if (!r.styleSheet) {
t.getElementsByTagName("head")[0].removeChild(r);
r = null;
return;
}
r.styleSheet.cssText = i;
} else r[a ? "textContent" : "innerText"] = i;
}
}
function o(t, e) {
if (e) {
t || (t = document);
for (var i = 0, n = t.styleSheets.length; i < n; i++) if ((t.styleSheets[i].ownerNode && t.styleSheets[i].ownerNode.getAttribute("__jx__stylesheet_id") || t.styleSheets[i].owningElement && t.styleSheets[i].owningElement.getAttribute("__jx__stylesheet_id")) == e) return t.styleSheets[i].ownerNode && t.styleSheets[i].ownerNode || t.styleSheets[i].owningElement && t.styleSheets[i].owningElement;
}
}
var r = i(7), s = {
setStyleSheet: n
}, a = r.isTextContent;
t.exports = s;
e(s, "jx_core_jcss_modules_JCSSStyleSheet");
return s;
}();
}).call(e, i(3));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function i() {
if (f) {
var t = new f(a);
l = document.createTextNode("");
t.observe(l, {
characterData: !0
});
u = r;
} else u = s;
}
function n(t, e) {
if ("function" == typeof t) {
var i = g++;
h.push({
cb: t,
self: e,
id: i
});
if (!c) {
u();
c = !0;
}
return i;
}
}
function o(t) {
for (var e = h.length - 1; e >= 0; e--) h[e].id === t && (h[e].cb = _);
}
function r() {
p = -p;
l.data = p;
}
function s() {
setTimeout(a, 0);
}
function a() {
for (var t = 0; t < h.length; t++) {
var e = h[t], i = e.cb, n = e.self;
i.call(n);
}
h = [];
c = !1;
}
function _() {}
var l, u, d = {
schedule: n,
clearSchedule: o
}, c = !1, h = [], f = window.MutationObserver || window.WebKitMutationObserver, p = 1, g = 1;
i();
t.exports = d;
e(d, "jx_core_jcss_modules_JCSSAsap");
return d;
}();
}).call(e, i(3));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n() {
function t(t) {
if (t in i) return t;
for (var n = t.charAt(0).toUpperCase() + t.slice(1), r = e.length; r--; ) {
var s = e[r] + n;
if (s in i) return "-" + e[r].toLowerCase() + "-" + o(t);
}
return t;
}
n = function() {};
for (var e = [ "Moz", "webkit", "ms" ], i = document.createElement("div").style, r = g.length; r--; ) {
var s = g[r];
m[s] = t(s);
}
}
function o(t) {
return t.replace(f.selectorCase, "-$1").replace(f.commaStart, "").toLowerCase();
}
function r(t, e) {
n();
var i;
e += "";
if (f.isVariable.test(e)) return t + ":" + e + ";";
if ("!important" === e.substr(-10)) {
i = !0;
e = e.substr(0, e.length - 10).trim();
}
switch (!0) {
case "background" === t:
return a(e, i);

case "display" === t:
return h.bugs.noBoxSizing && "inline-block" == e ? "" + s("display", "inline", i) + s("zoom", "1", i) : s("display", e, i);

case t in m:
return s(m[t], e, i);

default:
return s(o(t), e, i);
}
}
function s(t, e, i) {
return t + ":" + e + (i ? "!important;" : ";");
}
function a(t, e) {
var i, n = [];
i = t.split(" ");
switch (i[0]) {
case "linear-gradient":
i.splice(0, 1);
t = i.join(" ");
n.push(s("background", "-webkit-linear-gradient" + t, e), s("background", "-o-linear-gradient" + t, e), s("background", "-moz-linear-gradient" + t, e), s("background", "-ms-linear-gradient" + t, e), s("background", "-linear-gradient" + t, e));
break;

case "gradient":
var o, r;
n.push(s("background", _(i[2], i[3]), e));
"top" == i[1] && (o = "bottom");
"left" == i[1] && (o = "right");
"right" == i[1] && (o = "left");
"bottom" == i[1] && (o = "top");
r = $([ "(", i[1], ",", i[2], ",", i[3], ")" ]);
n.push(s("background", "-o-linear-gradient" + r, e), s("background", "-moz-linear-gradient" + r, e), s("background", "-ms-linear-gradient" + r, e), s("background", "linear-gradient" + r, e));
if ("left" == i[1] || "right" == i[1]) {
n.push(s("background", $([ "-webkit-gradient(linear,", i[1], " center,", o, " center,", "from(", i[2], "),to(", i[3], "))" ])));
r = $([ "progid:DXImageTransform.Microsoft.gradient(startColorstr=", l(i[2]), ", endColorstr=", l(i[3]), ", GradientType=1)" ]);
n.push(s("filter", r, e), s("-ms-filter", r, e));
} else {
n.push(s("background", $([ "-webkit-gradient(linear,", "center ", i[1], ",", "center ", o, ",", "from(", i[2], "),to(", i[3], "))" ])));
r = $([ "progid:DXImageTransform.Microsoft.gradient(startColorstr=", l(i[2]), ", endColorstr=", l(i[3]), ")" ]);
n.push(s("filter", r, e), s("-ms-filter", r, e));
}
break;

default:
n.push(s("background", t, e));
}
return n.join("");
}
function _(t, e) {
function i(i) {
return (16 * Math.round((parseInt(t.substring(i, i + 2), 16) + parseInt(e.substring(i, i + 2), 16)) / 32)).toString(16);
}
"rgb" == t.slice(0, 3) && (t = u(t, !0));
"rgb" == e.slice(0, 3) && (e = u(e, !0));
t = l(t).substring(1);
e = l(e).substring(1);
var n = i(0), o = i(2), r = i(4);
return "#" + n + o + r;
}
function l(t) {
if ("string" != typeof t) return "";
var e;
e = "#" == t.charAt(0) ? t.substring(1) : t;
if ("rgb" == e.slice(0, 3)) return u(e);
3 == e.length && (e = e.charAt(0) + e.charAt(0) + e.charAt(1) + e.charAt(1) + e.charAt(2) + e.charAt(2));
return "#" + e;
}
function u(t, e) {
t = t.slice(5, -1);
t = t.split(",");
if (3 == t.length || e) return "#" + d(t[0]) + d(t[1]) + d(t[2]);
t[3] = (255 * parseFloat(t[3], 10)).toFixed();
return "#" + d(t[3]) + d(t[0]) + d(t[1]) + d(t[2]);
}
function d(t) {
t = parseInt(t, 10).toString(16);
1 == t.length && (t = "0" + t);
return t;
}
var c = i(32), h = i(7), f = c.REGEX, p = {
toStyle: r
}, g = [ "animation", "userSelect", "appearance", "transform", "transformOrigin" ], m = {}, $ = c.join;
t.exports = p;
e(p, "jx_core_jcss_modules_JCSSConverter");
return p;
}();
}).call(e, i(3));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t, e, i, o, d) {
var c, h, f, p, g, m, $ = [], b = [];
for (c in t) if (t.hasOwnProperty(c)) {
h = t[c];
f = void 0;
if ("@keyframes" == c) {
for (var w in h) if (h.hasOwnProperty(w)) {
m = w + " { " + n(h[w]).join(" ") + " } ";
b.push("@-webkit-keyframes " + m, "@-moz-keyframes " + m, "@-ms-keyframes " + m, "@-o-keyframes " + m, "@keyframes " + m);
}
continue;
}
"@media" == c.slice(0, 6) && (c = [ c, "@mediaend" ].join(""));
switch (typeof h) {
case "boolean":
case "number":
case "string":
f = c.split(",");
for (p = 0, g = f.length; p < g; p++) $.push(r.toStyle(f[p], h));
break;

default:
if (s(h)) {
for (p = 0, g = h.length; p < g; p++) $.push(r.toStyle(c, h[p]));
break;
}
if (_.placeholder.test(c)) {
m = c.replace(_.placeholder, "");
f = [];
for (p = 0, g = l.placeholder.length; p < g; p++) f.push(u([ m, l.placeholder[p] ]));
}
s(f) || (f = c.split(","));
for (p = 0, g = f.length; p < g; p++) b = b.concat(n(h, f[p].trim()));
}
}
if ($.length) {
if (!d) {
$.unshift("{");
$.push("}");
}
b.push($.join(""));
}
if (e || i || o && !(a.isIE < 9)) for (p = 0, g = b.length; p < g; p++) {
e && (b[p] = [ e.replace(_.replacePseudo, ".$1"), " ", b[p] ].join(""));
i && (b[p] = b[p].replace(_.prePrependFQName, " ").replace(_.prependFQName, i));
o && (b[p] = b[p].replace(_.replaceAppend, ""));
o && b[p].indexOf("@media") !== -1 && (b[p] = b[p].replace(_.replaceMedia, "$2 { $1 $3 }"));
}
return b;
}
var o = i(32), r = i(38), s = i(22), a = i(7), _ = (i(8), o.REGEX), l = {
placeholder: [ "::-webkit-input-placeholder", ":-moz-placeholder", "::-moz-placeholder", ":-ms-input-placeholder", ".placeholder" ]
}, u = o.join;
t.exports = n;
e(n, "jx_core_jcss_modules_transform2CSS");
return n;
}();
}).call(e, i(3));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t, e, i) {
t = l(t) || {};
e = e || h;
i = parseInt(i, 10);
if ((u.palettes[e] || !isNaN(i)) && (isNaN(i) || !(i < 0)) && (e != h || isNaN(i) || i == f) && (!u.priorities[i] || u.priorities[i] == e)) {
u.palettes[e] = t;
if (!isNaN(i)) {
var n = d(e, u.priorities);
n != -1 && (u.priorities[n] = void 0);
u.priorities[i] = e;
}
}
}
function o(t) {
if (t) {
var e;
if (c(t)) {
if (!u.priorities[t]) return;
delete u.palettes[u.priorities[t]];
u.priorities[t] = void 0;
} else {
if (!u.palettes[t]) return;
e = d(t, u.priorities);
delete u.palettes[t];
u.priorities[e] = void 0;
}
}
}
function r() {
u.palettes = {};
u.priorities.length = 0;
s();
}
function s() {
n({}, h, f);
}
function a() {}
function _(t) {
t = t || h;
return u.palettes[t] || {};
}
function l(t, e, i) {
if (t) {
e || (e = {});
i ? i += "." : i = "";
for (var n in t) t.hasOwnProperty(n) && ("object" == typeof t[n] ? l(t[n], e, i + n) : e[i + n] = t[n]);
return e;
}
}
var u = i(35), d = i(8), c = i(24), h = "__jcss__default", f = 0, p = {
initDefaultPalette: s,
setPalette: n,
delPalette: o,
delPalettes: r,
appendPalette: a,
getPalette: _
};
t.exports = p;
e(p, "jx_core_jcss_modules_JCSSPalette");
return p;
}();
}).call(e, i(3));
}, function(t, e, i) {
(function(e, n) {
t.exports = function() {
function e(t, e, i) {
W = !0;
V.root = $ = t instanceof S ? t : new S("root");
w = i;
if (A.ACCOUNT_KEY || e) {
if (e) {
b = e;
$.$$("livechat.ui.mockup$bool").update(!0);
}
if (D.isMobileBrowser) {
$.$$("livechat.ui.mobile$bool").update(!0);
D.isMobileWhitelist && $.$$("livechat.ui.mobile_whitelist$bool").update(!0);
D.isMobileTablet && $.$$("livechat.ui.tablet$bool").update(!0);
}
window.$zopim_popout ? $.$$("livechat.ui.popout$bool").update(!0) : e || x.setIFrameOnly(!0);
var n, o = m(k);
if (!b) for (var r in O) if (O.hasOwnProperty(r)) {
var s = I.DOM.getVariable(r);
"log" == r && s && "object" == typeof s && $.$("livechat").$("temp").update({
prev_log: s
});
"settings" == r && s && T.getKeys(s).length && $.$("livechat").$("settings").update({
cached$bool: !0
});
if ("object" == typeof s) {
n = T.getKeys(s);
n && n.length && T.fullyExtend(T.descendsObj(o, O[r]), s);
} else T.insertObj(O[r], s, o);
}
$.update(o);
if (!b && !p()) {
var a = v.isIOS ? "unload" : "beforeunload";
y.window.on(a, function() {
try {
g();
} catch (t) {}
});
}
var _ = I.getAllowCookieLaw();
"boolean" == typeof _ && $.$$("livechat.profile").update({
allow_cookies$bool: _
});
$.$$("livechat.settings.package").on("value", function(t) {
if (t) {
"color_customization_enabled$int" in t && t.color_customization_enabled$int && (L = 1);
"widget_customization_enabled$int" in t && t.widget_customization_enabled$int && (L = 2);
}
});
V.fire("init");
}
}
function o(t) {
j(t) && (W ? t() : V.on("init", t));
}
function r(t, e) {
B.sendChatMsg(t, e);
}
function s(t) {
var e = parseInt(w.getServerTime().toFixed(0), 10), i = e + "";
$.$("livechat").$("channel").$("log").$(i).write({
timestamp$int: e,
nick$string: $.$("livechat").$("profile").$("nick$string").getValue() || "",
display_name$string: $.$("livechat").$("profile").$("display_name$string").getValue() || "",
type$string: "chat.file.upload",
file_name$string: t.file_name || "",
file_type$string: t.file_type || "",
file_size$int: t.file_size || 0,
unverified$bool: !0,
__client$bool: !0
});
return e;
}
function a(t) {
if (t) {
var e = {};
"name" in t && (e.display_name$string = t.name + "");
"email" in t && (e.email$string = t.email + "");
"phone" in t && (e.phone$string = t.phone + "");
"department_id" in t && (e.department_id$int = t.department_id);
$.$$("livechat.profile").write(e);
return !0;
}
}
function _() {
N.clearIdentity();
I.clearAll();
$.$("livechat").$("ui").$("chat_button").$("unread_count$int").update(0);
$.$$("livechat.channel").update(null);
$.$$("profile").update(null);
}
function l() {
var t = $.$$("livechat.settings.cookie_law.enabled$bool").getValue(), e = $.$$("livechat.profile.allow_cookies$bool").getValue();
return !t || e !== !1;
}
function u() {
$.$$("connection").update({
reconnect$bool: !0
});
}
function d(t) {
if (!b) {
var e = $.$$("livechat.account.key$string").getValue(), i = $.$$("livechat.profile.mid$string").getValue();
t && e && i && window.open(T.getAuthLoginUrl(t, e, i), F + e, $.$$("livechat.ui.mobile$bool").getValue() ? "" : M);
}
}
function c() {
if ($.$$("livechat.profile.auth.type$string").getValue()) {
$.$$("livechat.profile.auth").write({
type$string: null
});
$.$$("livechat.profile").update({
display_name$string: "",
email$string: ""
});
} else $.$$("livechat.profile").write({
display_name$string: "",
email$string: ""
});
}
function h() {
$.$$("livechat.channel").write({
chatting$bool: !1
});
}
function f() {
return $.$$("livechat.ui.mockup$bool").getValue() ? 100 : L;
}
function p() {
var t = $.$("livechat").$("account").$("status$string").getValue();
return C(t, E) > -1;
}
function g() {
if (R.canStoreCookie()) {
var t = $.$("connection").getValue();
if (t && "status$string" in t) {
var e = new S("root");
e.update($.getValue());
for (var i = 0, n = P.length; i < n; i++) e.$$(P[i]).update(null);
var o, r;
for (o in O) if (O.hasOwnProperty(o)) {
switch (o) {
case "settings":
r = w.getServerSettings("settings");
break;

case "log":
r = e.$("livechat").$("channel").$("chatting$bool").getValue() ? T.getLastLogEntries($.$$(O[o]), A.CHAT_LOG_REMEMBER_COUNT) : null;
break;

default:
r = e.$$(O[o]).getValue();
}
I.DOM.saveVariable(o, r);
}
e = null;
}
}
}
function m(t) {
if ("object" != typeof t || !t) return t;
var e = {};
for (var i in t) t.hasOwnProperty(i) && (e[i] = m(t[i]));
t.hasOwnProperty(H) && (e[H] = m(t[H]));
return e;
}
var $, b, w, x = i(31), v = i(7), y = i(6), j = i(10), C = i(8), S = i(42), A = i(43), k = i(46), I = i(47), N = i(52), B = i(54), T = i(51), D = i(56), E = [ "banned", "invalid_account_key" ], O = {
last_host: "connection.server$string",
chatting: "livechat.channel.chatting$bool",
account_status: "livechat.account.status$string",
settings: "livechat.settings",
ui: "livechat.ui",
notification: "livechat.profile.notification",
departments: "livechat.departments",
log: "livechat.channel.log",
read: "livechat.channel.read",
features: "livechat.features",
gates: "livechat.gates"
}, P = [ "livechat.settings.cached$bool", "livechat.ui.chat_window.menu_stack_name$string", "livechat.ui.chat_window.pre_chat_form.submitted$bool", "livechat.ui.post_chat_form.stack_index$int", "livechat.ui.offline_form.stack_index$int", "livechat.ui.theme_reload$bool", "livechat.ui.theme_loaded$bool", "livechat.ui.popout$bool", "livechat.ui.mobile$bool", "livechat.ui.mobile_overlay$bool", "livechat.ui.mobile_notifications$bool", "livechat.ui.chat_button.fully_visible$bool", "livechat.ui.chat_window.chat_panel.file_toast.error$string", "livechat.ui.departments", "livechat.ui.visitor.authenticated$bool", "livechat.ui.visitor.auth_status$string" ], L = 0, W = !1, R = {
sendChatMsg: r,
sendFile: s,
updateProfile: a,
clearAll: _,
reconnect: u,
canStoreCookie: l,
doExternalLogin: d,
doExternalLogout: c,
endChat: h,
getLimit: f,
isAccountError: p
}, F = "zlivechatexternallogin_", M = "width=500,height=500,menubar=no,toolbar=no,location=no,personalbar=no,status=no,resizable=yes,scrollbars=no", V = y.extend({
init: e,
root: $,
livechat: R,
afterInit: o
}), H = "toString";
t.exports = V;
n(V, "meshim_widget_controllers_DataController");
return V;
}();
}).call(e, i(15), i(3));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t, e) {
this.name = t;
this.leaf = /\$[a-z]+$/.test(t);
this.parentNode = e;
this.listeners_value = [];
this.listeners_write = [];
if (!this.leaf) {
this.listeners_keys = [];
this.childNodes = {};
this.keys = {};
}
}
function o(t, e) {
return Object.prototype.hasOwnProperty.call(t, e);
}
function r(t) {
for (var e = "", i = 0; i < t.length; i++) e += /^[a-zA-Z_$][a-zA-Z0-9_$]*$/.test(t[i]) ? "." + t[i] : "[" + JSON.stringify(t[i]) + "]";
return e.substr(1);
}
var s = i(6);
n.prototype.fqname = function() {
return r(this.path());
};
n.prototype.path = function() {
for (var t = this, e = [ this.name ]; t = t.parentNode; ) e.unshift(t.name);
return e;
};
n.prototype.descend = function(t) {
var e, i, r, s = this;
"string" == typeof t && (t = t.split("."));
for (i = 0, r = t.length; i < r; i++) {
e = t[i];
o(s.childNodes, e) || (s.childNodes[e] = new n(e, s));
s = s.childNodes[e];
}
return s;
};
n.prototype.$$ = n.prototype.descend;
n.prototype.$ = function(t) {
return o(this.childNodes, t) ? this.childNodes[t] : this.childNodes[t] = new n(t, this);
};
n.prototype.update = function(t, e, i) {
var n, o;
if (null !== t) {
delete this.deleted;
o = this.parentNode;
for (;o && o.deleted; ) {
delete o.deleted;
o = o.parentNode;
}
}
if (this.leaf) {
this.value = t;
this.notifyListeners(t, e, i);
} else {
if (null == t) {
this.deleted = !0;
for (n in this.childNodes) this.childNodes.hasOwnProperty(n) && this.childNodes[n].update(null, !0, i);
} else for (n in t) t.hasOwnProperty(n) && this.$(n).update(t[n], !0, i);
this.notifyListeners(t, e, i);
}
};
n.prototype.write = function(t, e, i) {
if ("function" == typeof e) {
i = e;
e = !1;
}
var n = {
path: this.path(),
value: t
};
"function" == typeof i && (n.func = i);
this.update(t, e || !1, n);
};
n.prototype.bindWrite = function(t) {
this.listeners_write.push(t);
};
n.prototype.bindValue = function(t) {
this.listeners_value.push(t);
try {
t.call(this, this.getValue());
} catch (t) {
s.fire("error", t);
}
};
n.prototype.bindKeys = function(t) {
if (!this.leaf) {
this.listeners_keys.push(t);
try {
t.call(this, this.getKeys(), []);
} catch (t) {
s.fire("error", t);
}
}
};
n.prototype.unbindValue = function(t) {
for (var e = this.listeners_value.length; e--; ) if (this.listeners_value[e] == t) {
this.listeners_value.splice(e, 1);
return;
}
};
n.prototype.unbindKeys = function(t) {
if (!this.leaf) for (var e = this.listeners_keys.length; e--; ) if (this.listeners_keys[e] == t) {
this.listeners_keys.splice(e, 1);
return;
}
};
n.prototype.on = function(t, e) {
switch (t) {
case "value":
this.bindValue(e);
break;

case "keys":
this.bindKeys(e);
}
};
n.prototype.un = function(t, e) {
switch (t) {
case "value":
this.unbindValue(e);
break;

case "keys":
this.unbindKeys(e);
}
};
n.prototype.addListener = function(t, e) {
this.listeners[t].push(e);
};
n.prototype.removeListener = function(t, e) {
for (var i = this.listeners[t], n = i.length; n--; ) i[n] == e && i.splice(n, 1);
};
n.prototype.notifyListeners = function(t, e, i) {
var n, r, a;
if (!this.leaf) {
n = [];
r = [];
if (t) {
for (a in t) if (t.hasOwnProperty(a)) if (null !== t[a]) {
if (!o(this.keys, a)) {
this.keys[a] = 1;
n.push(a);
}
} else if (o(this.keys, a)) {
delete this.keys[a];
r.push(a);
}
} else for (a in this.keys) if (this.keys.hasOwnProperty(a)) {
delete this.keys[a];
r.push(a);
}
}
for (var _ = 0; _ < this.listeners_value.length; _++) try {
this.listeners_value[_].call(this, t);
} catch (t) {
s.fire("error", t);
}
if (i) for (_ = 0; _ < this.listeners_write.length; _++) try {
this.listeners_write[_].call(this, i);
} catch (t) {
s.fire("error", t);
}
if (!this.leaf) {
for (_ = 0; _ < this.listeners_keys.length; _++) try {
this.listeners_keys[_].call(this, n, r);
} catch (t) {
s.fire("error", t);
}
if (!e && this.parentNode) {
var l = {};
l[this.name] = t;
this.parentNode.notifyListeners(l, e, i);
}
}
};
n.prototype.getValue = function(t) {
if (t) return this.descend(t).getValue();
if (this.leaf) return this.value;
if (this.deleted) return null;
var e, i, n = {};
for (var o in this.childNodes) if (this.childNodes.hasOwnProperty(o) && null != (i = this.childNodes[o].getValue())) {
n[o] = i;
e = !0;
}
return e ? n : null;
};
n.prototype.hasKey = function(t) {
return o(this.keys, t);
};
n.prototype.getKeys = function() {
if (this.leaf) return null;
var t = [];
for (var e in this.keys) this.keys.hasOwnProperty(e) && t.push(e);
return t;
};
n.prototype.gc = function() {
var t = !0;
for (var e in this.childNodes) if (this.childNodes.hasOwnProperty(e)) {
var i = this.childNodes[e];
t = i.leaf ? !i.listeners_value.length && null == i.value && (delete this.keys[e], 
delete this.childNodes[e]) && t : i.gc() && (delete this.keys[e], delete this.childNodes[e]) && t;
}
return t && this.deleted && !this.listeners_keys.length && !this.listeners_value.length;
};
n.DataNode = n;
t.exports = n;
e(n, "jx_data_DataNode");
return n;
}();
}).call(e, i(3));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n() {
for (var t = o(), e = [ /\/?[?]/, /\/livechat\// ], i = [], n = 0; n < e.length; n++) {
i = t.split(e[n]);
if (i.length) break;
}
var r = i[1], s = i[0], a = /^(https?:)?\/\/[^\/]+/.exec(s), _ = s.replace(/^(https?:)?\/\//i, "").split("/")[0], l = _.replace(/(.+\.)(?=.+\..+)/, ""), u = i[0].split("/");
u = u.pop() == _ ? i[0] : u.join("/");
a = a && "zopim.com" !== _ ? a[0] : "https://v2.zopim.com";
return {
accountKey: r,
brandDomain: l,
baseURL: u,
rootURL: a
};
}
function o() {
if (window.$zopim && window.$zopim.s) return window.$zopim.s.src;
for (var t, e = document.getElementsByTagName("script"), i = /.*zopim.(com|net|org)\//, n = 0, o = e.length; n < o; n++) {
t = e[n].src || "";
if (i.test(t)) return t;
}
return "";
}
function r() {
var t = 'IN'.toUpperCase();
"<" == t.charAt(0) && (t = "geo");
return t;
}
function s(t) {
t && !$.test(t) && (t = null);
var e = "id." + (c.brandDomain || "zopim.com"), i = t || e;
return "https://" + i + "/authenticated/web/jwt";
}
var a = i(11), _ = i(1), l = i(7), u = i(44), d = i(45), c = n(), h = "https://v2.zopim.com/widget", f = h + "/images", p = h + "/sounds", g = h + "/fonts", m = u.map([ ".zopim.com", ".zopim.org", ".zdch.at" ], d.escape), $ = new RegExp("^[a-z][a-z0-9_-]*(\\.[a-z][a-z0-9_-]*)*(" + m.join("|") + ")(:\\d+)?$", "i");
a(_.baseURL, !0) && (_.baseURL = l.secureURL(c.baseURL));
var b = {
ASSETS_URL: h,
IMAGES_URL: f,
SOUNDS_URL: p,
FONTS_URL: g,
ASSETS_LEGACY: document.location.protocol + "//cdn.zopim.com/assets",
BRANDING_URL: "https://www.zopim.com",
AVATARS: {
CONCIERGE: f + "/avatar_simple_agent.png",
AGENT: f + "/avatar_simple_agent.png",
VISITOR: f + "/avatar_simple_visitor.png",
DEFAULT: f + "/avatar_simple_visitor.png"
},
ACCOUNT_KEY: c.accountKey,
BRAND_DOMAIN: c.brandDomain,
COUNTRY_CODE: r(),
AUTH_URL: "https://www.zopim.com/auth/$NAME/$KEY-$MID",
AUTH_LOGOUT_URL: "https://www.zopim.com/auth/logout/$KEY-$MID",
AUTH_SERVER_URL: s(),
IS_POPOUT: window.$zopim_popout,
POPOUT_WINDOW_PREFIX: "zlivechatpopout_",
POPOUT_URL: c.rootURL + "/widget/livechat.html",
CALLBACK_FILE_UPLOAD_PATH: "/client/widget/upload",
FILE_UPLOAD_PATH: "/client/widget/uploads",
FILE_UPLOAD_MAX: 20971520,
RESEND_MSG_TIMEOUT: 5e3,
FILE_REPLACE_SOURCE: /^(\s*https?\:\/\/v2(?:assets|uploads)\.zopim\.)com(\/)/i,
FILE_REPLACE_RESULT: "$1io$2",
CHAT_LOG_REMEMBER_COUNT: 10,
getAuthServerURL: s
};
t.exports = b;
e(b, "meshim_widget_Config");
return b;
}();
}).call(e, i(3));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t, e) {
return e ? s(t, e) : o(t);
}
function o(t) {
for (var e, i, n = t.length; n > 1; ) {
e = Math.floor(n-- * Math.random());
i = t[e];
t[e] = t[n];
t[n] = i;
}
return t;
}
function r(t, e) {
if (!t || t.length <= 0) return -1;
if (!e) return Math.floor(Math.random() * t.length);
e = a(t, e);
var i, n = 0;
for (i = e.length; i--; ) n += e[i];
var o = Math.random() * n, r = 0, s = e.length;
for (i = 0; i < s - 1; i++) {
r += e[i];
if (o <= r) return i;
}
return i;
}
function s(t, e) {
var i, n, o, r, s, _ = t.concat();
e = a(t, e);
t.length = 0;
s = 0;
for (i = e.length; i--; ) s += e[i];
o = Math.random() * s;
r = 0;
i = 0;
for (;_.length; ) {
r += e[i];
if (o <= r) {
s -= e[i];
n = _.splice(i, 1)[0];
e.splice(i, 1);
t.push(n);
o = Math.random() * s;
r = 0;
i = 0;
} else i++;
}
return t;
}
function a(t, e) {
if (l(e)) {
if (e.length === t.length) return e.concat();
throw new window.Error("Invalid weights array: length does not match");
}
if (u(e)) return _(t, e);
throw new window.Error("Invalid weights supplied");
}
function _(t, e, i) {
var n, o, r;
if (!l(t)) throw new TypeError(" arr is not an array");
var s = Object(t), a = s.length >>> 0;
if (!u(e)) throw new TypeError(e + " is not a function");
arguments.length > 2 && (n = i);
o = new Array(a);
r = 0;
for (;r < a; ) {
var _, d;
if (r in s) {
_ = s[r];
d = e.call(n, _, r, s);
o[r] = d;
}
r++;
}
return o;
}
var l = i(22), u = i(10), d = {
shuffle: n,
random_index: r,
map: _
};
t.exports = d;
e(d, "meshim_common_ArrayUtils");
return d;
}();
}).call(e, i(3));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
var i = "[a-z0-9!#$%&'*+\\/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+\\/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+([a-z0-9][a-z0-9-]*[a-z0-9])", n = "(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)", o = {
email: new RegExp("^" + i + "$", "i"),
ip_token: new RegExp("^" + n + "$"),
ip: new RegExp("^(?:" + n + "\\.){3}" + n + "$"),
tld: /^(AERO|ARPA|ASIA|A[CDEFGILMNOQRSTUWXZ]|BIZ|B[ABDEFGHIJMNORSTVWYZ]|CAT|COM|COOP|C[ACDFGHIKLMNORUVXYZ]|D[EJKMOZ]|EDU|E[CEGRSTU]|F[IJKMOR]|GOV|G[ABDEFGHILMNPQRSTUWY]|H[KMNRTU]|INFO|INT|I[DELMNOQRST]|JOBS|J[EMOP]|K[EGHIMNPRWYZ]|L[ABCIKRSTUVY]||MIL|MOBI|MUSEUM|M[ACDEGHKLMNOPQRSTUVWXYZ]|NAME|NET|N[ACEFGILOPRUZ]|ORG|OM|PRO|P[AEFGHKLMNRSTWY]|QA|R[EOSUW]|S[ABCDEGHIJKLMNORTUVYZ]|TEL|TRAVEL|T[CDFGHJKLMNOPRTVWZ]|U[AGKSYZ]|V[ACEGINU]|W[FS]|XN|Y[ET]|Z[AMW])$/i,
search: {
email: new RegExp(i, "ig"),
email_lws: new RegExp("(^|\\s+)" + i, "ig"),
hurl: /(^|\s+)(?:(?:https?|ftps?):\/\/)(?:\S+)/gi,
url: /(^|\s+)(?:[\w-]+\.)+(\w{2,})(?::[0-9]+)?(?:\/\S*)?/g,
phone_number: /(?:^|\s+)(?:(?:\+?\d{1,3}|\(\d{1,3}\))([-.\s])?)?\d{3,10}(?:([-.\s])\d{3,10})?/gi
},
escape: function(t) {
return t.replace(/[.*+?^${}()|[\]\\]/g, "\\$&");
}
};
t.exports = o;
e(o, "meshim_common_Regex");
return o;
}();
}).call(e, i(3));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
var n = i(23), o = {
livechat: {
timestamp$int: +new Date(),
settings: {
file_sending: {
enabled$bool: !0
},
behavior: {
do_not_display$bool: !1
},
theme: {
name$string: "simple",
message_type$string: "bubble_avatar",
colors: {
placeholder$string: "_"
},
chat_button: {
position$string: "br",
position_mobile$string: "br"
},
chat_window: {
position$string: "br",
size$string: "medium",
profile_card: {
display_avatar$bool: !0,
display_rating$bool: !0,
display_title_name$bool: !0
},
use_banner$bool: !0,
title_bar: {
hide_minimize$bool: !1,
hide_popout$bool: !1
}
},
branding: {
type$string: "icon_font_zopim"
}
},
greetings: {
online$string: n(78),
offline$string: n(79)
},
banner: {
enabled$bool: !0,
layout$string: "image_right",
text$string: n(80),
image_path$string: "",
image_data$string: ""
},
chat_button: {
hide_when_offline$bool: !1
},
chat_window: {
mobile_mode$string: "popout",
title_bar: {
title$string: n(81),
status_messages: {
online$string: n(82),
away$string: n(83),
offline$string: n(84)
}
}
},
login: {
allowed_types: {
email$bool: !0,
facebook$bool: !0,
twitter$bool: !1,
google$bool: !0
},
phone_display$bool: !1,
restrict_profile$bool: !1
},
concierge: {
display_name$string: n(85),
title$string: n(86),
avatar_path$string: "",
avatar_data$string: "",
greeting: {
enabled$bool: !1,
message$string: n(87)
}
},
branding: {
hide_branding$bool: !1,
hide_favicon$bool: !1,
custom_favicon_path$string: ""
},
language: {
language$string: "--"
},
cookie_law: {
enabled$bool: !1
},
sound: {
disabled$bool: !1
},
popout: {
enabled$bool: !0
},
rating: {
enabled$bool: !0
},
end_chat_menu: {
enabled$bool: !0,
message$string: ""
},
emoticons: {
enabled$bool: !1
},
bubble: {
enabled$bool: !0,
title$string: n(88),
text$string: n(89)
},
forms: {
pre_chat_form: {
required$bool: !1,
profile_required$bool: !1,
message$string: "",
form: {
0: {
name$string: "name",
required$bool: 0
},
1: {
name$string: "email",
required$bool: 0
},
2: {
label$string: n(90),
name$string: "department",
required$bool: 0,
type$string: "department"
},
3: {
label$string: n(91),
name$string: "message",
required$bool: 0,
type$string: "textarea"
},
4: {
label$string: n(92),
name$string: "phone",
required$bool: 0,
type$string: "text",
hidden$bool: !0
}
}
},
offline_form: {
message$string: n(93),
message_disabled$string: n(94),
post_submit_message$string: n(95),
profile_required$bool: !0,
form: {
0: {
name$string: "name",
required$bool: 1
},
1: {
name$string: "email",
required$bool: 1
},
2: {
label$string: n(96),
name$string: "message",
required$bool: 1,
type$string: "textarea"
},
3: {
label$string: n(97),
name$string: "phone",
required$bool: 0,
type$string: "text",
hidden$bool: !0
}
}
},
post_chat_form: {
header$string: n(98),
message$string: n(99),
comments_enabled$bool: !0,
comments_messages: {
good: {
message$string: n(100),
placeholder$string: n(101)
},
bad: {
message$string: n(102),
placeholder$string: n(103)
}
}
},
card_form: {}
}
}
}
};
t.exports = o;
e(o, "meshim_widget_controllers_DefaultDataNode");
return o;
}();
}).call(e, i(3));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n() {
j = x.ACCOUNT_KEY;
}
function o() {
if (x.IS_POPOUT) return w.get(A) || $().get("mid");
var t = d();
return t ? t : w.get(S) || "";
}
function r(t) {
w.set(S, t, {
path: "/",
ttl: 365,
domain: g
});
}
function s() {
w.remove(S, {
path: "/",
domain: g
});
}
function a() {
var t = c();
if ("boolean" == typeof t) return t;
var e = w.get(k);
e = parseInt(e, 10);
return 0 !== e && (1 === e || void 0);
}
function _() {
w.remove(k, {
path: "/",
domain: g
});
}
function l(t) {
t = m(t);
t = t ? 1 : 0;
w.set(k, t, {
path: "/",
ttl: 365,
domain: g
});
}
function u() {
s();
b.remove(C);
}
function d() {
var t = w.getJSONCookie("__zlcid");
w.remove("__zlcid", {
path: "/"
});
if (t.mID) return t.mID;
var e = h("__zlcstore");
w.remove("__zlcstore", {
path: "/",
domain: g
});
return e && e.mID ? e.mID : void 0;
}
function c() {
var t, e = h("__zlcprivacy");
if ("boolean" == typeof e) {
t = e;
l(e);
}
return t;
}
function h(t) {
var e = w.getJSONCookie(t);
return e[j];
}
function f(t, e) {
var i = b.get(C) || {};
i[j] || (i[j] = {});
var n = i[j];
n[t] = e;
n.timestamp = +new Date();
b.set(C, i);
}
function p(t) {
var e = b.get(C) || {};
if (!e[j]) return {};
var i = e[j];
if (!i.timestamp) return i[t] || {};
var n = +new Date();
return n - i.timestamp > y ? {} : i[t];
}
var g, m = i(17), $ = i(29), b = i(48), w = i(50), x = i(43), v = i(51), y = 48e4, j = x.ACCOUNT_KEY, C = "__zlcstore", S = "__zlcmid", A = "__zlcpomid", k = "__zlcprivacy", I = window.location.hostname;
g = /\b(?:\d{1,3}\.){3}\d{1,3}/.test(I) ? I : v.getEffectiveTLD(I);
var N = {
init: n,
DOM: {
saveVariable: f,
getVariable: p
},
Cookie: w,
clearAll: u,
setIdentity: r,
getIdentity: o,
clearIdentity: s,
clearAllowCookieLaw: _,
getAllowCookieLaw: a,
setAllowCookieLaw: l
};
t.exports = N;
e(N, "meshim_widget_controllers_StorageController");
return N;
}();
}).call(e, i(3));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n() {
try {
return d in l && l[d];
} catch (t) {
return !1;
}
}
function o(t) {
return function() {
try {
var e = Array.prototype.slice.call(arguments, 0);
e.unshift(s);
h.appendChild(s);
s.addBehavior("#default#userData");
s.load(d);
var i = t.apply(_, e);
h.removeChild(s);
return i;
} catch (t) {}
};
}
function r(t) {
return t.replace(p, "___");
}
var s, a = i(49), _ = {}, l = window, u = l.document, d = "localStorage", c = "__storejs__";
_.disabled = !1;
_.set = function() {};
_.get = function() {};
_.remove = function() {};
_.clear = function() {};
_.transact = function(t, e, i) {
var n = _.get(t);
if (null == i) {
i = e;
e = null;
}
"undefined" == typeof n && (n = e || {});
i(n);
_.set(t, n);
};
_.getAll = function() {};
_.serialize = function(t) {
return a.stringify(t);
};
_.deserialize = function(t) {
if ("string" == typeof t) try {
return a.parse(t);
} catch (e) {
return t || void 0;
}
};
if (n()) {
s = l[d];
_.set = function(t, e) {
if (void 0 === e) return _.remove(t);
s.setItem(t, _.serialize(e));
return e;
};
_.get = function(t) {
return _.deserialize(s.getItem(t));
};
_.remove = function(t) {
s.removeItem(t);
};
_.clear = function() {
s.clear();
};
_.getAll = function() {
for (var t = {}, e = 0; e < s.length; ++e) {
var i = s.key(e);
t[i] = _.get(i);
}
return t;
};
} else if (u.documentElement.addBehavior) {
var h, f;
try {
f = new window.ActiveXObject("htmlfile");
f.open();
f.write('<script>document.w=window</script><iframe src="/favicon.ico"></frame>');
f.close();
h = f.w.frames[0].document;
s = h.createElement("div");
} catch (t) {
s = u.createElement("div");
h = u.body;
}
var p = new RegExp("[!\"#$%&'()*+,/\\\\:;<=>?@[\\]^`{|}~]", "g");
_.set = o(function(t, e, i) {
e = r(e);
if (void 0 === i) return _.remove(e);
t.setAttribute(e, _.serialize(i));
t.save(d);
return i;
});
_.get = o(function(t, e) {
e = r(e);
return _.deserialize(t.getAttribute(e));
});
_.remove = o(function(t, e) {
e = r(e);
t.removeAttribute(e);
t.save(d);
});
_.clear = o(function(t) {
var e = t.XMLDocument.documentElement.attributes;
t.load(d);
for (var i, n = 0; i = e[n]; n++) t.removeAttribute(i.name);
t.save(d);
});
_.getAll = o(function(t) {
for (var e, i = t.XMLDocument.documentElement.attributes, n = {}, o = 0; e = i[o]; ++o) {
var s = r(e.name);
n[e.name] = _.deserialize(t.getAttribute(s));
}
return n;
});
}
try {
_.set(c, c);
_.get(c) != c && (_.disabled = !0);
_.remove(c);
} catch (t) {
_.disabled = !0;
}
_.enabled = !_.disabled;
var g = _;
t.exports = g;
e(g, "meshim_common_DOMStorage");
return g;
}();
}).call(e, i(3));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t) {
return '"' + t.replace(d, o) + '"';
}
function o(t) {
return c[t] || "\\u" + ("0000" + t.charCodeAt(0).toString(16)).slice(-4);
}
function r(t) {
switch (typeof t) {
case "string":
return n(t);

case "number":
return isFinite(t) ? t.toString() : "null";

case "boolean":
return String(t);

case "object":
if (!t) return "null";
var e, i, o = [];
if (l(t)) {
for (e = 0, i = t.length; e < i; e++) o[e] = r(t[e]) || "null";
return "[" + o.join(",") + "]";
}
var s, a, _ = [];
for (s in t) t.hasOwnProperty(s) && _.push(s);
_.sort();
for (e = 0, i = _.length; e < i; e++) {
s = _[e];
a = r(t[s]);
a && o.push(n(s) + ":" + a);
}
if (o.length) return "{" + o.join(",") + "}";
}
}
function s(t, e, i) {
return e ? $[e] : String.fromCharCode(parseInt(i, 16));
}
function a(t) {
var e, i, n, o, r, a = t.match(g), _ = a.length, l = a[0];
"{" == l ? (e = {}, r = 1) : "[" == l ? (e = [], r = 1) : (e = [], r = 0, i = !0);
var u = [ e ];
for (_ = a.length; r < _; ++r) {
l = a[r];
switch (l.charCodeAt(0)) {
case 91:
o = u[0];
u.unshift(o[n || o.length] = []);
n = void 0;
break;

case 93:
u.shift();
break;

case 123:
o = u[0];
u.unshift(o[n || o.length] = {});
n = void 0;
break;

case 125:
u.shift();
break;

case 102:
o = u[0];
o[n || o.length] = !1;
n = void 0;
break;

case 110:
o = u[0];
o[n || o.length] = null;
n = void 0;
break;

case 116:
o = u[0];
o[n || o.length] = !0;
n = void 0;
break;

case 34:
l = l.substring(1, l.length - 1);
l.indexOf(w) !== -1 && (l = l.replace(m, s));
o = u[0];
if (void 0 == n) {
if (!(o instanceof Array)) {
n = l || b;
break;
}
n = o.length;
}
o[n] = l;
n = void 0;
break;

default:
o = u[0];
o[n || o.length] = +l;
n = void 0;
}
}
if (i) {
if (1 == u.length) return e[0];
} else if (!u.length) return e;
throw "error";
}
var _ = i(11), l = i(22), u = (i(8), !_(window) && window.JSON || {
parse: a,
stringify: r
});
u = {
parse: a,
stringify: r
};
var d = /[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g, c = {
"\b": "\\b",
"\t": "\\t",
"\n": "\\n",
"\f": "\\f",
"\r": "\\r",
"\\": "\\\\",
'"': '\\"'
}, h = "(?:-?\\b(?:0|[1-9][0-9]*)(?:\\.[0-9]+)?(?:[eE][+-]?[0-9]+)?\\b)", f = '(?:[^\\0-\\x08\\x0a-\\x1f"\\\\]|\\\\(?:["/\\\\bfnrt]|u[0-9A-Fa-f]{4}))', p = '(?:"' + f + '*")', g = new RegExp("(?:false|true|null|[\\{\\}\\[\\]]|" + h + "|" + p + ")", "g"), m = new RegExp("\\\\(?:([^u])|u(.{4}))", "g"), $ = {
'"': '"',
"/": "/",
"\\": "\\",
b: "\b",
f: "\f",
n: "\n",
r: "\r",
t: "\t"
}, b = new String(""), w = "\\";
t.exports = u;
e(u, "jx_data_JSON");
return u;
}();
}).call(e, i(3));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t) {
return "string" == typeof t && "" != t;
}
function o() {
var t, e, i, n, o = document.cookie, r = {};
if (!o || "string" != typeof o) return {};
o = o.split(/;\s/);
for (t = o.length; t--; ) try {
e = o[t].match(/^([^=]+)(=(.*))?$/);
if (!e) continue;
i = h(e[1]);
n = h(e[3] || "");
r[i] = n;
} catch (t) {}
return r;
}
function r(t) {
return n(t) ? o()[t] || null : null;
}
function s(t) {
var e = r(t), i = {};
try {
i = u.parse(e);
} catch (t) {}
return i && "object" == typeof i ? i : {};
}
function a(t, e, i) {
i = i || {};
var n = c(t) + "=" + c(e);
if ("ttl" in i) {
var o = new Date(), r = 24 * i.ttl * 60 * 60 * 1e3;
o.setTime(o.getTime() + r);
n += "; expires=" + o.toGMTString();
}
"path" in i && (n += "; path=" + i.path);
"domain" in i && (n += "; domain=" + i.domain);
i.secure && (n += "; secure");
document.cookie = n;
}
function _(t, e, i) {
"object" != typeof e && (e = {});
a(t, u.stringify(e), i);
}
function l(t, e) {
e = e || {};
e.ttl = -1;
a(t, "", e);
}
var u = i(49), d = {
set: a,
get: r,
getJSONCookie: s,
setJSONCookie: _,
remove: l
}, c = window.encodeURIComponent, h = window.decodeURIComponent;
t.exports = d;
e(d, "meshim_common_Cookie");
return d;
}();
}).call(e, i(3));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n() {
var t = document.documentElement;
return t.compareDocumentPosition ? function(t, e) {
t = t.dom || t;
e = e.dom || e;
return !!(16 & t.compareDocumentPosition(e));
} : t.contains ? function(t, e) {
t = t.dom || t;
e = e.dom || e;
var i = 9 === t.nodeType ? t.documentElement : t, n = e.parentNode;
return t === n || !!(n && 1 === n.nodeType && i.contains && i.contains(n));
} : function(t, e) {
t = t.dom || t;
e = e.dom || e;
for (;e = e.parentNode; ) if (e === t) return !0;
return !1;
};
}
function o(t, e) {
for (var i, n = document.createElement("div"), o = 0, r = R.length; o < r; o++) if (void 0 !== n.style[R[o]]) {
i = e[o];
break;
}
return i ? t ? function(t, e, n) {
t.autobind(e, i, n);
} : function(t, e, n) {
F && t.autounbind(e, i, n);
} : function() {};
}
function r() {
function t(t) {
for (var e = t.charAt(0).toUpperCase() + t.slice(1), n = (t + " " + W.join(e + " ") + e).split(" "), o = 0; o < n.length; o++) if (void 0 !== i[n[o]]) return !0;
return !1;
}
var e = document.createElement("div"), i = e.style;
return t;
}
function s(t, e) {
for (var i = {}, n = 0, o = e.length; n < o; n++) {
var r = e[n];
r in t && (i[r] = t[r]);
}
return i;
}
function a() {
for (var t, e, i = arguments.length, n = 1, o = arguments[0] || {}; n < i; n++) if (null != (t = arguments[n])) for (e in t) t.hasOwnProperty(e) && o !== t[e] && (o[e] = t[e]);
return o;
}
function _(t, e) {
for (var i in e) if (e.hasOwnProperty(i)) if (e[i] && e[i].constructor && e[i].constructor === Object) {
t[i] = t[i] || {};
_(t[i], e[i]);
} else t[i] = e[i];
return t;
}
function l(t, e) {
for (var i in e) if (e.hasOwnProperty(i)) {
if (!(i in t)) continue;
e[i] && e[i].constructor && e[i].constructor === Object ? l(t[i], e[i]) : delete t[i];
}
return t;
}
function u() {
if (void 0 === B) try {
B = d();
} catch (t) {}
return B;
}
function d() {
if (!window.getComputedStyle) return !1;
var t = document.createElement("div"), e = "border-box";
document.body.appendChild(t);
t.style.height = "10px";
t.style.padding = "5px";
t.style.boxSizing = e;
t.style.webkitBoxSizing = e;
t.style.mozBoxSizing = e;
var i = parseInt(window.getComputedStyle(t).height, 10);
document.body.removeChild(t);
return 10 != i;
}
function c(t) {
var e = t.getComputedStyle();
if ("auto" == e.height) return t.getHeight();
var i = parseInt(e.height, 10) || 0;
V.computedHeightBoxSizingBug() && (i += (parseInt(e.paddingTop, 10) || 0) + (parseInt(e.paddingBottom, 10) || 0) + (parseInt(e.borderTopWidth, 10) || 0) + (parseInt(e.borderBottomWidth, 10) || 0));
return i + "px";
}
function h(t) {
function e() {
this.addClass("hover");
}
function i() {
this.removeClass("hover");
}
if (T.bugs.noBoxSizing) {
t.on("mouseover", e);
t.on("mouseout", i);
}
}
function f(t, e) {
for (var i, n = e.split("."); n.length; ) {
i = n.shift();
D(t[i], !0) && (t[i] = {});
t = t[i];
}
return t;
}
function p(t, e) {
if (0 === e.indexOf(t.path)) {
for (var i, n = t.path.split(".").length, o = e.split(".").slice(n), r = t.update; o.length; ) {
i = o.shift();
if (!(i in r)) return;
r = r[i];
}
return r;
}
}
function g(t, e, i) {
t = t.split(".");
var n = t.pop();
if (n) {
for (var o = 0, r = t.length; o < r; o++) {
t[o] in i || (i[t[o]] = {});
i = i[t[o]];
}
i[n] = e;
}
}
function m(t) {
for (var e = "zte2095", i = t.split("."), n = "." + i.splice(i.length - 2, 2).join("."); i.length; ) {
var o = {
domain: n,
path: "/"
};
O.set(e, "1", o);
if ("1" == O.get(e)) {
O.remove(e, o);
break;
}
n = "." + i.pop() + n;
}
return n;
}
function $(t) {
return z.test(t);
}
function b(t) {
return H.test(t);
}
function w(t) {
if (t && "object" == typeof t) {
var e = [];
for (var i in t) t.hasOwnProperty(i) && e.push(i);
return e;
}
}
function x(t) {
if (window.Image) try {
var e = new window.Image();
e.onload = e.onerror = function() {
t(!(1 != this.width || 1 != this.height));
};
e.src = "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==";
} catch (e) {
t();
} else t();
}
function v() {
return T.isIE || /Trident\//.test(window.navigator.userAgent);
}
function y(t, e) {
t = parseInt(t, 10);
isNaN(t) && (t = 0);
var i = t < 0;
t = Math.abs(t).toString().split("");
for (var n = Math.max(e - t.length, 0); n--; ) t.unshift("0");
i && t.unshift("-");
return t.join("");
}
function j(t, e) {
function i(t, e, i) {
return i.replace("<hours>", t).replace("<minutes>", e);
}
function n(t, e) {
return t - Math[t > 0 ? "floor" : "ceil"](t / e) * e;
}
var o = E(0), r = E(1), s = E(2), a = "24" === e ? 24 : 12, _ = n(Math[t > 0 ? "floor" : "ceil"](t / 60), a), l = V.pad(Math.abs(t) % 60, 2);
if (24 === a) return i(V.pad(_, 2), l, o);
var u = 0 === _ ? 12 : _;
return Math.abs(t / 60) % 24 < 12 ? i(u, l, r) : i(u, l, s);
}
function C(t) {
return t && t.replace(P.FILE_REPLACE_SOURCE, P.FILE_REPLACE_RESULT);
}
function S(t, e) {
e = parseInt(e, 10);
if (!e) return t.getValue();
var i = t.getKeys(), n = i.length, o = {};
if (n <= e) return t.getValue() || o;
for (var r = 0; r < n; r++) i[r] = parseInt(i[r], 10);
i = i.sort().slice(-e);
var s, a = t.getValue();
if (!a) return o;
for (r = 0, n = i.length; r < n; r++) {
s = i[r];
o[s] = a[s];
}
return o;
}
function A(t, e) {
var i;
if (t.leaf && t.parentNode) {
i = {};
i[t.name] = e;
t.parentNode.write(i);
} else t.write(e);
}
function k() {
if (T.isNewIE) try {
"body" !== document.activeElement.nodeName.toLowerCase() && document.activeElement.focus();
} catch (t) {}
}
function I() {
window.console && window.console.warn && window.console.warn("The Zopim widget embed code is invalid. Please email chat@zendesk.com with your account key: " + P.ACCOUNT_KEY);
}
function N(t, e, i) {
return P.AUTH_URL.replace("$NAME", t).replace("$KEY", e).replace("$MID", i);
}
var B, T = i(7), D = i(11), E = i(23), O = i(50), P = i(43), L = "-webkit- -moz- -o- -ms- ".split(" "), W = "webkit Moz O ms ".split(" "), R = [ "transition", "MozTransition", "OTransition", "WebkitTransition" ], F = [ "transitionend", "transitionend", "otransitionend", "webkitTransitionEnd" ], M = [ "animationend", "animationend", "oanimationend", "webkitAnimationEnd" ], V = {
contains: n(),
onTransitionEnd: o(!0, F),
unTransitionEnd: o(!1, F),
onAnimationEnd: o(!0, M),
unAnimationEnd: o(!1, M),
css_prefixes: L,
cssom_prefixes: W,
isStyleSupported: r(),
pick: s,
shallowExtend: a,
fullyExtend: _,
fullyDelete: l,
computedHeightBoxSizingBug: u,
getComputedHeight: c,
hoverFix: h,
getEffectiveTLD: m,
descendsObj: f,
insertObj: g,
getValueByReference: p,
isDefaultName: b,
getKeys: w,
supportsDataURI: x,
isIE: v(),
pad: y,
formatMinutesAsHours: j,
replaceFileHostname: C,
getLastLogEntries: S,
writeNode: A,
isAgentNick: $,
refocusActiveElement: k,
warnBadEmbed: I,
getAuthLoginUrl: N
}, H = /^Visitor [0-9]{3,}$/, z = /^agent:[0-9]+/i;
t.exports = V;
e(V, "meshim_widget_utils_Utils");
return V;
}();
}).call(e, i(3));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t) {
f = t;
}
function o(t) {
j = t ? b.getAuthServerURL(t) : b.AUTH_SERVER_URL;
}
function r(t) {
c = t;
}
function s() {
return c;
}
function a(t) {
if (h) {
var e = +new Date(), i = e - h.issued_at, n = 6e4, o = h.expires_in - n;
i >= o ? u(function(e) {
if (e) {
f && f.$("visitor").$("auth_status$string").update("failed");
t(e, null);
} else t(null, h.id_token);
}) : t(null, h.id_token);
} else t(null, null);
}
function _() {
c = void 0;
h = void 0;
f && f.$("visitor").$("authenticated$bool").update(!1);
}
function l() {
return !!h;
}
function u(t) {
c && c(g.once(function(e) {
e && p(e) ? w.exchangeToken({
account_key: b.ACCOUNT_KEY,
auth_url: j,
site_jwt: e,
state: h && h.state ? h.state : null
}, function(e, i) {
h = i;
f && f.$("visitor").$("authenticated$bool").update(!e);
t(e);
}) : t({
reason: "invalid jwt in callback"
});
}));
}
function d(t, e) {
var i = new m();
i.on("success", function(t) {
"object" != typeof t && e && e({
reason: x
});
t.success ? e && e(void 0, {
issued_at: +new Date(),
id_token: t.id_token,
expires_in: 1e3 * t.expires_in,
state: t.state
}) : e && e({
reason: y,
details: t.details
});
});
i.on("error", function() {
e && e({
reason: v
});
});
var n = {
account_key: t.account_key,
token: t.site_jwt,
format: "dataiframe"
};
t.state && (n.state = t.state);
i.load(t.auth_url + "?" + $.buildQuery(n));
}
var c, h, f, p = i(20), g = i(53), m = i(12), $ = i(29), b = i(43), w = {
authenticate: u,
isAuthenticated: l,
getSiteJWTFunc: s,
retrieveIDToken: a,
clearIdentity: _,
setOverrideHost: o,
setSiteJWTFunc: r,
setDataNode: n,
exchangeToken: d
}, x = "format error", v = "network/security error", y = "jwt verification error", j = b.AUTH_SERVER_URL;
t.exports = w;
e(w, "meshim_widget_controllers_IdentityController");
return w;
}();
}).call(e, i(3));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t, e) {
if (!r(t)) throw new TypeError("FunctionUtils.bind - what is trying to be bound is not callable");
if (r(t.bind) && !("prototype" in t.bind)) return t.bind.apply(t, a.call(arguments, 1));
var i = a.call(arguments, 2), n = function() {}, o = function() {
return t.apply(this instanceof n && e ? this : e, i.concat(a.call(arguments)));
};
n.prototype = o.prototype;
o.prototype = new n();
return o;
}
function o(t) {
var e;
return function() {
if (!e) {
e = !0;
return t.apply(this, a.call(arguments));
}
};
}
var r = i(10), s = {
bind: n,
once: o
}, a = Array.prototype.slice;
t.exports = s;
e(s, "jx_core_FunctionUtils");
return s;
}();
}).call(e, i(3));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t, e) {
d = t;
c = e;
d.$("livechat").$("channel").$("department_id$int").on("value", function(t) {
t && (h = t);
});
}
function o(t, e, i) {
var n = parseInt(e, 10) || parseInt(c.getServerTime().toFixed(0), 10), o = n + "", r = d.$("livechat").$("profile"), s = h, a = (t.msg || "") + "";
"department" in t && (s = t.department);
d.$("livechat").$("channel").$("log").$(o).write({
timestamp$int: n,
type$string: "chat.msg",
msg$string: a,
nick$string: r.$("nick$string").getValue() || "",
display_name$string: r.$("display_name$string").getValue() || "",
department_id$int: s,
unverified$bool: !0,
__client$bool: !0
}, i);
}
function r(t, e) {
var i = parseInt(e, 10) || parseInt(c.getServerTime().toFixed(0), 10), n = i + "";
d.$("livechat").$("channel").$("log").$(n).write({
timestamp$int: i,
nick$string: d.$("livechat").$("profile").$("nick$string").getValue() || "",
display_name$string: d.$("livechat").$("profile").$("display_name$string").getValue() || "",
type$string: "chat.file.upload",
file_name$string: t.file_name || "",
file_type$string: t.file_type || "",
file_size$int: t.file_size || 0,
unverified$bool: !0,
__client$bool: !0
});
return i;
}
function s(t, e) {
function i(t) {
if ("ok" !== t.raw.__status) return e(new window.Error(u(t.raw.error)));
if (!t.raw.data || "chat.file" !== t.raw.data.type) return e(new window.Error("INTERNAL_ERROR"));
e(null, w.pick(t.raw.data, [ "mime_type", "name", "size", "url" ]));
}
var n = y._validateAndPrepareData([ t ]);
e = g.once(e);
if (f(n)) p(function() {
e(new window.Error(n));
}); else {
var o = c.registerCallback(i), r = "https://" + n.host + m.CALLBACK_FILE_UPLOAD_PATH, s = {
ts: parseInt(c.getServerTime().toFixed(0), 10),
__messageID: o
}, a = {
"X-Zopim-MID": n.mid,
"X-Zopim-UID": n.uid
}, _ = {
error: function() {
e(new window.Error("CONN_ERROR"));
},
load: function() {
if (200 !== this.status) {
var t;
try {
t = JSON.parse(this.responseText);
} catch (t) {}
e(t && t.error ? new window.Error(u(t.error)) : new window.Error("INTERNAL_ERROR"));
}
}
};
y._uploadFiles(n.form_data, r, s, a, _);
}
}
function a(t, e) {
var i = y._validateAndPrepareData(t);
if (f(i)) return i;
var n = r({
file_name: i.name,
file_type: i.type,
file_size: i.size
}, e), o = "https://" + i.host + m.FILE_UPLOAD_PATH, s = {
ts: n
}, a = {
"X-Zopim-MID": i.mid,
"X-Zopim-UID": i.uid
};
y._uploadFiles(i.form_data, o, s, a);
}
function _(t) {
if (!window.FormData) return "NOT_SUPPORTED";
var e = d.$("livechat"), i = e.$("settings").$("file_sending"), n = e.$("settings").$("package"), o = i.$("enabled$bool").getValue(), r = (i.$("allowed_extensions$string").getValue() || "").trim().replace(/\s*,\s*/g, ",").split(","), s = n.$("color_customization_enabled$int").getValue() || n.$("widget_customization_enabled$int").getValue(), a = e.$("profile").$("mid$string").getValue(), _ = e.$("profile").$("uid$string").getValue(), l = c.getHost(), u = new window.FormData(), h = [], f = [], p = 0;
if (!l) return "CONN_ERROR";
if (!s) return "INVALID_PLAN";
if (!o) return "NOT_ALLOWED";
for (var g = 0, b = t.length; g < b; g++) {
if (!$.isValidType(t[g].name, r)) return "INVALID_EXTENSION";
h.push(t[g].name);
f.push(t[g].type);
p += t[g].size || 0;
u.append("file_" + t[g].name, t[g]);
}
return p > m.FILE_UPLOAD_MAX ? "EXCEED_SIZE_LIMIT" : {
form_data: u,
name: h.join(", "),
type: f.join(", "),
size: p,
host: l,
mid: a,
uid: _
};
}
function l(t, e, i, n, o) {
var r = new window.XMLHttpRequest(), s = e + (Object.keys(i).length ? "?" + b.buildQuery(i) : "");
if (r.upload) {
r.open("POST", s, !0);
for (var a in n) n.hasOwnProperty(a) && r.setRequestHeader(a, n[a]);
for (var _ in o) o.hasOwnProperty(_) && r.addEventListener(_, o[_]);
r.send(t);
}
}
function u(t) {
return v[t] || "UNKNOWN_ERROR";
}
var d, c, h, f = i(20), p = i(13), g = i(53), m = i(43), $ = i(55), b = i(29), w = i(51), x = {
NOT_SUPPORTED: "NOT_SUPPORTED",
NOT_ALLOWED: "NOT_ALLOWED",
CONN_ERROR: "CONN_ERROR",
INVALID_EXTENSION: "INVALID_EXTENSION",
INVALID_PLAN: "INVALID_PLAN",
EXCEED_SIZE_LIMIT: "EXCEED_SIZE_LIMIT",
INTERNAL_ERROR: "INTERNAL_ERROR",
UNKNOWN_ERROR: "UNKNOWN_ERROR"
}, v = {
TOO_LARGE: "EXCEED_SIZE_LIMIT",
ILLEGAL_TYPE: "INVALID_EXTENSION",
NO_SESSION: "INTERNAL_ERROR",
UNEXPECTED_ERROR: "INTERNAL_ERROR",
UNABLE_TO_GET_SETTINGS: "INTERNAL_ERROR",
S3_UPLOAD_ERROR: "INTERNAL_ERROR",
NO_GATES: "INTERNAL_ERROR",
FILE_UPLOADS_DISABLED: "NOT_ALLOWED",
FILE_UPLOADS_TEMPORARILY_DISABLED: "INVALID_PLAN"
}, y = {
FILE_SENDING_ERRORS: x,
init: n,
sendChatMsg: o,
sendFiles: a,
sendFileWithCallback: s,
_validateAndPrepareData: _,
_uploadFiles: l
};
t.exports = y;
e(y, "meshim_widget_controllers_ChatUtils");
return y;
}();
}).call(e, i(3));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
var n = i(23), o = i(8), r = i(11), s = n(104), a = n(105), _ = n(106), l = n(107), u = n(108), d = n(109), c = {};
c.ERR_SIZE = "TOO_LARGE";
c.ERR_FORMAT = "ILLEGAL_TYPE";
c.ERR_DISABLED = "FILE_UPLOADS_TEMPORARILY_DISABLED";
var h = /^(x-|vnd\.)/i, f = [ "png", "jpg", "jpeg", "gif", "txt", "pdf" ], p = {}, g = n(110);
p[c.ERR_SIZE] = s;
p[c.ERR_FORMAT] = a;
p[c.ERR_DISABLED] = _;
c.prettySize = function() {
var t = 1e3, e = 1024, i = [ l, u, d ], n = [ 0, 1, 2 ];
return function(o, r) {
o = Math.max(parseInt(o, 10) || 0, 0);
r = r || {};
for (var s, a = r.base2 ? e : t, _ = i.length; _--; ) {
s = Math.pow(a, _);
if (o >= s) return i[_].replace("<size>", (o / s).toFixed(n[_]));
}
};
}();
c.prettyType = function(t, e, i) {
i = i || window.Infinity;
var n = t.split("/")[1];
n = n && n.replace(h, "");
if (n && n.length < i) return n.toLowerCase();
n = e.split(".").pop();
return (n || "").toLowerCase();
};
c.isValidType = function(t, e) {
if (t) {
e = e || f;
var i = t.substr(t.lastIndexOf(".") + 1).toLowerCase();
return o(i, e) !== -1;
}
};
c.prettyError = function(t, e) {
var i = t in p ? p[t] : g;
r(e) || (i = i.replace("<size>", c.prettySize(e || 5e6)));
return i;
};
c.blobToFile = function(t, e, i) {
t.lastModifiedDate = new Date();
t.name = e;
return new window.File([ t ], e, {
type: i
});
};
c.getExtension = function(t) {
var e = t.lastIndexOf(".");
return e === -1 ? null : t.substr(e + 1).toLowerCase();
};
t.exports = c;
e(c, "meshim_common_FileUtil");
return c;
}();
}).call(e, i(3));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n() {
for (var t, e = [ /(android [2-9])|(iemobile\/(?![5-9]))|(ucbrowser)|(Webkit.+Chrome)|(ipod|iphone|ipad).+applewebkit.+(CriOS|Version\/[5-9]|Mobile)/i ], i = 0, n = e.length; i < n; i++) if (e[i].test(I)) {
t = !0;
break;
}
/android.+ucbrowser/i.test(I) && (t = !1);
return t;
}
function o() {
var t, e = window.document.documentElement.clientWidth;
t = r() ? e > D : e > E;
return t;
}
function r() {
return window.document.documentElement.clientWidth > window.document.documentElement.clientHeight;
}
function s(t) {
}
function a() {
return B && v.test(N);
}
function _() {
return B && j.test(N);
}
function l() {
return B && /(iemobile|windows phone)/i.test(I);
}
function u() {
return B && v.test(N) && y.test(I);
}
function d() {
return B && v.test(N) && !y.test(I);
}
function c() {
return B && /ucbrowser/i.test(I);
}
function h() {
return B && /(opera|opr).*android|android.*(opera|opr)/i.test(I);
}
function f() {
return B && j.test(N) && !C.test(I);
}
function p() {
return B && j.test(N) && C.test(I);
}
function g() {
if (_()) {
var t = I.match(S);
return t && parseFloat(t[1].split("_").slice(0, 2).join("."));
}
}
function m() {
var t = window.document.documentElement.clientWidth, e = window.document.documentElement.clientHeight, i = t / e > k, n = window.screen.width, o = window.screen.height, r = !1;
if (i && n < o) {
r = !0;
n = window.screen.height;
o = window.screen.width;
}
var s = window.innerWidth, a = t / n;
window.devicePixelRatio && d() && !b.isIOS ? a *= window.devicePixelRatio : l() && (a *= 1.5);
var _ = t / s / a;
_ = (_ / T.MOBILE_ZOOM_ADDITIONAL).toFixed(2);
return _;
}
function $() {
var t = window, e = t.document.documentElement, i = t.document.body, n = null, o = {
top: 0,
left: 0
};
w(e.getBoundingClientRect) && (w(t.getComputedStyle) ? "relative" == t.getComputedStyle(i).position ? n = i : "relative" == t.getComputedStyle(e).position && (n = e) : i.currentStyle ? "relative" == i.currentStyle.position ? n = i : "relative" == e.currentStyle.position && (n = e) : "relative" == i.style.position ? n = i : "relative" == e.style.position && (n = e));
if (n) {
var r = n.getBoundingClientRect();
o.top = r.top + t.pageYOffset - e.clientTop;
o.left = r.left + t.pageXOffset - e.clientLeft;
}
return o;
}
var b = i(7), w = i(10), x = i(57), v = /google inc\./i, y = /chrome/i, j = /apple computer, inc\./i, C = /crios/i, S = /OS ([_0-9]+) like Mac OS X/i, A = 1.2, k = 1.45, I = window.navigator.userAgent || "", N = window.navigator.vendor || "", B = x(), T = {
isMobileBrowser: B,
isMobileWhitelist: n(),
isMobileTablet: o(),
isAndroid: a(),
isIOS: _(),
isWP: l(),
isIEMobile: l(),
isChromeIOSMobile: p(),
isSafariIOSMobile: f(),
isChromeAndroidMobile: u(),
isOperaAndroidMobile: h(),
isNativeAndroidMobile: d(),
isUCBrowserMobile: c(),
iOSVersion: g(),
hideVirtualKeyboard: s,
checkLandscape: r,
getZoomLevel: m,
getOffset: $,
MOBILE_ZOOM_ADDITIONAL: A
}, D = 640, E = 320;
t.exports = T;
e(T, "meshim_widget_utils_Mobile");
return T;
}();
}).call(e, i(3));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function i() {
var t = window.navigator.userAgent || "", e = window.navigator.vendor || "", i = /(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino|android|ipad|playbook|silk/i, n = /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i, o = t || e || window.opera, r = i.test(o) || n.test(o.substr(0, 4));
return r;
}
t.exports = i;
e(i, "meshim_widget_utils_isMobileBrowser");
return i;
}();
}).call(e, i(3));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n() {
l = C.root;
u = l.$("livechat");
d = u.$("ui");
h = d.$("chat_notification").$("display$bool");
f = d.$("chat_window").$("display$bool");
p = d.$("chat_button").$("display$bool");
g = d.$("mobile_notifications$bool");
c = d.$("mobile_overlay$bool");
h.on("value", k);
f.on("value", k);
p.on("value", k);
g.on("value", k);
}
function o() {
if (v === !0) return !0;
v = g.getValue() ? $ && b && m && !y(f.getValue()) && !y(h.getValue()) && !y(p.getValue()) : c.getValue() ? $ && b && !y(f.getValue()) && !y(p.getValue()) : b && !y(p.getValue());
return v;
}
function r() {
if (w === b && x === $) {
w = $;
$.moveUp(A);
b.moveDown(A);
} else if (w) w.moveDown(function(t) {
if (!t) if (x) {
w = x;
x.moveUp();
} else w = null;
}); else {
w = x;
x && x.moveUp();
}
}
function s(t) {
$ = t;
k();
}
function a(t) {
m = t;
k();
}
function _(t) {
b = t;
k();
}
var l, u, d, c, h, f, p, g, m, $, b, w, x, v, y = i(11), j = i(59), C = (i(53), 
i(41)), S = {
init: n,
registerChatButton: _,
registerChatNotification: a,
registerChatWindow: s
}, A = function() {}, k = j.debounce(function() {
if (o()) {
var t = f.getValue(), e = h.getValue(), i = p.getValue(), n = t && $ || e && m || i && b || null;
if (!(t + e + i > 1) && x !== n) {
x = n;
r();
}
}
});
t.exports = S;
e(S, "meshim_widget_controllers_MobileViewsController");
return S;
}();
}).call(e, i(3));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t, e) {
function i() {
a = !a;
t.apply(o, n);
}
var n, o, r, s, a = !0;
return function() {
n = Array.prototype.slice.call(arguments);
o = this;
if (a) {
s = setTimeout(function() {
a = !0;
}, e);
return i();
}
s && clearTimeout(s);
r && clearTimeout(r);
r = setTimeout(i, e);
};
}
function o(t, e) {
function i() {
t.apply(o, n);
}
var n, o, r;
return function() {
r && clearTimeout(r);
n = Array.prototype.slice.call(arguments);
o = this;
r = setTimeout(i, e);
};
}
function r(t, e) {
function i() {
s = +new Date();
r = null;
t.apply(o, n);
}
var n, o, r, s = 0;
return function() {
n = Array.prototype.slice.call(arguments);
o = this;
if (!r) {
var t = +new Date() - s;
t >= e ? i() : r = setTimeout(i, e - t);
}
};
}
function s(t, e) {
function i() {
s = +new Date();
n = o.length > 1 ? setTimeout(i, e) : null;
t.apply(r.shift(), o.shift());
}
var n, o = [], r = [], s = 0;
return function() {
o.push(Array.prototype.slice.call(arguments));
r.push(this);
if (!n) {
var t = +new Date() - s;
t >= e ? i() : n = setTimeout(i, e - t);
}
};
}
var a = (i(53), {
debounceExceptFirst: n,
debounce: o,
throttle: r,
queue: s
});
t.exports = a;
e(a, "meshim_common_AsyncUtils");
return a;
}();
}).call(e, i(3));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
var n, o = i(7), r = i(31), s = i(61), a = i(41), _ = i(62), l = i(46), u = i(74), d = i(81), c = i(51), h = {}, f = {}, p = "standard", g = "popout", m = "mobile", $ = 20, b = !1;
h.init = function() {
function t(t) {
"fast_init" != t || b || i();
}
function e(t) {
if (!("reattached" != t && "cookie_law" != t || b)) {
b = !0;
i();
}
}
function i() {
h(!0);
}
function h(t) {
var e = y.getValue();
if (e && e.name$string && (x != e.name$string || t)) {
var i = u[e.name$string];
if (i && i.generate) {
var o, h = $, b = [], v = [];
do {
b.push(i.defaults || {});
v.push(i.overrides || {});
} while (i._super && (i = i._super));
for (var j, C = s.clone(l.livechat.settings.theme), S = {}; b.length; ) {
j = b.pop();
c.fullyExtend(C, j);
c.fullyExtend(S, j);
}
var A = _.getServerSettings("settings");
A = A && A.theme;
c.fullyExtend(C, A || e);
for (;v.length; ) c.fullyExtend(C, v.pop());
c.fullyExtend(C, n.getValue());
C.name$string = e.name$string;
N && c.fullyExtend(C, d.popout);
B && c.fullyExtend(C, d.mobile);
D && c.fullyExtend(C, d.mobile_overlay);
if (!a.livechat.getLimit()) {
C.colors.banner$string = C.colors.primary$string;
S.colors && S.colors.bubble$string && (C.colors.bubble$string = S.colors.bubble$string);
}
x = C.name$string;
var k;
s.equal(C, f) && (k = !0);
f = C;
y.update(C);
if (!k) {
i = u[x];
var I = $;
if (T) {
do r.delPalette(I); while (I--);
} else r.delPalettes();
do {
o = i.generate(C);
B && o[m] && r.setPalette(o[m], "widget_mobile_" + h, h--);
N && o[g] && r.setPalette(o[g], "widget_popout_" + h, h--);
r.setPalette(o[p], "widget_" + h, h--);
} while (i._super && (i = i._super));
r.on("write", w);
r.reload();
}
}
}
}
function w() {
A.update(!0);
r.un("write", w);
}
var x, v = a.root, y = v.$("livechat").$("settings").$("theme"), j = y.$("name$string"), C = v.$("livechat").$("ui"), S = C.$("theme_reload$bool"), A = C.$("theme_loaded$bool"), k = v.$("connection").$("message$string"), I = v.$("connection").$("status$string"), N = C.$("popout$bool").getValue(), B = C.$("mobile$bool").getValue(), T = C.$("mockup$bool").getValue(), D = C.$("mobile_overlay$bool").getValue();
n = v.$("tmp").$("api_settings").$("settings").$("theme");
o.isIE <= 9 && r.generateAll("no_reload");
k.bindValue(t);
I.bindValue(e);
y.bindValue(function() {
h();
});
j.bindValue(function() {
h();
});
S.bindValue(function(t) {
t && h(!0);
});
};
t.exports = h;
e(h, "meshim_widget_controllers_ThemeController");
return h;
}();
}).call(e, i(3));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
var i = function(t, e) {
return t === e || t && e && "object" == typeof t && "object" == typeof e && n(t, e);
}, n = function(t, e) {
var n;
for (n in t) if (!i(t[n], e[n])) return !1;
for (n in e) if (!i(t[n], e[n])) return !1;
return !0;
}, o = function(t) {
if ("object" != typeof t || !t) return t;
var e = {};
for (var i in t) t.hasOwnProperty(i) && (e[i] = o(t[i]));
return e;
}, r = function(t) {
if (t) for (var e = 1, i = arguments.length; e < i; e++) {
var n = arguments[e];
if (n) for (var o in n) n.hasOwnProperty(o) && (t[o] = n[o]);
}
return t;
}, s = {
equal: i,
clone: o,
extend: r
};
t.exports = s;
e(s, "jx_core_ObjectUtil");
return s;
}();
}).call(e, i(3));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t) {
function e() {
if ("prerender" != document.visibilityState) {
document.removeEventListener("visibilitychange", e);
Dt.connect();
}
}
et = t.isCookieDenied;
it = t.overrideProxy;
nt = t.source;
ot = t.lastHost;
rt = t.source_ver;
H = t.root;
G = H.$("tmp").$("api_settings");
Y = H.$("tmp").$("server_settings");
X = H.$("livechat").$("settings").$("cached$bool");
z = H.$("connection");
K = z.$("server_retired$bool");
Q = z.$("server_ready$bool");
Q.bindValue(a);
K.bindValue(s);
U = H.$("livechat").$("ui").$("mockup$bool").getValue();
if (U) z.$("status$string").update("reattached"); else {
H.$("livechat").$("profile").bindValue(r);
z.$("status$string").bindValue(o);
z.$("socket_status$string").bindValue(I);
H.bindWrite(P);
z.$("reconnect$bool").bindValue(g);
if (window.__z_sdk) M = !0; else {
M = !1;
"visibilityState" in document && "prerender" == document.visibilityState ? document.addEventListener("visibilitychange", e) : Dt.connect();
}
}
}
function o(t) {
St = "reattached" == t;
if (St) {
z.update({
client_reattached_timestamp$int: +new Date()
});
P();
}
St && M === !1 && N();
if ("idle_disconnect" == t || "shutdown" == t || "error" == t) {
var e = H.$("livechat").$("account").$("status$string").getValue(), i = H.$("connection").$("backoff"), n = i.$("active$int").getValue() || 0, o = i.$("max_seconds$int").getValue();
"invalid_account_key" == e ? pt.warnBadEmbed() : "widget_v2" == nt && "shutdown" == t && n && o && f(o);
c();
}
I();
}
function r(t) {
t && (et() || dt.IS_POPOUT || t.mid$string && ct.setIdentity(t.mid$string));
}
function s(t) {
Z = t === !0;
}
function a(t) {
J = t !== !1;
if (J) {
It = !1;
_();
}
}
function _() {
for (var t = 0, e = kt.length; t < e; t++) {
var i = kt[t];
at(i) && i();
}
kt = [];
}
function l(t) {
if (!J || Z) {
z.update({
server_ready$bool: !1
});
kt.push(t);
if (!It) {
It = !0;
q.reconnect();
}
} else t();
}
function u(t) {
q && q.send(t);
}
function d(t) {
for (var e = -1, i = 0; i < jt.length; i++) if (jt[i].socket == t) {
e = i;
break;
}
if (e !== -1) {
var n = jt[e].expiryTimer;
t.close();
clearTimeout(n);
}
}
function c(t) {
q && d(q);
V = !t;
q = null;
Ct = "";
}
function h() {
window.clearTimeout(Dt.reconnectTimer);
c(!0);
Dt.connect();
}
function f(t) {
window.clearTimeout(Dt.reconnectTimer);
Dt.reconnectTimer = window.setTimeout(function() {
Dt.reconnect();
}, 1e3 * t);
}
function p() {
z.update({
status$string: "idle_disconnect"
});
}
function g(t) {
t && h();
}
function m(t) {
var e = st || new gt(t, "W", null, wt);
e.on("open", function() {
x(t, e);
});
return e;
}
function $() {
var t = b();
try {
tt = yt.getGeoAccess(it, t, 3, 2);
} catch (t) {
window.console && window.console.log("Unable to compute host list");
return;
}
w(xt);
}
function b() {
return ot || z.$("server$string").getValue() || "";
}
function w(t) {
function e() {
clearTimeout(o);
n.un("close", e);
w(t);
}
if (!q && !V) {
var i = tt.getNextHost();
if (i) {
Nt++;
var n = m(i);
jt.push({
socket: n,
expiryTimer: setTimeout(function() {
n != q && n.close();
}, vt)
});
if (tt.hasNext()) {
var o = setTimeout(e, t);
n.on("close", e);
}
}
}
}
function x(t, e) {
if (!U) if (q) d(e); else {
z.update({
socket_open_timestamp$int: +new Date(),
socket_status$string: null
});
Ct = t;
ft.increment("conn", [ "tries:" + Nt ]);
Nt = 0;
ft.start("conn_open", e.starttime);
ft.end("conn_open", .25, [ "proxy:" + t ]);
q = e;
q.on("break", y);
q.on("message", v);
q.on("reopen", C);
q.on("resume", j);
q.on("error", function() {
var t = this.connect_attempts, e = this.recv_messages;
if (t > 3 && 0 == e) {
c(!0);
w(xt);
}
});
A();
}
}
function v(t) {
if (t) {
if (t.raw && t.raw.__messageID in Tt) {
var e = Tt[t.raw.__messageID];
delete Tt[t.raw.__messageID];
e(t);
}
var i = H;
if ("update" in t) {
var n = pt.getValueByReference(t, "livechat.account");
if (n) {
Y.$("account").update(n);
pt.fullyExtend(n, G.getValue("account"));
}
var o = pt.getValueByReference(t, "livechat.settings");
if (o) {
Y.$("settings").update(o);
pt.fullyExtend(o, G.getValue("settings"));
}
var r = pt.getValueByReference(t, "livechat.profile.mid$string");
if (r && r !== ct.getIdentity()) {
H.$("livechat").$("channel").update(null);
H.$("livechat").$("profile").update(null);
H.$("livechat").$("ui").$("chat_button").$("unread_count$int").update(0);
}
t.path && (i = i.descend(t.path));
i.update(t.update);
Dt.fire("message", t);
}
}
}
function y() {
z.update({
socket_status$string: "break"
});
}
function j() {
z.update({
socket_resume_timestamp$int: +new Date(),
socket_status$string: "resume"
});
}
function C() {
z.update({
socket_open_timestamp$int: +new Date(),
socket_status$string: "reconnect"
});
St = !1;
A();
}
function S() {
var t = ct.getIdentity(), e = et(), i = H.$("livechat").$("ui").getValue("mobile$bool") ? "mobile" : "desktop", n = H.$("livechat").$("settings").$("theme").getValue("name$string"), o = {
__type: "register",
accountKey: dt.ACCOUNT_KEY,
mID: t,
ua: window.navigator.userAgent,
dt: i,
theme: n,
cookie_law: e,
rev: _t.git_commit,
source: nt,
source_ver: rt
};
if (H.$("livechat").$("ui").$("popout$bool").getValue()) o.popout = !0; else {
o.title = document.title;
o.url = window.location.href;
o.ref = window.document.referrer;
}
var r = Dt._register;
if (r) for (var s in r) r.hasOwnProperty(s) && (o[s] = r[s]);
return o;
}
function A() {
if (dt.ACCOUNT_KEY) {
q || Dt.connect();
var t = S();
ht.retrieveIDToken(function(e, i) {
if (e) H.$("connection").$("status$string").update("shutdown"); else {
if (i) {
delete t.mID;
t.idt = i;
}
u(t);
}
});
}
}
function k() {
return !!X.getValue();
}
function I() {
var t = z.getValue("status$string"), e = z.getValue("socket_status$string");
window.clearTimeout(B.timer);
if ("error" != t) if ("break" == e) if ("idle_disconnect" == t) z.update({
message$string: "idle_disconnect"
}); else {
z.update({
message$string: "reconnecting"
});
B.timer = window.setTimeout(B, 6e4);
} else if (null === e && "registered" == t) z.update({
message$string: "resuming"
}); else if (lt(t) && lt(e)) {
var i = k() ? "fast_init" : "first_init";
z.update({
message$string: i
});
} else z.update({
message$string: null
}); else B.timer = window.setTimeout(B, 5e3);
}
function N() {
q && H.$("livechat").$("profile").write({
disconnect_timeout$int: W(q.rtt)
});
}
function B() {
z.update({
message$string: "disconnected"
});
}
function T() {
var t = q;
return t ? {
connect_attempts: t.connect_attempts,
connections: t.connections,
disconnects: t.disconnects,
timeout_server: t.timeout_server,
timeout_response_soft: t.timeout_response_soft,
timeout_response_hard: t.timeout_response_hard,
sent_bytes: t.sent_bytes,
recv_bytes: t.recv_bytes,
sent_messages: t.sent_messages,
recv_messages: t.recv_messages,
sent_frames: t.sent_frames,
recv_frames: t.recv_frames,
lost_frames: t.lost_frames,
ooo_frames: t.ooo_frames,
bytes_at_connect: t.bytes_at_connect,
rtt: t.rtt,
clock_skew: t.clock_skew,
reconnect_delay: t.reconnect_delay,
quality: t.quality,
host: t.host,
status: t.status,
zone: window.__$__GEO,
last_frame_time: t.last_frame_time,
local_time: +new Date()
} : {
status: "not connected"
};
}
function D() {
return Ct;
}
function E() {
return +new Date() - (q ? q.clock_skew : 0);
}
function O(t) {
Bt += 1;
Tt[Bt] = t;
return Bt;
}
function P(t) {
if (t) {
var e = {};
e.path = t.path;
e.value = t.value;
at(t.func) && (e.__messageID = O(t.func));
At.push(e);
}
if (q && St) for (;At.length; ) q.send(At.shift());
}
function L(t) {
return t ? Y.getValue(t) : Y.getValue();
}
function W(t) {
function e(t) {
return t;
}
var i, n, o = 10 * bt.SECOND, r = 1 * bt.SECOND, s = 120 * bt.SECOND, a = 20 * bt.SECOND;
t = Math.round(t) || 0;
t = Math.max(r, Math.min(t, o));
i = (t - r) / (o - r);
n = a + e(i) * (s - a);
return Math.floor(n / 1e3);
}
function R(t) {
st = t;
}
function F() {
Q.unbindValue(a);
K.unbindValue(s);
H.$("livechat").$("profile").unbindValue(r);
z.$("status$string").unbindValue(o);
z.$("socket_status$string").unbindValue(I);
z.$("reconnect$bool").unbindValue(g);
c();
jt.forEach(function(t) {
d(t.socket);
t.socket.fire("close");
});
B.timer = clearTimeout(B.timer);
jt = [], Ct = "", St = !1, At = [], kt = [], It = !1, Nt = 0, Bt = 0, Tt = {}, M = V = H = z = q = U = G = Y = X = K = Z = Q = J = tt = et = it = nt = ot = rt = st = null;
}
var M, V, H, z, q, U, G, Y, X, K, Z, Q, J, tt, et, it, nt, ot, rt, st, at = i(10), _t = i(1), lt = i(11), ut = i(6), dt = i(43), ct = i(47), ht = i(52), ft = i(63), pt = i(51), gt = i(65), mt = i(70), $t = i(71), bt = i(73), wt = {
FLUSH_DELAY_MS: 0,
RECONNECT_DELAY_MS: 1e4
}, xt = 3e3, vt = 6e4, yt = new $t(mt, '{"CLUSTERS":{"US":["us08","us10","us12","us14","us16","us18","us20","us22","us24","us26","us28","us30","us32","us34","us36","us38","us40","us42","us44","us46"],"DE":["de04","de06","de08","de10","de12","ie02","ie04","ie06","ie08","ie10","ie12","ie14","ie16","de14","de16","de18","de20","ie18","ie20","ie22","ie24","de22","de24","de26","de28"],"SG":["sg06","sg08","sg10","sg12","sg14","sg16","sg18","sg20"],"JP":["jp02","jp04","jp06","jp08"],"AU":["au02","au04"],"BR":["br02","br04","br06","br08","br10","br12"]},"FALLBACKS":{"US":["DE"],"DE":["US"],"SG":["US"],"JP":["US"],"AU":["SG","US"],"BR":["US"]},"NEAR_MAP":{"AL":"DE","AD":"DE","AM":"DE","AT":"DE","BY":"DE","BE":"DE","BA":"DE","BG":"DE","CH":"DE","CY":"DE","CZ":"DE","DE":"DE","DK":"DE","EE":"DE","ES":"DE","EU":"DE","FO":"DE","FI":"DE","FR":"DE","GB":"DE","GE":"DE","GI":"DE","GR":"DE","HU":"DE","HR":"DE","IE":"DE","IM":"DE","IS":"DE","IT":"DE","LT":"DE","LU":"DE","LV":"DE","MC":"DE","MK":"DE","MT":"DE","NO":"DE","NL":"DE","PK":"DE","PO":"DE","PT":"DE","RO":"DE","SA":"DE","SE":"DE","SI":"DE","SK":"DE","SM":"DE","TR":"DE","UA":"DE","VA":"DE","ZA":"DE","NG":"DE","MA":"DE","AP":"SG","BD":"SG","BN":"SG","CN":"SG","ID":"SG","IN":"SG","LA":"SG","KH":"SG","LK":"SG","MM":"SG","MY":"SG","SG":"SG","TH":"SG","VN":"SG","AU":"AU","NZ":"AU","HK":"JP","KR":"JP","JP":"JP","PH":"US","RU":"JP","TW":"JP","AR":"BR","BO":"BR","BR":"BR","CL":"BR","PE":"BR","PY":"BR","UY":"BR","DEFAULT":"US"}}'), jt = [], Ct = "", St = !1, At = [], kt = [], It = !1, Nt = 0, Bt = 0, Tt = {}, Dt = ut.extend({
init: n,
send: u,
connect: $,
reconnect: h,
disconnect: p,
getConnectionStats: T,
getHost: D,
getServerTime: E,
getServerSettings: L,
reconnectIfServerRetired: l,
registerCallback: O,
getDCTimeoutValue: W,
setSocket: R,
reset: F
});
t.exports = Dt;
e(Dt, "meshim_widget_controllers_ConnectionController");
return Dt;
}();
}).call(e, i(3));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n() {
_ = new h();
_.setTags(a());
_.bindToConnectionStatus = o;
_.flush = s;
}
function o(t) {
t.bindValue(r);
}
function r(t) {
if ("registered" == t || "reattached" == t || "cookie_law" == t) {
l = !0;
_.flush();
} else l = !1;
}
function s() {
if (l && this.queue.length) {
p.root.$("livechat").$("ui").$("mockup$bool").getValue() || u(_.send) && _.send({
__type: "instrumentation",
metrics: this.queue
});
this.queue = [];
}
}
function a() {
var t = [];
t.push("client_country_code:" + g.COUNTRY_CODE);
t.push("browser:" + d.browser);
var e, i;
if (f.isMobileBrowser) {
e = f.isMobileTablet ? "tablet" : "mobile";
i = f.isAndroid ? "android" : f.isIOS ? "ios" : f.isWP ? "wp" : "other";
} else {
e = "desktop";
i = d.isWindows ? "win" : d.isMac ? "mac" : "other";
}
t.push("device:" + e);
t.push("platform:" + i);
t.push("rev:" + c.git_commit);
return t;
}
var _, l, u = i(10), d = i(7), c = i(1), h = i(64), f = i(56), p = i(41), g = i(43);
n();
t.exports = _;
e(_, "meshim_widget_controllers_InstrumentationController");
return _;
}();
}).call(e, i(3));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n() {
var t = +new Date(), e = t - f, i = Math.abs(e - d);
i > c && r();
f = t;
}
function o() {
for (var t = g.length; t--; ) {
for (var e = g[t], i = e.queue.length; i--; ) {
var n = e.queue[i];
"histogram" === n.method && e.queue.splice(i, 1);
}
e.start_ts = {};
}
}
function r() {
p = clearInterval(p);
h = !1;
o();
}
function s() {
this.ref_ts = null;
this.from_ref_ts = {};
this.start_ts = {};
this.tags = [];
this.queue = [];
g.push(this);
}
function a(t) {
}
var _ = i(22), l = i(20), u = i(24), d = 15e3, c = .2 * d, h = !0, f = +new Date(), p = setInterval(n, d), g = [], m = s.prototype;
m.flush = function() {};
m.setTags = function(t) {
_(t) && (this.tags = t.concat());
};
m.addTag = function(t) {
l(t) && t && this.tags.push(t);
};
m.setRefTime = function(t) {
u(this.ref_ts) ? a("Global start time has already been set - ignoring") : u(t) ? this.ref_ts = t : a("Invalid ref time - ignoring");
};
m.fromRefTime = function(t, e, i) {
if (h) if (u(this.ref_ts)) if (l(t) && t) if (this.from_ref_ts[t]) a(t + " has already been tracked - ignoring"); else {
this.from_ref_ts[t] = !0;
var n = +new Date();
n < this.ref_ts ? r() : this.histogram(t, (n - this.ref_ts) / 1e3, e, i);
} else a("Event name is not provided or invalid"); else a("Global start time has not been set - ignoring");
};
m.start = function(t, e) {
h && (l(t) && t ? t in this.start_ts ? a("Start time of " + t + " has already been set - ignoring") : this.start_ts[t] = u(e) ? e : +new Date() : a("Event name is not provided or invalid"));
};
m.end = function(t, e, i) {
if (h) if (l(t) && t) if (t in this.start_ts) {
var n = +new Date();
if (n < this.start_ts[t]) r(); else {
this.histogram(t, (n - this.start_ts[t]) / 1e3, e, i);
delete this.start_ts[t];
}
} else a("Start time of " + t + " has not been set - ignoring"); else a("Event name is not provided or invalid");
};
m.restart = function(t, e) {
delete this.start_ts[t];
this.start(t, e);
};
m.increment = function(t, e, i) {
this._queue("increment", t, 1, e, i);
this.flush();
};
m.histogram = function(t, e, i, n) {
this._queue("histogram", t, e, i, n);
this.flush();
};
m._queue = function(t, e, i, n, o) {
if (_(n)) {
o = n;
n = void 0;
}
var r = {
method: t,
name: e,
value: i,
tags: this.tags.concat(o || [])
};
u(n) && (r.sample_rate = n);
this.queue.push(r);
};
t.exports = s;
e(s, "meshim_common_Instrumentation");
return s;
}();
}).call(e, i(3));
}, function(t, e, i) {
(function(e, n) {
t.exports = function() {
function t(i, n, o, r) {
if (!f) throw "No available transports";
this.provider = f;
this.options = r = r || {};
for (var s in m) m.hasOwnProperty(s) && (s in r || (r[s] = m[s]));
e.extend(this);
this.id = o || t.generateID();
this.host = i;
this.ns = n;
this.path = "/" + [ "s", this.ns, this.provider.protocol, this.id ].join("/");
this.url = this.host + this.path + "/";
this.status = "connecting";
this.connected = !1;
this.quality = 0;
this.rtt = r.INITIAL_RTT;
this.clock_skew = 0;
this.connect_attempts = 0;
this.connections = 0;
this.disconnects = 0;
this.sent_bytes = 0;
this.recv_bytes = 0;
this.sent_messages = 0;
this.recv_messages = 0;
this.sent_frames = 0;
this.recv_frames = 0;
this.lost_frames = 0;
this.ooo_frames = 0;
this.remote_seq = 0;
this.local_seq = 0;
this.timeout_server = 0;
this.timeout_response_soft = 0;
this.timeout_response_hard = 0;
this.bytes_at_connect = -1;
this.time_last_alive = -1;
this.time_last_open = -1;
this.starttime = +new Date();
this.uptime = 0;
this.connected_time = new a();
this.idle_time = new a();
this.last_frame_time = 0;
this.raw_clock_skew = 0;
this.smooth_skewed_transit_time_in = 0;
this.remote_smooth_skewed_transit_time_out = 0;
this.cur_conn_recv_messages = 0;
this.drained = !0;
this.buffer = [];
this.glitch_timer = this.reconnect_timer = null;
this.reconnect_delay = r.RECONNECT_DELAY_MS * (.2 * Math.random() + .8);
this.keep_alive_interval = 15e3;
this.data_packet_queue = new _(this);
this.connect();
var l = this;
this.onoffline = function() {
t.prototype.onoffline.call(l);
};
this.ononline = function() {
t.prototype.ononline.call(l);
};
e.window.on("offline", this.onoffline);
e.window.on("online", this.ononline);
}
function o() {
var t = y, e = new Date(), i = e.getUTCFullYear() - 2e3, n = e.getUTCMonth() + 1, o = e.getUTCDate(), r = e.getUTCHours(), s = e.getUTCMinutes(), a = e.getUTCSeconds(), _ = e.getUTCMilliseconds();
return t[i] + t[n] + t[o] + t[r] + t[s] + t[a] + t[_ >> 6] + t[63 & _];
}
function r(t) {
for (var e = "", i = y; t-- > 0; ) e += i.charAt(Math.floor(Math.random() * i.length));
return e;
}
function s(t, e, i) {
return Math.min(i, Math.max(e, t));
}
function a() {
this.count = 0;
this.sum = 0;
this.sq_sum = 0;
this.mean = 0;
this.stddev = 0;
}
function _(t) {
this.socket = t;
this.queue = [];
this.curFrame = null;
this.curIdx = 0;
this.last_work_finished_time = 0;
this.work_timer = null;
this.processing = !1;
}
var l = i(49), u = i(66), d = i(67), c = i(68), h = i(69), f = c || u || d || h, p = h, g = 45e3, m = {
INITIAL_RTT: 1e3,
RECONNECT_DELAY_MS: 3e4,
FAST_RECONNECT_MS: 100,
FLUSH_DELAY_MS: 75,
MAX_BLOCKING_TIME_MS: 40,
MAX_NO_WORK_TIME_MS: 15
};
t.available = function() {
return !!f;
};
t.generateID = function() {
return r(16);
};
t.prototype.connect = function(t) {
this.debug("connect(" + (t && "glitch" || "") + ")");
if (!this.reconnect_timer) {
var e = this, i = this.options;
this.connections && this.cur_conn_recv_messages || (this.provider = 1 & this.connect_attempts ? p : f);
this.response_timer = clearTimeout(this.response_timer);
this.timeout_timer = clearTimeout(this.timeout_timer);
if (this.socket) {
this.socket.onclose = this.socket.ondrain = this.socket.onerror = this.socket.onmessage = this.socket.onopen = null;
this.socket.abort("connect");
this.socket = null;
}
this.connected = !1;
this.cur_conn_recv_messages = 0;
if (t) {
this.reconnect_delay = i.RECONNECT_DELAY_MS * (.2 * Math.random() + .9);
this.glitch_timer = setTimeout(function() {
e.quality = 0;
e.glitch_timer = setTimeout(function() {
e.status = "reconnecting";
e.fire_break();
}, s(3 * e.rtt, 1e3, 5e3));
}, s(3 * this.rtt, 1e3, 5e3));
}
this.debug("reconnect_delay: " + this.reconnect_delay);
clearTimeout(this.reconnect_timer);
this.reconnect_timer = setTimeout(function() {
e.reconnect_timer = null;
e.reconnect_delay = Math.min(1.4 * e.reconnect_delay + 1e3, 6e4);
e.reconnect_delay *= .2 * Math.random() + .9;
e.connect();
}, this.reconnect_delay);
this.path = "/" + [ "s", this.ns, this.provider.protocol, this.id ].join("/");
this.url = this.host + this.path + "/";
this.debug("connecting: " + this.url);
this.socket = new this.provider(this.url);
this.transport = this.provider.protocol;
this.connect_attempts++;
this.socket.onopen = function() {
e.status = "connected";
e.glitch_timer = clearTimeout(e.glitch_timer);
e.reconnect_timer = clearTimeout(e.reconnect_timer);
e.connections++;
e.drained = !0;
e.connected = !0;
e.time_last_open = e.time_last_alive = +new Date();
e.uptime >= 0 && (e.uptime -= e.time_last_open);
1 == e.connections ? e.fire("open") : e.fire_resume();
e.flush();
e.keep_alive();
e.debug("connected");
e.bytes_at_connect == -1 && setTimeout(function() {
e.bytes_at_connect = e.recv_bytes;
}, 50);
};
this.socket.onmessage = function(t, i) {
e.onmessage(t, i);
};
this.socket.onclose = function(t) {
e._onclose(t);
};
this.socket.ondrain = function(t) {
e._ondrain(t);
};
this.socket.onerror = function(t) {
e._onerror(t);
};
}
};
t.prototype.reconnect = function() {
this.reconnect_timer = clearTimeout(this.reconnect_timer);
this.broken_reason = "FORCED_RECONNECT";
this.connect();
};
t.prototype.send = function(t, e) {
if ("disconnected" != this.status) {
"null" == this.buffer[0] && (this.buffer = []);
this.buffer.push(l.stringify(t));
this.schedule_flush();
e && this.response_timeout();
}
};
t.prototype.close = function(t) {
this.debug("close()");
this.flush_scheduled = clearTimeout(this.flush_scheduled);
this.keep_alive_timer = clearTimeout(this.keep_alive_timer);
this.reconnect_timer = clearTimeout(this.reconnect_timer);
this.response_timer = clearTimeout(this.response_timer);
this.timeout_timer = clearTimeout(this.timeout_timer);
this.broken_reason || (this.broken_reason = "CLOSE");
this.fire_break();
this.status = t ? "reconnecting" : "disconnected";
this.connected = !1;
this.quality = 0;
if (this.socket) {
this.socket.onclose = this.socket.ondrain = this.socket.onerror = this.socket.onmessage = this.socket.onopen = null;
this.socket.abort("close");
this.socket = null;
if (!t) {
e.window.un("offline", this.onoffline);
e.window.un("online", this.ononline);
}
}
};
t.prototype.hibernate = function() {};
t.prototype.onoffline = function() {
this.broken_reason = "OFFLINE";
this.debug("onoffline");
this.close(!0);
};
t.prototype.ononline = function() {
this.debug("ononline");
if ("disconnected" != this.status && !this.connected) {
this.reconnect_timer = clearTimeout(this.reconnect_timer);
this.connect();
}
};
t.prototype.schedule_flush = function() {
if ("disconnected" != this.status && !this.flush_scheduled && this.drained && this.connected) {
var t = this, e = this.options;
this.flush_scheduled = setTimeout(function() {
t.flush();
}, e.FLUSH_DELAY_MS);
}
};
t.prototype.flush = function() {
if ("disconnected" != this.status && this.buffer.length && this.drained && this.connected) {
var t = this.buffer;
this.sent_messages += t.length;
this.sent_frames++;
t = this.generate_frame(t.join("\n"));
this.drained = this.socket.send(t);
this.sent_bytes += t.length;
this.flush_scheduled = clearTimeout(this.flush_scheduled);
this.buffer = [];
this.keep_alive();
this.time_last_alive = +new Date();
}
};
t.prototype.keep_alive = function() {
if ("disconnected" != this.status) {
clearTimeout(this.keep_alive_timer);
var t = this;
this.keep_alive_timer = setTimeout(function() {
t.debug("pong!");
t.send(null);
}, this.keep_alive_interval);
}
};
t.prototype.response_timeout = function() {
if (!this.response_timer) {
var t = this, e = s(4 * this.rtt + this.options.FLUSH_DELAY_MS, 2e3, 2e4);
this.response_timer = setTimeout(function() {
t.timeout_response_soft++;
t.debug("response timeout, " + e + "ms");
t.fire_break("SOFT_RESPONSE_TIMEOUT");
t.response_timer = setTimeout(function() {
t.timeout_response_hard++;
t.debug("response timeout - reconnecting");
t.broken_reason = "HARD_RESPONSE_TIMEOUT";
t.connect(!0);
}, 2 * e);
}, e);
}
};
t.prototype.reset_server_timeout = function() {
clearTimeout(this.timeout_timer);
var t = this, e = 4 * this.keep_alive_interval + s(4 * t.rtt, 2e3, 2e4);
this.timeout_timer = setTimeout(function() {
t.timeout_server++;
t.debug("server " + e + "ms timeout, reconnecting");
t.broken_reason = "SERVER_TIMEOUT";
t.connect(!0);
}, e);
};
t.prototype.fire_break = function(t) {
this.broken || this.fire("break", t || this.broken_reason);
this.broken = !0;
this.broken_reason = "";
this.uptime < 0 && (this.uptime += +new Date());
};
t.prototype.fire_resume = function() {
this.broken_reason = "";
this.broken && this.fire("resume");
this.broken = !1;
this.uptime >= 0 && (this.uptime -= +new Date());
};
t.prototype.onmessage = function(t, e) {
this.recv_bytes += t.length;
t = t.split("\n");
if (t.length < 6) this.debug("Bad data: " + t.join("\n")); else {
var i = +new Date(), n = +t[0], o = +t[1], r = +t[2], s = (+t[3], t[4]);
this.calculate_clocks(e || +new Date(), n, o);
this.reset_server_timeout();
switch (s) {
case "a":
this.broken_reason = "ABORT";
this.close();
break;

case "d":
this.response_timer = clearTimeout(this.response_timer);
this.fire_resume();
this.check_sequence(r);
this.data_packet_queue.queueFrame(t, 5, i);
break;

case "e":
this.debug("server: Are you still there?");
this.send(null);
this.flush();
break;

case "n":
this.remote_seq = r;
this.keep_alive_interval = +t[5] || 15e3;
this.debug("keep_alive is " + this.keep_alive_interval + "ms");
this.connections > 1 && this.fire("reopen");
break;

case "p":
this.debug("ping!");
}
}
};
t.prototype._onclose = function(t) {
var e = this, i = this.options;
0 == this.connections && 0 == this.disconnects && this.fire("close");
this.debug("_onclose");
this.disconnects++;
this.broken_reason = "HANGUP";
if (this.connected) this.reconnect_timer = setTimeout(function() {
e.reconnect_timer = null;
e.connect(!0);
}, i.FAST_RECONNECT_MS); else if (!this.connections && 1 == this.connect_attempts) {
clearTimeout(this.reconnect_timer);
this.reconnect_timer = setTimeout(function() {
e.reconnect_timer = null;
e.connect();
}, 0);
}
this.connected = !1;
clearTimeout(this.keep_alive_timer);
this.time_last_alive > 0 && this.idle_time.add(+new Date() - this.time_last_alive);
this.time_last_open > 0 && this.connected_time.add(+new Date() - this.time_last_open);
this.time_last_alive = this.time_last_open = -1;
this.uptime < 0 && (this.uptime += +new Date());
};
t.prototype._ondrain = function() {
this.drained = !0;
this.flush();
};
t.prototype._onerror = function(t) {
this.debug("_error");
this.fire("error", t);
};
t.prototype.generate_frame = function(t, e) {
return [ +new Date(), this.smooth_skewed_transit_time_in, ++this.local_seq, this.remote_seq, e || "d", t ].join("\n");
};
var $ = .1, b = 50, w = 1e3, x = Math.pow(b, $), v = Math.pow(w, $) - x;
t.prototype.calculate_clocks = function(t, e, i) {
var n = t - e, o = Math.max(0, t - this.last_frame_time), r = 1 / (o / g + 1);
this.smooth_skewed_transit_time_in ? this.smooth_skewed_transit_time_in = r * this.smooth_skewed_transit_time_in + (1 - r) * n : this.smooth_skewed_transit_time_in = n;
this.remote_smooth_skewed_transit_time_out = i;
if (this.smooth_skewed_transit_time_in && this.remote_smooth_skewed_transit_time_out) {
this.rtt = this.smooth_skewed_transit_time_in + this.remote_smooth_skewed_transit_time_out;
this.quality = ~~(100 * (1 - (Math.pow(this.rtt, $) - x) / v));
this.quality = Math.min(100, Math.max(0, this.quality));
this.raw_clock_skew = n - this.rtt / 2;
this.clock_skew ? this.clock_skew = .9 * this.clock_skew + .1 * this.raw_clock_skew : this.clock_skew = this.raw_clock_skew;
}
this.time_last_alive = this.last_frame_time = t;
};
t.prototype.check_sequence = function(t) {
if (this.remote_seq + 1 == t) this.remote_seq = t; else if (this.remote_seq < t) {
var e = t - this.remote_seq + 1;
this.lost_frames += e;
this.fire("lost", e);
this.remote_seq = t;
} else {
this.ooo_frames++;
this.fire("out_of_order");
}
};
f && (t.prototype.transport = f.protocol);
t.prototype.debug = function() {};
var y = "+-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";
t.genDate = o;
t.genID = r;
a.prototype.add = function(t) {
this.count++;
this.sum += t;
this.sq_sum += t * t;
this.mean = this.sum / this.count;
this.stddev = Math.sqrt(this.sq_sum / this.count - this.mean * this.mean);
};
var j = _.prototype;
j.queueFrame = function(t, e, i) {
this.queue.push({
msgs: t,
start_idx: e,
receive_time: i
});
this.process();
};
j.process = function() {
var t = +new Date() - this.last_work_finished_time;
if (!(this.processing && t < this.socket.options.MAX_NO_WORK_TIME_MS)) {
this.work_timer = window.clearTimeout(this.work_timer);
this.processing = !0;
this.work();
}
};
j.work = function() {
for (var t, e, i, n = +new Date() + this.socket.options.MAX_BLOCKING_TIME_MS, o = !1, r = this.socket.recv_frames, s = this, a = 0; a < this.queue.length; a++) {
t = this.queue[a];
if (!("start_time" in t)) {
t.start_time = +new Date();
t.ticks = 0;
t.idx = t.start_idx;
}
t.ticks++;
e = t.msgs;
i = e.length;
for (;t.idx < i; ) {
var _, u = +new Date();
if (u > n) {
o = !0;
break;
}
this.socket.dispatch_delay = u - t.receive_time;
try {
_ = l.parse(e[t.idx]);
t.idx++;
} catch (i) {
this.socket.debug("Invalid json message: " + e[t.idx]);
continue;
}
this.socket.fire("message", _);
this.socket.recv_messages++;
this.socket.cur_conn_recv_messages++;
}
t.idx >= i && this.socket.recv_frames++;
if (o) break;
}
this.queue.splice(0, this.socket.recv_frames - r);
this.queue.length ? this.work_timer = window.setTimeout(function() {
s.work();
}, 0) : this.processing = !1;
this.last_work_finished_time = +new Date();
};
n(t, "jx_io_Socket");
return t;
}();
}).call(e, i(6), i(3));
}, function(t, e, i) {
(function(e, i) {
t.exports = function() {
function t(t) {
function i(t) {
s("extracting data");
!o && _.onopen && _.onopen();
o = t;
l += a.responseText.substr(u);
u = a.responseText.length;
l = l.split("\n\n");
for (var e = 0; e < l.length - 1; e++) _.onmessage && _.onmessage(l[e], o);
l = l[l.length - 1];
(u > 1048576 && !l.length || u > 4194304) && _.abort();
}
var o, a = this.xhr = new n(), _ = this, l = "", u = 0;
this.url = r + t;
a.open("GET", this.url + [ "c", +new Date() ].join("/"), !0);
a.onerror = function(t) {
_.abort(t);
};
if (e.isIE) {
a.onprogress = function() {
i(+new Date());
};
a.onload = function() {
_.abort("close");
};
} else a.onreadystatechange = function() {
switch (a.readyState) {
case 3:
i(+new Date());
break;

case 4:
_.abort("close");
}
};
s("CXHR connecting to: " + this.url);
a.send();
}
var n = e.isIE ? window.XDomainRequest : !e.isOpera && !e.isAndroid && window.XMLHttpRequest, o = n ? t : null, r = e.isIE ? "//" : "https://";
t.protocol = "cxhr";
t.prototype.send = function(t) {
function i() {
_.abort("send failed");
}
function o() {
_.xhr_sender = null;
clearTimeout(r);
_.ondrain && _.ondrain();
}
var r, s = this.url + [ "d", +new Date() ].join("/"), a = new n(), _ = this;
a.open("POST", s, !0);
a.send(t);
if (e.isIE) {
a.onerror = i;
a.onload = o;
} else a.onreadystatechange = function() {
if (4 == a.readyState) {
200 != a.status && i();
o();
}
};
r = setTimeout(i, 5e3);
this.xhr_sender = a;
return !1;
};
t.prototype.abort = function(t) {
if (!this._abort) {
this._abort = !0;
s(t);
this.xhr && this.xhr.abort();
this.xhr_sender && this.xhr_sender.abort();
this.onclose && this.onclose(t);
this.onerror = this.onload = this.onprogress = this.onreadystatechange = this.xhr = this.xhr_sender = null;
}
};
var s = function() {};
i(o, "jx_io_socket_ChunkedXHR");
return o;
}();
}).call(e, i(7), i(3));
}, function(t, e, i) {
(function(e, i) {
t.exports = function() {
function t(t) {
function e(t) {
!_ && s.onopen && s.onopen();
_ = +new Date();
t.origin == o && ("event-stream" == t.data ? a.onload = null : s.onmessage && s.onmessage(t.data, _));
}
var i, o, s = this, a = this.iframe = n("iframe");
this.url = "https://" + t;
a.src = this.src = i = this.url + [ "c", +new Date() ].join("/");
o = i.match(/https?:\/\/[^\/]+/)[0];
a.onload = function(t) {
s.abort(t);
};
document.body.insertBefore(a, document.body.firstChild);
r("SPM connecting to: " + this.url);
window.addEventListener("message", e, !1);
this.remove_listeners = function() {
window.removeEventListener("message", e, !1);
};
var _;
}
function n(t) {
var e = document.createElement(t), i = e.style;
i.position = "absolute";
i.width = i.height = 0;
i.overflow = "hidden";
return e;
}
var o = window.postMessage ? !e.isAndroid && t : null;
t.protocol = "spm";
t.prototype.send = function(t) {
this.iframe.contentWindow.postMessage(t, this.src);
return !0;
};
t.prototype.abort = function(t) {
if (!this._abort) {
this._abort = !0;
r(t);
this.iframe && document.body.removeChild(this.iframe);
this.onclose && this.onclose(t);
this.remove_listeners();
this.iframe = this.remove_listeners = null;
}
};
var r = function() {};
i(o, "jx_io_socket_StreamingPostMessage");
return o;
}();
}).call(e, i(7), i(3));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function t(t) {
var e = new i("wss://" + t + [ "c", +new Date() ].join("/")), n = this;
e.onclose = function(t) {
n.onclose && n.onclose(t);
};
e.onerror = function(t) {
n.onerror && n.onerror(t);
};
e.onmessage = function(t) {
n.onmessage && n.onmessage(t.data, +new Date());
};
e.onopen = function(t) {
n.onopen && n.onopen(t);
};
this.ws = e;
}
var i = window.WebSocket || window.MozWebSocket, n = i ? t : null;
t.prototype.abort = function() {
if (!this._aborted) {
this._aborted = !0;
var t = this.ws;
t.readyState == i.CONNECTING ? t.onopen = function() {
t.close();
} : t.close();
}
};
t.prototype.send = function(t) {
this.ws.send(t);
return !0;
};
t.protocol = "ws";
e(n, "jx_io_socket_WebSocket");
return n;
}();
}).call(e, i(3));
}, function(t, e, i) {
(function(e, n) {
t.exports = function() {
function t(t) {
var i = this, n = this.longpoll = new r(!0), o = this.sender = new r(!0);
n.on("success", function(t) {
i.process_data(t);
});
n.on("error", function() {
i.abort("longpoll error");
});
o.on("success", function() {
i.ondrain && i.ondrain();
});
o.on("error", function() {
i.abort("sender error");
});
this.url = "https://" + t;
e.window.on("unload", this.unload = function() {
i.abort("unload");
});
this.longpoll.load(this.url + [ "c", +new Date() ].join("/"));
}
var o = t;
t.protocol = "xdds";
var r = i(12);
t.prototype.process_data = function(t) {
if (t && !this._abort) {
!this.ts && this.onopen && this.onopen();
this.ts = +new Date();
this.onmessage && this.onmessage(t, this.ts);
this.longpoll && this.longpoll.load(this.url + [ "p", +new Date() ].join("/"));
}
};
t.prototype.send = function(t) {
if (this._abort) return !1;
var e = this.url + [ "d", +new Date(), window.encodeURIComponent(t) ].join("/");
this.sender && this.sender.load(e);
return !1;
};
t.prototype.abort = function(t) {
if (!this._abort) {
this._abort = !0;
s("XDDS - abort: " + t);
e.window.un("unload", this.unload);
this.longpoll.destroy();
this.sender.destroy();
this.longpoll = this.sender = this.unload = null;
this.onclose && this.onclose(t);
window.CollectGarbage && window.CollectGarbage();
}
};
var s = function() {};
n(o, "jx_io_socket_XDomainDynScript");
return o;
}();
}).call(e, i(6), i(3));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
var i = {
CLUSTERS: {
US: [ "us08", "us10", "us12", "us14", "us16", "us18", "us20", "us22", "us24", "us26", "us28", "us30", "us32", "us34", "us36", "us38", "us40", "us42", "us44", "us46" ],
DE: [ "de04", "de06", "de08", "de10", "de12", "ie02", "ie04", "ie06", "ie08", "ie10", "ie12", "ie14", "ie16", "de14", "de16", "de18", "de20", "ie18", "ie20", "ie22", "ie24", "de22", "de24", "de26", "de28" ],
SG: [ "sg06", "sg08", "sg10", "sg12", "sg14", "sg16", "sg18", "sg20" ],
JP: [ "jp02", "jp04", "jp06", "jp08" ],
AU: [ "au02", "au04" ],
BR: [ "br02", "br04", "br06", "br08", "br10", "br12" ]
},
FALLBACKS: {
US: [ "DE" ],
DE: [ "US" ],
SG: [ "US" ],
JP: [ "US" ],
AU: [ "SG", "US" ],
BR: [ "US" ]
},
NEAR_MAP: {
AL: "DE",
AD: "DE",
AM: "DE",
AT: "DE",
BY: "DE",
BE: "DE",
BA: "DE",
BG: "DE",
CH: "DE",
CY: "DE",
CZ: "DE",
DE: "DE",
DK: "DE",
EE: "DE",
ES: "DE",
EU: "DE",
FO: "DE",
FI: "DE",
FR: "DE",
GB: "DE",
GE: "DE",
GI: "DE",
GR: "DE",
HU: "DE",
HR: "DE",
IE: "DE",
IM: "DE",
IS: "DE",
IT: "DE",
LT: "DE",
LU: "DE",
LV: "DE",
MC: "DE",
MK: "DE",
MT: "DE",
NO: "DE",
NL: "DE",
PK: "DE",
PO: "DE",
PT: "DE",
RO: "DE",
SA: "DE",
SE: "DE",
SI: "DE",
SK: "DE",
SM: "DE",
TR: "DE",
UA: "DE",
VA: "DE",
ZA: "DE",
NG: "DE",
MA: "DE",
AP: "SG",
BD: "SG",
BN: "SG",
CN: "SG",
ID: "SG",
IN: "SG",
LA: "SG",
KH: "SG",
LK: "SG",
MM: "SG",
MY: "SG",
SG: "SG",
TH: "SG",
VN: "SG",
AU: "AU",
NZ: "AU",
HK: "JP",
KR: "JP",
JP: "JP",
PH: "US",
RU: "JP",
TW: "JP",
AR: "BR",
BO: "BR",
BR: "BR",
CL: "BR",
PE: "BR",
PY: "BR",
UY: "BR",
DEFAULT: "US"
}
};
t.exports = i;
e(i, "meshim_config_geo_WidgetMediatorsAccessDefinition");
return i;
}();
}).call(e, i(3));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t) {
window.__$__GEO = t;
}
function o(t, e) {
this.clusters_config = t;
this.setGeoCode("geo" === a ? _ : a);
try {
if (e.length <= 0) throw "SSI cluster definition not found";
if ("<" == e.charAt(0)) throw "SSI not processed";
this.clusters_config = JSON.parse(e);
} catch (t) {}
}
var r = i(72), s = i(61), a = 'IN'.toUpperCase(), _ = 'IN'.toUpperCase(), l = ".zopim.com", u = [ ".zopim.net", ".zopim.org", ".zdch.at" ];
"<" == a.charAt(0) && (a = "geo");
"<" == _.charAt(0) && (_ = "geo");
o.SUPPORTED_DOMAINS = u;
var d = o.prototype;
d.getGeoCode = function() {
return this.countryCode;
};
d.setGeoCode = function(t) {
if (t && "--" !== t) {
this.countryCode = t;
n(t);
}
};
d.updateClustersConfig = function(t) {
try {
s.extend(this.clusters_config, JSON.parse(t));
} catch (t) {
window.console && window.console.log("Unable to process update");
}
};
d.getGeoAccess = function(t, e, i, n, o, s) {
return new r(this.clusters_config, o || l, this.countryCode, t, e, i, n, s || u);
};
t.exports = o;
e(o, "meshim_common_GeoAccessFactory");
return o;
}();
}).call(e, i(3));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t, e, i, n, o, r, _, l) {
this.CLUSTERS = t.CLUSTERS;
this.WEIGHTS = t.WEIGHTS;
this.NEAR_MAP = t.NEAR_MAP;
this.FALLBACKS = t.FALLBACKS;
this.geo_code = i || "geo";
this.default_domain = e;
this.supported_domains = (l || []).concat(this.default_domain);
var u = s.map(this.supported_domains, a.escape);
this.supported_proxy_re = new RegExp("^[a-z][a-z0-9_-]*(\\.[a-z][a-z0-9_-]*)*(" + u.join("|") + ")(:\\d+)?$", "i");
this.cluster_hosts = [];
this.host_list = [];
this.host_index = 0;
this.last_connected_host = o && this.getValidatedHost(o);
this.override_proxy = n && this.getValidatedHost(n);
this.num_primary_hosts = r || 0;
this.num_fallback_hosts = _ || 0;
this.init();
}
var o = i(24), r = i(8), s = i(44), a = i(45), _ = /^([a-z][a-z0-9_-]*)(:\d+)?$/i, l = n.prototype;
l.init = function() {
var t = this.geo_code && this.geo_code in this.NEAR_MAP ? this.NEAR_MAP[this.geo_code] : this.NEAR_MAP.DEFAULT;
if (!t) throw "Error: no cluster code found for " + this.geo_code;
if (t in this.CLUSTERS) this._growClusterHosts(t, this.num_primary_hosts); else if (!this.override_proxy && !this.last_connected_host) throw "Error: " + t + " has no cluster definition";
if (t in this.FALLBACKS) for (var e = this.FALLBACKS[t], i = 0, n = e.length; i < n; i++) {
var o = e[i];
o in this.CLUSTERS && this._growClusterHosts(o, this.num_fallback_hosts);
}
this._makeHostList();
};
l._verifyHostInGeoConfig = function(t) {
var e = this;
return Object.keys(e.CLUSTERS).some(function(i) {
return e.CLUSTERS[i].some(function(i) {
return t === e.getValidatedHost(i);
});
});
};
l._growClusterHosts = function(t, e) {
var i = this.CLUSTERS[t], n = this.getWeights(t);
s.shuffle(i, n);
e && (i = i.slice(0, e));
this.cluster_hosts = this.cluster_hosts.concat(i);
};
l.getWeights = function(t) {
if (!(t in this.CLUSTERS)) return [];
var e, i = this.CLUSTERS[t], n = i.length, r = new Array(n);
if (this.WEIGHTS && this.WEIGHTS[t]) {
var s = this.WEIGHTS[t];
for (e = n; e--; ) {
var a = i[e];
r[e] = o(s[a]) ? s[a] : 1;
}
} else for (e = n; e--; ) r[e] = 1;
return r;
};
l.getValidatedHost = function(t, e) {
if (t) {
if (!e && _.test(t)) return this._expandSimpleHost(t);
if (this.supported_proxy_re.test(t)) return t;
}
return !1;
};
l._expandSimpleHost = function(t) {
return t.replace(_, "$1" + this.default_domain + "$2");
};
l._makeHostList = function() {
var t = this, e = s.map(this.cluster_hosts, function(e) {
return t._expandSimpleHost(e);
}), i = [];
this.override_proxy && i.push(this.override_proxy);
this.last_connected_host && this.last_connected_host !== this.override_proxy && this._verifyHostInGeoConfig(this.last_connected_host) && i.push(this.last_connected_host);
e = e.filter(function(t) {
return r(t, i) === -1;
});
this.host_list = i.concat(e);
this.host_index = 0;
};
l.getHostList = function() {
return this.host_list;
};
l.getNextHost = function() {
return this.host_index >= this.host_list.length ? "" : this.host_list[this.host_index++];
};
l.hasNext = function() {
return this.host_index < this.host_list.length;
};
l.rewind = function() {
this.host_index = 0;
};
l.pushHostToLast = function(t) {
var e, i = this.getValidatedHost(t), n = r(i, this.host_list);
if (n !== -1) {
e = this.host_list.splice(n, 1);
this.host_list = this.host_list.concat(e);
}
};
t.exports = n;
e(n, "meshim_common_GeoAccess");
return n;
}();
}).call(e, i(3));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
var i = {};
i.SECOND = 1e3;
i.MINUTE = 60 * i.SECOND;
i.HOUR = 60 * i.MINUTE;
i.DAY = 24 * i.HOUR;
i.WEEK = 7 * i.DAY;
t.exports = i;
e(i, "meshim_common_Time");
return i;
}();
}).call(e, i(3));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
var n = i(75), o = i(78), r = i(79), s = i(80), a = {
base: n,
simple: o,
classic: r,
zendesk: s
};
t.exports = a;
e(a, "meshim_widget_Themes");
return a;
}();
}).call(e, i(3));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
var n = i(43), o = i(76), r = {};
r._super = null;
r.defaults = {
colors: {
primary$string: "#000000",
banner$string: "#000000",
bubble$string: "#000000"
}
};
r.overrides = {
avatars: {
concierge$string: n.IMAGES_URL + "/avatar_simple_agent.png",
agent$string: n.IMAGES_URL + "/avatar_simple_agent.png",
visitor$string: n.IMAGES_URL + "/avatar_simple_visitor.png"
},
chat_button: {
display_status$bool: !1,
use_bubble$bool: !1
},
chat_window: {
profile_card: {
display_avatar$bool: !0
},
use_banner$bool: !0
}
};
r.generate = function(t) {
var e = "Verdana, Geneva, sans-serif", i = t.custom_fonts && t.custom_fonts.font_family$string || "", n = {
fontFamily: e,
customFontFamily: i ? i + ", " + e : e,
fontSizeXS: "10px",
fontSizeS: "11px",
fontSize: "12px",
fontSizeL: "14px",
fontSizeXL: "16px",
fontSizeXXL: "18px",
marginXS: "3px",
marginS: "5px",
margin: "10px",
marginL: "15px",
marginXL: "20px",
paddingS: "3px",
padding: "6px",
paddingL: "8px",
paddingXL: "10px",
borderWidth: "1px",
borderStyle: "solid",
borderColor: o.black,
radiusS: "3px",
radius: "5px",
headColor: o.white,
headBg: o.black,
headLowContrastColor: o.grey,
contentColor: o.black,
contentHeaderColor: o.black,
contentBg: o.white,
contentBlockBg: o.grey,
contentBlockRadius: "$$radius",
placeholderColor: o.grey,
inputMenuBg: o.white,
errorColor: "#CC0000",
dividerColor: o.grey,
inputColor: o.black,
inputBg: "$$inputMenuBg",
inputBorderWidth: "$$borderWidth",
inputBorderStyle: "$$borderStyle",
inputBorderColor: "$$borderColor",
inputPadding: "$$padding",
inputRadius: "$$radius",
inputShadow: "",
inputFocusColor: "",
inputFocusBg: "",
inputFocusBorderColor: "",
inputFocusShadow: "",
inputPlaceholderColor: "$$placeholderColor",
inputPlaceholderFontStyle: "italic",
inputInvalidColor: "",
inputInvalidBg: "",
inputInvalidBorderColor: "$$errorColor",
inputInvalidShadow: "",
buttonColor: o.white,
buttonBg: o.black,
buttonBorderWidth: "$$borderWidth",
buttonBorderStyle: "$$borderStyle",
buttonBorderColor: "",
buttonPadding: "$$padding",
buttonPaddingHorizontal: "$$paddingS",
buttonRadius: "$$radiusS",
buttonShadow: "",
buttonFontWeight: "bold",
buttonHoverColor: "",
buttonHoverBg: "",
buttonHoverBorderColor: "",
buttonHoverShadow: "",
buttonActiveColor: "",
buttonActiveBg: "",
buttonActiveBorderColor: "",
buttonActiveShadow: "",
buttonSecColor: o.white,
buttonSecBg: o.grey,
buttonSecBorderColor: "",
buttonSecShadow: "",
buttonSecHoverColor: "",
buttonSecHoverBg: "",
buttonSecHoverBorderColor: "",
buttonSecHoverShadow: "",
buttonSecActiveColor: "",
buttonSecActiveBg: "",
buttonSecActiveBorderColor: "",
buttonSecActiveShadow: "",
buttonShortPadding: "$$paddingS",
formSubmittedBg: "$$contentBlockBg",
formSubmittedRadius: "$$radius",
formSubmittedBorderWidth: 0,
formSubmittedBorderStyle: "",
formSubmittedBorderColor: "",
errorMessageColor: "$$errorColor",
errorMessageFontWeight: "bold",
errorMessageFontStyle: "italic",
scrollableFrameInnerPaddingSmall: "$$margin",
scrollableFrameInnerPaddingMedium: "$$marginXL",
scrollableFrameInnerPaddingLarge: "$$marginXL",
scrollableFrameTopHeight: "",
scrollableFrameTopBackground: "",
scrollableFrameTopBackgroundColor: "",
scrollableFrameBottomHeight: "",
scrollableFrameBottomBackground: "",
scrollableFrameBottomBackgroundColor: "",
toastColor: o.white,
toastBg: o.black,
toastPadding: "$$paddingXL",
toastBorderWidth: "$$borderWidth",
toastBorderStyle: "$$borderStyle",
toastBorderColor: "$$borderColor",
toastRadius: "$$radius",
toastShadow: "",
avatarBorderWidth: 0,
avatarBorderStyle: "$$borderStyle",
avatarBorderColor: "$$borderColor",
avatarRadius: "$$radiusS",
avatarShadow: "",
profileCardAvatarBorderWidth: "",
profileCardAvatarBorderStyle: "",
profileCardAvatarBorderColor: "",
profileCardAvatarRadius: "",
profileCardAvatarShadow: "",
profileCardNameColor: o.black,
profileCardTitleColor: o.grey,
bottomHeight: "40px",
bottomHeightBottomPadding: "50px",
bottomBorderWidth: "",
bottomBorderStyle: "$$borderStyle",
bottomBorderColor: "$$borderColor",
bottomNoteBorderWidth: 0,
bottomNoteBorderStyle: "$$borderStyle",
bottomNoteBorderColor: "$$borderColor",
brandingLinkColor: "$$actionBarColor",
chatMotifHill: "",
chatMotifBubble: "",
facebook: "#3B5998",
facebookActive: "#637BAD",
twitter: "#00ACEE",
twitterActive: "#7EB2D4",
google: "#DD4B39",
googleActive: "#E0736F",
externalIconColor: "$$placeholderColor",
authButtonBg: "",
authButtonBorderColor: "",
authButtonShadow: "",
chatRatingsEmoticonColor: "#999",
chatRatingsEmoticonActive: "#DDD",
chatRatingsEmoticonHover: "#EEE",
chatRatingsThumbLight: "#999",
chatRatingsThumbDark: "#666",
chatRatingsThumbActive: "#EEE",
chatRatingsThumbBGHover: "#DDD",
chatButtonMinWidth: "180px",
chatButtonMaxWidth: "300px",
chatButtonHeight: "30px",
chatButtonColor: "$$headColor",
chatButtonBg: "$$headBg",
chatButtonBorderWidth: "$$borderWidth",
chatButtonBorderStyle: "$$borderStyle",
chatButtonBorderColor: "$$dividerColor",
chatButtonRadius: "$$radius",
chatButtonShadow: "",
chatButtonPadding: "$$paddingXL",
chatButtonPaddingFavicon: "$$chatButtonPadding",
chatButtonFontWeight: "bold",
chatButtonStatusFontWeight: "bold",
faviconWidth: "36px",
faviconColor: "$$chatButtonColor",
faviconOnlineColor: "",
faviconOfflineColor: "",
faviconBg: "$$chatButtonBg",
faviconDotsColor: "",
chatBubbleTitle: "",
chatBubbleText: "",
chatBubbleClose: "",
windowMiniWidth: "240px",
windowMiniHeight: "200px",
windowSmallWidth: "240px",
windowSmallHeight: "335px",
windowMediumWidth: "290px",
windowMediumHeight: "400px",
windowLargeWidth: "350px",
windowLargeHeight: "450px",
windowColor: "$$contentColor",
windowBg: "$$contentBg",
windowPadding: "",
windowRadius: "$$radius",
windowShadow: "",
windowContentBg: "$$contentBg",
windowContentBorderWidth: "$$borderWidth",
windowContentBorderStyle: "$$borderStyle",
windowContentBorderColor: "$$dividerColor",
menuColor: "$$contentColor",
menuBg: "$$inputMenuBg",
menuBorderWidth: "$$borderWidth",
menuBorderStyle: "$$borderStyle",
menuBorderColor: "$$dividerColor",
menuRadius: "$$radius",
menuShadow: "$$windowShadow",
menuHeaderColor: "$$placeholderColor",
menuItemPadding: "3px 20px",
menuItemHoverBg: o.grey,
titleBarHeight: "24px",
titleBarPaddingBefore: "60px",
titleBarPaddingAfter: "60px",
titleBarFontSize: "$$fontSizeS",
titleBarColor: "$$headLowContrastColor",
titleBarBg: "$$headBg",
titleBarBorderWidth: "",
titleBarBorderStyle: "$$borderStyle",
titleBarBorderColor: "$$borderColor",
titleBarFontWeight: "bold",
titleBarTextAlign: "center",
actionBarWidth: "100%",
actionBarHeight: "24px",
actionBarColor: o.grey,
actionBarColorDiabled: "#AAA",
actionBarBg: "$$windowContentBg",
actionBarBorderWidth: "",
actionBarBorderStyle: "$$borderStyle",
actionBarBorderColor: "$$borderColor",
actionBarPadding: "10px",
actionBarHoverColor: "",
chatPanelProfileCardContainerHeight: "50px",
chatPanelProfileCardContainerBackground: "",
chatPanelProfileCardContainerBorderWidth: "",
chatPanelProfileCardContainerBorderStyle: "$$borderStyle",
chatPanelProfileCardContainerBorderColor: "$$borderColor",
chatPanelProfileCardAvatarBorderWidth: "",
chatPanelProfileCardAvatarBorderStyle: "",
chatPanelProfileCardAvatarBorderColor: "",
chatPanelProfileCardAvatarRadius: "",
chatPanelProfileCardAvatarShadow: "",
chatLogMargin: "$$margin",
chatLogVisitorNameColor: "$$contentHeaderColor",
chatLogVisitorBubbleBg: "",
chatLogVisitorBubbleBorderWidth: "$$borderWidth",
chatLogVisitorBubbleBorderStyle: "$$borderStyle",
chatLogVisitorBubbleBorderColor: "$$borderColor",
chatLogAgentNameColor: "$$contentHeaderColor",
chatLogAgentBubbleBg: "",
chatLogAgentBubbleBorderWidth: "$$borderWidth",
chatLogAgentBubbleBorderStyle: "$$borderStyle",
chatLogAgentBubbleBorderColor: "$$borderColor",
chatLogAvatarBorderWidth: "",
chatLogAvatarBorderStyle: "",
chatLogAvatarBorderColor: "",
chatLogAvatarRadius: "",
chatLogAvatarShadow: "",
chatLogSystemMsgColor: "$$placeholderColor",
chatLogSystemMsgBg: "",
chatLogSystemMsgBorderWidth: 0,
chatLogSystemMsgBorderStyle: "$$borderStyle",
chatLogSystemMsgBorderColor: "$$borderColor",
chatLogSystemMsgPadding: "",
chatLogFileProgressBg: "$$headBg",
chatTextAreaBorderWidth: "",
chatTextAreaBorderStyle: "$$borderStyle",
chatTextAreaBorderColor: "$$borderColor",
chatTextAreaPadding: "10px 10px 0",
chatTextAreaInputFontSize: "",
chatTextAreaInputMinHeight: "42px",
chatTextAreaInputMaxHeight: "64px",
chatTextAreaInputLineHeight: "",
chatTextAreaInputColor: "",
chatTextAreaInputBg: "",
chatTextAreaInputBorderWidth: "",
chatTextAreaInputBorderStyle: "",
chatTextAreaInputBorderColor: "",
chatTextAreaInputPadding: "",
chatTextAreaInputRadius: "",
chatTextAreaInputShadow: "",
chatTextAreaInputFocusColor: "",
chatTextAreaInputFocusBg: "",
chatTextAreaInputFocusBorderColor: "",
chatTextAreaInputFocusShadow: "",
chatTextAreaSubmitMargin: "6px",
chatTextAreaSubmitPadding: "5px 10px",
chatTranslationSwitchColor: o.grey,
chatTextAreaDropColor: "",
chatTextAreaDropBg: "",
chatTextAreaDropBorderWidth: "",
chatTextAreaDropBorderStyle: "",
chatTextAreaDropBorderColor: "",
agentBubbleBg: "",
visitorBubbleBg: "",
badgeBg: "",
badgeBorderWidth: "",
badgeBorderStyle: "$$borderStyle",
badgeBorderColor: "$$borderColor",
badgeContentColor: "$$headColor",
badgeContentBg: "",
badgeContentBorderWidth: "$$borderWidth",
badgeContentBorderStyle: "$$borderStyle",
badgeContentBorderColor: "$$borderColor",
badgeFormHeight: "36px",
badgeFormBg: "",
badgeFormBorderWidth: "$$borderWidth",
badgeFormBorderStyle: "$$borderStyle",
badgeFormBorderColor: "$$borderColor",
badgeInputColor: "",
badgeInputBorderWidth: "",
badgeInputBorderStyle: "",
badgeInputBorderColor: "",
badgeInputPadding: "$$paddingXL",
badgeInputRadius: "$$radius",
badgeInputShadow: "",
badgeInputFocusColor: "",
badgeInputFocusBg: "",
badgeInputFocusBorderColor: "",
badgeInputFocusShadow: "",
badgeInputPlaceholderColor: "",
badgeIconColor: ""
}, r = {
windowRadius: 0
}, s = {
fontSizeXS: "12px",
fontSizeS: "13px",
fontSize: "14px",
fontSizeL: "16px",
fontSizeXL: "18px",
fontSizeXXL: "20px",
mobileMaxWidthS: "360px",
mobileMaxWidth: "480px",
mobileMaxWidthL: "640px",
inputPadding: "$$paddingXL",
buttonPadding: "$$paddingXL",
menuItemPadding: "14px",
titleBarHeight: "44px",
actionBarWidth: "$$titleBarHeight",
actionBarHeight: "$$titleBarHeight",
menuRadius: 0,
brandingLinkColor: o.grey
};
return {
standard: n,
popout: r,
mobile: s
};
};
t.exports = r;
e(r, "meshim_widget_themes_Base");
return r;
}();
}).call(e, i(3));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
var n = i(77), o = {
white: "#FFF",
black: "#000",
grey: "#808080"
};
o.clampLuminance = function(t, e, i) {
t = o.getChromaObj(t);
if (t) {
e < 0 && (e = 0);
i > 1 && (i = 1);
var n = t.luminance(), r = n < e ? e : n > i ? i : n;
return n === r ? t : o.getColorAtLuminance(t, r);
}
};
o.lighten = function(t, e, i) {
return n.interpolate(t, o.white, e, i || "rgb");
};
o.darken = function(t, e, i) {
return n.interpolate(t, o.black, e, i || "rgb");
};
var r = 100;
o.getColorAtLuminance = function(t, e) {
if (!(e < 0 || e > 1)) {
t = o.getChromaObj(t);
if (t) {
var i = 0;
if (t.luminance() >= e) for (;;) {
i++;
if (t.luminance() <= e + .05 || i >= r) return t;
t = o.darken(t, .05);
} else for (;;) {
i++;
if (t.luminance() >= e - .05 || i >= r) return t;
t = o.lighten(t, .05);
}
}
}
};
o.getColorAtContrast = function(t, e, i) {
if (!(i < 1)) {
t = o.getChromaObj(t);
e = o.getChromaObj(e);
if (t && e) {
var s = 0;
if (n.contrast(t, e) >= i) for (;;) {
s++;
if (n.contrast(t, e) <= i + .5 || s >= r) return e;
e = e.luminance() >= t.luminance() ? o.darken(e, .05) : o.lighten(e, .05);
} else for (var a = n.contrast(t, o.white), _ = n.contrast(t, o.black); ;) {
s++;
if (n.contrast(t, e) >= i - .5 || s >= r) return e;
if (e.luminance() >= t.luminance()) if (a >= i - .5) e = o.lighten(e, .05); else {
if (!(_ >= i - .5)) return a > _ ? o.getChromaObj(o.white) : o.getChromaObj(o.black);
e = o.darken(e, .05);
} else if (_ >= i - .5) e = o.darken(e, .05); else {
if (!(a >= i - .5)) return a > _ ? o.getChromaObj(o.white) : o.getChromaObj(o.black);
e = o.lighten(e, .05);
}
}
}
}
};
o.getContrastColor = function(t, e, i, n, r, s, a) {
t = o.getChromaObj(t);
e = o.getChromaObj(e);
i = o.getChromaObj(i);
if (t && e && i) {
var _ = t.luminance();
return "bright" === r ? _ < n ? e : o.getColorAtContrast(t, i, a ? a : 2.5) : "dark" === r ? _ > n ? i : o.getColorAtContrast(t, e, s ? s : 4.5) : void 0;
}
};
o.isHexColor = function(t) {
return !("string" != typeof t || !/^#[0-9A-F]{3}([0-9A-F]{3})?$/i.test(t));
};
o.getChromaObj = function(t) {
return o.isHexColor(t) ? n.hex(t) : t instanceof n.constructor && t;
};
o.rgbaColor = function(t, e) {
t = o.getChromaObj(t);
if (t) {
if ("undefined" == typeof e) e = 1; else {
e = parseFloat(e);
(isNaN(e) || e > 1) && (e = 1);
e < 0 && (e = 0);
}
return "rgba(" + o.toRGB(t).join(",") + "," + e + ")";
}
};
o.toRGB = function(t) {
t = o.getChromaObj(t);
if (t) {
var e = t.rgb();
e[0] = parseInt(e[0], 10);
e[1] = parseInt(e[1], 10);
e[2] = parseInt(e[2], 10);
return e;
}
};
t.exports = o;
e(o, "meshim_widget_utils_Color");
return o;
}();
}).call(e, i(3));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
var t = {}, i = {};
(function() {
var e, n, o, r, s, a, _, l, u, d, c, h, f, p, g, m, $, b, w, x, v, y, j, C, S, A, k, I, N, B, T, D, E, O, P, L, W, R, F, M, V, H, z, q;
O = "undefined" != typeof t && null !== t ? t : this;
d = null != (F = O.chroma) ? F : O.chroma = {};
"undefined" != typeof i && null !== i && (i.exports = d);
e = function() {
function t(t, e, i, n) {
var o, r, s;
o = this;
null == t && null == e && null == i && null == n && (t = [ 255, 0, 255 ]);
if ("array" === P(t) && 3 === t.length) {
null == n && (n = e);
s = t, t = s[0], e = s[1], i = s[2];
}
"string" === P(t) ? n = "hex" : null == n && (n = "rgb");
"rgb" === n ? o._rgb = [ t, e, i ] : "hsl" === n ? o._rgb = $(t, e, i) : "hsv" === n ? o._rgb = b(t, e, i) : "hex" === n ? o._rgb = g(t) : "lab" === n ? o._rgb = x(t, e, i) : "lch" === n ? o._rgb = j(t, e, i) : "hsi" === n && (o._rgb = m(t, e, i));
r = c(o._rgb);
}
t.prototype.rgb = function() {
return this._rgb;
};
t.prototype.hex = function() {
return k(this._rgb);
};
t.prototype.toString = function() {
return this.hex();
};
t.prototype.hsl = function() {
return N(this._rgb);
};
t.prototype.hsv = function() {
return B(this._rgb);
};
t.prototype.lab = function() {
return T(this._rgb);
};
t.prototype.lch = function() {
return D(this._rgb);
};
t.prototype.hsi = function() {
return I(this._rgb);
};
t.prototype.luminance = function() {
return S(this._rgb);
};
t.prototype.name = function() {
var t, e;
t = this.hex();
for (e in d.colors) if (d.colors.hasOwnProperty(e) && t === d.colors[e]) return e;
return t;
};
t.prototype.interpolate = function(e, i, n) {
var o, r, s, a, _, l, u, d, c, h, f, p, g;
d = this;
null == n && (n = "rgb");
"string" === P(i) && (i = new t(i));
if ("hsl" === n || "hsv" === n || "lch" === n || "hsi" === n) {
if ("hsl" === n) {
p = d.hsl();
g = i.hsl();
} else if ("hsv" === n) {
p = d.hsv();
g = i.hsv();
} else if ("hsi" === n) {
p = d.hsi();
g = i.hsi();
} else if ("lch" === n) {
p = d.lch();
g = i.lch();
}
if ("h" === n.substr(0, 1)) {
s = p[0], h = p[1], l = p[2];
a = g[0], f = g[1], u = g[2];
} else {
l = p[0], h = p[1], s = p[2];
u = g[0], f = g[1], a = g[2];
}
if (isNaN(s) || isNaN(a)) if (isNaN(s)) if (isNaN(a)) r = void 0; else {
r = a;
1 !== l && 0 !== l || (c = f);
} else {
r = s;
1 !== u && 0 !== u || (c = h);
} else {
o = a > s && a - s > 180 ? a - (s + 360) : a < s && s - a > 180 ? a + 360 - s : a - s;
r = s + e * o;
}
null == c && (c = h + e * (f - h));
_ = l + e * (u - l);
return "h" === n.substr(0, 1) ? new t(r, c, _, n) : new t(_, c, r, n);
}
if ("rgb" === n) {
p = d._rgb;
g = i._rgb;
return new t(p[0] + e * (g[0] - p[0]), p[1] + e * (g[1] - p[1]), p[2] + e * (g[2] - p[2]), n);
}
if ("lab" === n) {
p = d.lab();
g = i.lab();
return new t(p[0] + e * (g[0] - p[0]), p[1] + e * (g[1] - p[1]), p[2] + e * (g[2] - p[2]), n);
}
throw "color mode " + n + " is not supported";
};
t.prototype.darken = function(t) {
var e, i;
null == t && (t = 20);
i = this;
e = i.lch();
e[0] -= t;
return d.lch(e);
};
t.prototype.darker = function(t) {
return this.darken(t);
};
t.prototype.brighten = function(t) {
null == t && (t = 20);
return this.darken(-t);
};
t.prototype.brighter = function(t) {
return this.brighten(t);
};
t.prototype.saturate = function(t) {
var e, i;
null == t && (t = 20);
i = this;
e = i.lch();
e[1] += t;
return d.lch(e);
};
t.prototype.desaturate = function(t) {
null == t && (t = 20);
return this.saturate(-t);
};
return t;
}();
g = function(t) {
var e, i, n, o, r;
if (t.match(/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/)) {
4 !== t.length && 7 !== t.length || (t = t.substr(1));
if (3 === t.length) {
t = t.split("");
t = t[0] + t[0] + t[1] + t[1] + t[2] + t[2];
}
r = parseInt(t, 16);
n = r >> 16;
i = r >> 8 & 255;
e = 255 & r;
return [ n, i, e ];
}
if (o = p(t)) return o;
throw "unknown color: " + t;
};
p = function(t) {
var e, i, n, o;
if (null != d.colors && d.colors[t]) return g(d.colors[t]);
if (n = t.match(/rgb\(\s*(\-?\d+),\s*(\-?\d+)\s*,\s*(\-?\d+)\s*\)/)) return n.slice(1, 4);
if (n = t.match(/rgb\(\s*(\-?\d+)%,\s*(\-?\d+)%\s*,\s*(\-?\d+)%\s*\)/)) {
o = n.slice(1, 4);
for (i in o) o.hasOwnProperty(i) && (o[i] = Math.round(2.55 * o[i]));
return o;
}
if (n = t.match(/hsl\(\s*(\-?\d+),\s*(\-?\d+)%\s*,\s*(\-?\d+)%\s*\)/)) {
e = n.slice(1, 4);
e[1] *= .01;
e[2] *= .01;
return $(e);
}
};
k = function() {
var t, e, i, n, o, r;
r = L(arguments), i = r[0], e = r[1], t = r[2];
o = i << 16 | e << 8 | t;
n = "000000" + o.toString(16);
return "#" + n.substr(n.length - 6);
};
b = function() {
var t, e, i, n, o, r, s, a, _, l, u, d, c, h, f, p, g, m;
d = L(arguments), n = d[0], _ = d[1], u = d[2];
u *= 255;
if (0 === _) a = i = t = u; else {
360 === n && (n = 0);
n > 360 && (n -= 360);
n < 0 && (n += 360);
n /= 60;
o = Math.floor(n);
e = n - o;
r = u * (1 - _);
s = u * (1 - _ * e);
l = u * (1 - _ * (1 - e));
switch (o) {
case 0:
c = [ u, l, r ], a = c[0], i = c[1], t = c[2];
break;

case 1:
h = [ s, u, r ], a = h[0], i = h[1], t = h[2];
break;

case 2:
f = [ r, u, l ], a = f[0], i = f[1], t = f[2];
break;

case 3:
p = [ r, s, u ], a = p[0], i = p[1], t = p[2];
break;

case 4:
g = [ l, r, u ], a = g[0], i = g[1], t = g[2];
break;

case 5:
m = [ u, r, s ], a = m[0], i = m[1], t = m[2];
}
}
a = Math.round(a);
i = Math.round(i);
t = Math.round(t);
return [ a, i, t ];
};
B = function() {
var t, e, i, n, o, r, s, a, _, l;
l = L(arguments), s = l[0], i = l[1], t = l[2];
r = Math.min(s, i, t);
o = Math.max(s, i, t);
e = o - r;
_ = o / 255;
if (0 === o) {
n = void 0;
a = 0;
} else {
a = e / o;
s === o && (n = (i - t) / e);
i === o && (n = 2 + (t - s) / e);
t === o && (n = 4 + (s - i) / e);
n *= 60;
n < 0 && (n += 360);
}
return [ n, a, _ ];
};
$ = function() {
var t, e, i, n, o, r, s, a, _, l, u, d, c, h;
c = L(arguments), n = c[0], a = c[1], r = c[2];
if (0 === a) s = i = t = 255 * r; else {
u = [ 0, 0, 0 ];
e = [ 0, 0, 0 ];
l = r < .5 ? r * (1 + a) : r + a - r * a;
_ = 2 * r - l;
n /= 360;
u[0] = n + 1 / 3;
u[1] = n;
u[2] = n - 1 / 3;
for (o = d = 0; d <= 2; o = ++d) {
u[o] < 0 && (u[o] += 1);
u[o] > 1 && (u[o] -= 1);
6 * u[o] < 1 ? e[o] = _ + 6 * (l - _) * u[o] : 2 * u[o] < 1 ? e[o] = l : 3 * u[o] < 2 ? e[o] = _ + (l - _) * (2 / 3 - u[o]) * 6 : e[o] = _;
}
h = [ Math.round(255 * e[0]), Math.round(255 * e[1]), Math.round(255 * e[2]) ], 
s = h[0], i = h[1], t = h[2];
}
return [ s, i, t ];
};
N = function(t, e, i) {
var n, o, r, s, a, _;
void 0 !== t && 3 === t.length && (_ = t, t = _[0], e = _[1], i = _[2]);
t /= 255;
e /= 255;
i /= 255;
s = Math.min(t, e, i);
r = Math.max(t, e, i);
o = (r + s) / 2;
if (r === s) {
a = 0;
n = void 0;
} else a = o < .5 ? (r - s) / (r + s) : (r - s) / (2 - r - s);
t === r ? n = (e - i) / (r - s) : e === r ? n = 2 + (i - t) / (r - s) : i === r && (n = 4 + (t - e) / (r - s));
n *= 60;
n < 0 && (n += 360);
return [ n, a, o ];
};
o = 18;
a = .95047;
_ = 1;
l = 1.08883;
x = function(t, e, i) {
var n, o, r, s, u, d, c;
void 0 !== t && 3 === t.length && (d = t, t = d[0], e = d[1], i = d[2]);
void 0 !== t && 3 === t.length && (c = t, t = c[0], e = c[1], i = c[2]);
s = (t + 16) / 116;
r = s + e / 500;
u = s - i / 200;
r = v(r) * a;
s = v(s) * _;
u = v(u) * l;
o = R(3.2404542 * r - 1.5371385 * s - .4985314 * u);
n = R(-.969266 * r + 1.8760108 * s + .041556 * u);
i = R(.0556434 * r - .2040259 * s + 1.0572252 * u);
return [ C(o, 0, 255), C(n, 0, 255), C(i, 0, 255) ];
};
T = function() {
var t, e, i, n, o, r, s;
s = L(arguments), i = s[0], e = s[1], t = s[2];
i = E(i);
e = E(e);
t = E(t);
n = W((.4124564 * i + .3575761 * e + .1804375 * t) / a);
o = W((.2126729 * i + .7151522 * e + .072175 * t) / _);
r = W((.0193339 * i + .119192 * e + .9503041 * t) / l);
return [ 116 * o - 16, 500 * (n - o), 200 * (o - r) ];
};
y = function() {
var t, e, i, n;
n = L(arguments), i = n[0], t = n[1], e = n[2];
e = e * Math.PI / 180;
return [ i, Math.cos(e) * t, Math.sin(e) * t ];
};
j = function(t, e, i) {
var n, o, r, s, a, _, l;
_ = y(t, e, i), n = _[0], o = _[1], r = _[2];
l = x(n, o, r), a = l[0], s = l[1], r = l[2];
return [ C(a, 0, 255), C(s, 0, 255), C(r, 0, 255) ];
};
v = function(t) {
return t > .206893034 ? t * t * t : (t - 4 / 29) / 7.787037;
};
W = function(t) {
return t > .008856 ? Math.pow(t, 1 / 3) : 7.787037 * t + 4 / 29;
};
R = function(t) {
return Math.round(255 * (t <= .00304 ? 12.92 * t : 1.055 * Math.pow(t, 1 / 2.4) - .055));
};
E = function(t) {
return (t /= 255) <= .04045 ? t / 12.92 : Math.pow((t + .055) / 1.055, 2.4);
};
w = function() {
var t, e, i, n, o, r;
r = L(arguments), o = r[0], t = r[1], e = r[2];
i = Math.sqrt(t * t + e * e);
n = Math.atan2(e, t) / Math.PI * 180;
return [ o, i, n ];
};
D = function() {
var t, e, i, n, o, r, s;
r = L(arguments), o = r[0], i = r[1], e = r[2];
s = T(o, i, e), n = s[0], t = s[1], e = s[2];
return w(n, t, e);
};
I = function() {
var t, e, i, n, o, r, s, a, _;
_ = L(arguments), s = _[0], i = _[1], e = _[2];
t = 2 * Math.PI;
s /= 255;
i /= 255;
e /= 255;
r = Math.min(s, i, e);
o = (s + i + e) / 3;
a = 1 - r / o;
if (0 === a) n = 0; else {
n = (s - i + (s - e)) / 2;
n /= Math.sqrt((s - i) * (s - i) + (s - e) * (i - e));
n = Math.acos(n);
e > i && (n = t - n);
n /= t;
}
return [ 360 * n, a, o ];
};
m = function(t, e, i) {
var n, o, a, _;
_ = L(arguments), t = _[0], e = _[1], i = _[2];
t /= 360;
if (t < 1 / 3) {
n = (1 - e) / 3;
a = (1 + e * f(s * t) / f(r - s * t)) / 3;
o = 1 - (n + a);
} else if (t < 2 / 3) {
t -= 1 / 3;
a = (1 - e) / 3;
o = (1 + e * f(s * t) / f(r - s * t)) / 3;
n = 1 - (a + o);
} else {
t -= 2 / 3;
o = (1 - e) / 3;
n = (1 + e * f(s * t) / f(r - s * t)) / 3;
a = 1 - (o + n);
}
a = C(i * a * 3);
o = C(i * o * 3);
n = C(i * n * 3);
return [ 255 * a, 255 * o, 255 * n ];
};
c = function(t) {
var e;
for (e in t) if (t.hasOwnProperty(e)) {
t[e] < 0 && (t[e] = 0);
t[e] > 255 && (t[e] = 255);
}
return t;
};
S = function(t, e, i) {
var n;
n = L(arguments), t = n[0], e = n[1], i = n[2];
t = A(t);
e = A(e);
i = A(i);
return .2126 * t + .7152 * e + .0722 * i;
};
A = function(t) {
t /= 255;
return t <= .03928 ? t / 12.92 : Math.pow((t + .055) / 1.055, 2.4);
};
d.Color = e;
d.color = function(t, i, n, o) {
return new e(t, i, n, o);
};
d.hsl = function(t, i, n) {
return new e(t, i, n, "hsl");
};
d.hsv = function(t, i, n) {
return new e(t, i, n, "hsv");
};
d.rgb = function(t, i, n) {
return new e(t, i, n, "rgb");
};
d.hex = function(t) {
return new e(t);
};
d.css = function(t) {
return new e(t);
};
d.lab = function(t, i, n) {
return new e(t, i, n, "lab");
};
d.lch = function(t, i, n) {
return new e(t, i, n, "lch");
};
d.hsi = function(t, i, n) {
return new e(t, i, n, "hsi");
};
d.interpolate = function(t, i, n, o) {
if (null == t || null == i) return "#000";
"string" === P(t) && (t = new e(t));
"string" === P(i) && (i = new e(i));
return t.interpolate(n, i, o);
};
d.contrast = function(t, i) {
var n, o;
"string" === P(t) && (t = new e(t));
"string" === P(i) && (i = new e(i));
n = t.luminance();
o = i.luminance();
return n > o ? (n + .05) / (o + .05) : (o + .05) / (n + .05);
};
O = "undefined" != typeof t && null !== t ? t : this;
d = null != (M = O.chroma) ? M : O.chroma = {};
e = d.Color;
n = function() {
function t(t) {
var e, i, n;
null == t && (t = {});
e = this;
e.range(t.colors, t.positions);
e._mode = null != (i = t.mode) ? i : "rgb";
e._nacol = d.hex(null != (n = t.nacol) ? n : d.hex("#ccc"));
e._spread = 0;
e._fixed = !1;
e.domain([ 0, 1 ]);
}
t.prototype.range = function(t, i) {
var n, o, r, s, a, _, l, u;
r = this;
null == t && (t = [ "#ddd", "#222" ]);
null != t && "string" === P(t) && null != (null != (_ = d.brewer) ? _[t] : void 0) && (t = d.brewer[t].slice(0));
for (n = s = 0, l = t.length - 1; 0 <= l ? s <= l : s >= l; n = 0 <= l ? ++s : --s) {
o = t[n];
"string" === P(o) && (t[n] = new e(o));
}
r._colors = t;
if (null != i) r._pos = i; else {
r._pos = [];
for (n = a = 0, u = t.length - 1; 0 <= u ? a <= u : a >= u; n = 0 <= u ? ++a : --a) r._pos.push(n / (t.length - 1));
}
return r;
};
t.prototype.domain = function(t) {
var e;
null == t && (t = []);
e = this;
e._domain = t;
e._min = t[0];
e._max = t[t.length - 1];
2 === t.length ? e._numClasses = 0 : e._numClasses = t.length - 1;
return e;
};
t.prototype.get = function(t) {
var e, i, n, o;
o = this;
if (isNaN(t)) return o._nacol;
if (o._domain.length > 2) {
e = o.getClass(t);
i = e / (o._numClasses - 1);
} else {
i = n = (t - o._min) / (o._max - o._min);
i = Math.min(1, Math.max(0, i));
}
return o.fColor(i);
};
t.prototype.fColor = function(t) {
var e, i, n, o, r, s, a;
o = this;
i = o._colors;
for (n = s = 0, a = o._pos.length - 1; 0 <= a ? s <= a : s >= a; n = 0 <= a ? ++s : --s) {
r = o._pos[n];
if (t <= r) {
e = i[n];
break;
}
if (t >= r && n === o._pos.length - 1) {
e = i[n];
break;
}
if (t > r && t < o._pos[n + 1]) {
t = (t - r) / (o._pos[n + 1] - r);
e = d.interpolate(i[n], i[n + 1], t, o._mode);
break;
}
}
return e;
};
t.prototype.classifyValue = function(t) {
var e, i, n, o, r, s, a;
o = this;
e = o._domain;
a = t;
if (e.length > 2) {
s = e.length - 1;
i = o.getClass(t);
r = e[0] + (e[1] - e[0]) * (0 + .5 * o._spread);
n = e[s - 1] + (e[s] - e[s - 1]) * (1 - .5 * o._spread);
a = o._min + (e[i] + .5 * (e[i + 1] - e[i]) - r) / (n - r) * (o._max - o._min);
}
return a;
};
t.prototype.getClass = function(t) {
var e, i, n, o;
o = this;
e = o._domain;
if (null != e) {
n = e.length - 1;
i = 0;
for (;i < n && t >= e[i]; ) i++;
return i - 1;
}
return 0;
};
t.prototype.validValue = function(t) {
return !isNaN(t);
};
return t;
}();
d.ColorScale = n;
d.scale = function(t, e) {
var i, n, o;
i = new d.ColorScale();
i.range(t, e);
o = !1;
n = function(t) {
var e;
e = i.get(t);
return o && e[o] ? e[o]() : e;
};
n.domain = function(t, e, o, r) {
var s;
null == o && (o = "e");
if (!arguments.length) return i._domain;
if (null != e) {
s = d.analyze(t, r);
t = 0 === e ? [ s.min, s.max ] : d.limits(s, o, e);
}
i.domain(t);
return n;
};
n.mode = function(t) {
if (!arguments.length) return i._mode;
i._mode = t;
return n;
};
n.range = function(t, e) {
i.range(t, e);
return n;
};
n.out = function(t) {
o = t;
return n;
};
n.getColor = function(t) {
return n(t);
};
n.spread = function(t) {
if (!arguments.length) return i._spread;
i._spread = t;
return n;
};
return n;
};
null == (V = d.scales) && (d.scales = {});
d.scales.cool = function() {
return d.scale([ d.hsl(180, 1, .9), d.hsl(250, .7, .4) ]);
};
d.scales.hot = function() {
return d.scale([ "#000", "#f00", "#ff0", "#fff" ], [ 0, .25, .75, 1 ]).mode("rgb");
};
d.analyze = function(t, e, i) {
var n, o, r, s, a, _, l;
r = {
min: Number.MAX_VALUE,
max: Number.MAX_VALUE * -1,
sum: 0,
values: [],
count: 0
};
null == i && (i = function() {
return !0;
});
n = function(t) {
if (null != t && !isNaN(t)) {
r.values.push(t);
r.sum += t;
t < r.min && (r.min = t);
t > r.max && (r.max = t);
r.count += 1;
}
};
a = function(t, o) {
if (i(t, o)) return n(null != e && "function" === P(e) ? e(t) : null != e && "string" === P(e) || "number" === P(e) ? t[e] : t);
};
if ("array" === P(t)) for (_ = 0, l = t.length; _ < l; _++) {
s = t[_];
a(s);
} else for (o in t) if (t.hasOwnProperty(o)) {
s = t[o];
a(s, o);
}
r.domain = [ r.min, r.max ];
r.limits = function(t, e) {
return d.limits(r, t, e);
};
return r;
};
d.limits = function(t, e, i) {
var n, o, r, s, a, _, l, u, c, h, f, p, g, m, $, b, w, x, v, y, j, C, S, A, k, I, N, B, T, D, E, O, P, L, W, R, F, M, V, H, z, q, U, G, Y, X, K, Z, Q, J, tt, et, it, nt, ot, rt;
null == e && (e = "equal");
null == i && (i = 7);
null == t.values && (t = d.analyze(t));
g = t.min;
f = t.max;
S = t.sum;
I = t.values.sort(function(t, e) {
return t - e;
});
h = [];
if ("c" === e.substr(0, 1)) {
h.push(g);
h.push(f);
}
if ("e" === e.substr(0, 1)) {
h.push(g);
for (l = N = 1, Y = i - 1; 1 <= Y ? N <= Y : N >= Y; l = 1 <= Y ? ++N : --N) h.push(g + l / i * (f - g));
h.push(f);
} else if ("l" === e.substr(0, 1)) {
if (g <= 0) throw "Logarithmic scales are only possible for values > 0";
m = Math.LOG10E * Math.log(g);
p = Math.LOG10E * Math.log(f);
h.push(g);
for (l = B = 1, X = i - 1; 1 <= X ? B <= X : B >= X; l = 1 <= X ? ++B : --B) h.push(Math.pow(10, m + l / i * (p - m)));
h.push(f);
} else if ("q" === e.substr(0, 1)) {
h.push(g);
for (l = T = 1, K = i - 1; 1 <= K ? T <= K : T >= K; l = 1 <= K ? ++T : --T) {
v = I.length * l / i;
y = Math.floor(v);
if (y === v) h.push(I[y]); else {
j = v - y;
h.push(I[y] * j + I[y + 1] * (1 - j));
}
}
h.push(f);
} else if ("k" === e.substr(0, 1)) {
b = I.length;
n = new Array(b);
a = new Array(i);
C = !0;
w = 0;
r = null;
r = [];
r.push(g);
for (l = D = 1, Z = i - 1; 1 <= Z ? D <= Z : D >= Z; l = 1 <= Z ? ++D : --D) r.push(g + l / i * (f - g));
r.push(f);
for (;C; ) {
for (u = E = 0, Q = i - 1; 0 <= Q ? E <= Q : E >= Q; u = 0 <= Q ? ++E : --E) a[u] = 0;
for (l = O = 0, J = b - 1; 0 <= J ? O <= J : O >= J; l = 0 <= J ? ++O : --O) {
k = I[l];
$ = Number.MAX_VALUE;
for (u = P = 0, tt = i - 1; 0 <= tt ? P <= tt : P >= tt; u = 0 <= tt ? ++P : --P) {
_ = Math.abs(r[u] - k);
if (_ < $) {
$ = _;
o = u;
}
}
a[o]++;
n[l] = o;
}
x = new Array(i);
for (u = L = 0, F = i - 1; 0 <= F ? L <= F : L >= F; u = 0 <= F ? ++L : --L) x[u] = null;
for (l = W = 0, M = b - 1; 0 <= M ? W <= M : W >= M; l = 0 <= M ? ++W : --W) {
s = n[l];
null === x[s] ? x[s] = I[l] : x[s] += I[l];
}
for (u = R = 0, V = i - 1; 0 <= V ? R <= V : R >= V; u = 0 <= V ? ++R : --R) x[u] *= 1 / a[u];
C = !1;
for (u = et = 0, H = i - 1; 0 <= H ? et <= H : et >= H; u = 0 <= H ? ++et : --et) if (x[u] !== r[l]) {
C = !0;
break;
}
r = x;
w++;
w > 200 && (C = !1);
}
c = {};
for (u = it = 0, z = i - 1; 0 <= z ? it <= z : it >= z; u = 0 <= z ? ++it : --it) c[u] = [];
for (l = nt = 0, q = b - 1; 0 <= q ? nt <= q : nt >= q; l = 0 <= q ? ++nt : --nt) {
s = n[l];
c[s].push(I[l]);
}
A = [];
for (u = ot = 0, U = i - 1; 0 <= U ? ot <= U : ot >= U; u = 0 <= U ? ++ot : --ot) {
A.push(c[u][0]);
A.push(c[u][c[u].length - 1]);
}
A = A.sort(function(t, e) {
return t - e;
});
h.push(A[0]);
for (l = rt = 1, G = A.length - 1; rt <= G; l = rt += 2) isNaN(A[l]) || h.push(A[l]);
}
return h;
};
O = "undefined" != typeof t && null !== t ? t : this;
P = function() {
var t, e, i, n, o;
t = {};
o = "Boolean Number String Function Array Date RegExp Undefined Null".split(" ");
for (i = 0, n = o.length; i < n; i++) {
e = o[i];
t["[object " + e + "]"] = e.toLowerCase();
}
return function(e) {
var i;
i = Object.prototype.toString.call(e);
return t[i] || "object";
};
}();
null == (H = O.type) && (O.type = P);
Array.max = function(t) {
return Math.max.apply(Math, t);
};
Array.min = function(t) {
return Math.min.apply(Math, t);
};
C = function(t, e, i) {
null == e && (e = 0);
null == i && (i = 1);
t < e && (t = e);
t > i && (t = i);
return t;
};
L = function(t) {
return 3 === t.length ? t : t[0];
};
s = 2 * Math.PI;
r = Math.PI / 3;
f = Math.cos;
O = "undefined" != typeof t && null !== t ? t : this;
d = null != (z = O.chroma) ? z : O.chroma = {};
d.brewer = u = {
OrRd: [ "#fff7ec", "#fee8c8", "#fdd49e", "#fdbb84", "#fc8d59", "#ef6548", "#d7301f", "#b30000", "#7f0000" ],
PuBu: [ "#fff7fb", "#ece7f2", "#d0d1e6", "#a6bddb", "#74a9cf", "#3690c0", "#0570b0", "#045a8d", "#023858" ],
BuPu: [ "#f7fcfd", "#e0ecf4", "#bfd3e6", "#9ebcda", "#8c96c6", "#8c6bb1", "#88419d", "#810f7c", "#4d004b" ],
Oranges: [ "#fff5eb", "#fee6ce", "#fdd0a2", "#fdae6b", "#fd8d3c", "#f16913", "#d94801", "#a63603", "#7f2704" ],
BuGn: [ "#f7fcfd", "#e5f5f9", "#ccece6", "#99d8c9", "#66c2a4", "#41ae76", "#238b45", "#006d2c", "#00441b" ],
YlOrBr: [ "#ffffe5", "#fff7bc", "#fee391", "#fec44f", "#fe9929", "#ec7014", "#cc4c02", "#993404", "#662506" ],
YlGn: [ "#ffffe5", "#f7fcb9", "#d9f0a3", "#addd8e", "#78c679", "#41ab5d", "#238443", "#006837", "#004529" ],
Reds: [ "#fff5f0", "#fee0d2", "#fcbba1", "#fc9272", "#fb6a4a", "#ef3b2c", "#cb181d", "#a50f15", "#67000d" ],
RdPu: [ "#fff7f3", "#fde0dd", "#fcc5c0", "#fa9fb5", "#f768a1", "#dd3497", "#ae017e", "#7a0177", "#49006a" ],
Greens: [ "#f7fcf5", "#e5f5e0", "#c7e9c0", "#a1d99b", "#74c476", "#41ab5d", "#238b45", "#006d2c", "#00441b" ],
YlGnBu: [ "#ffffd9", "#edf8b1", "#c7e9b4", "#7fcdbb", "#41b6c4", "#1d91c0", "#225ea8", "#253494", "#081d58" ],
Purples: [ "#fcfbfd", "#efedf5", "#dadaeb", "#bcbddc", "#9e9ac8", "#807dba", "#6a51a3", "#54278f", "#3f007d" ],
GnBu: [ "#f7fcf0", "#e0f3db", "#ccebc5", "#a8ddb5", "#7bccc4", "#4eb3d3", "#2b8cbe", "#0868ac", "#084081" ],
Greys: [ "#ffffff", "#f0f0f0", "#d9d9d9", "#bdbdbd", "#969696", "#737373", "#525252", "#252525", "#000000" ],
YlOrRd: [ "#ffffcc", "#ffeda0", "#fed976", "#feb24c", "#fd8d3c", "#fc4e2a", "#e31a1c", "#bd0026", "#800026" ],
PuRd: [ "#f7f4f9", "#e7e1ef", "#d4b9da", "#c994c7", "#df65b0", "#e7298a", "#ce1256", "#980043", "#67001f" ],
Blues: [ "#f7fbff", "#deebf7", "#c6dbef", "#9ecae1", "#6baed6", "#4292c6", "#2171b5", "#08519c", "#08306b" ],
PuBuGn: [ "#fff7fb", "#ece2f0", "#d0d1e6", "#a6bddb", "#67a9cf", "#3690c0", "#02818a", "#016c59", "#014636" ],
Spectral: [ "#9e0142", "#d53e4f", "#f46d43", "#fdae61", "#fee08b", "#ffffbf", "#e6f598", "#abdda4", "#66c2a5", "#3288bd", "#5e4fa2" ],
RdYlGn: [ "#a50026", "#d73027", "#f46d43", "#fdae61", "#fee08b", "#ffffbf", "#d9ef8b", "#a6d96a", "#66bd63", "#1a9850", "#006837" ],
RdBu: [ "#67001f", "#b2182b", "#d6604d", "#f4a582", "#fddbc7", "#f7f7f7", "#d1e5f0", "#92c5de", "#4393c3", "#2166ac", "#053061" ],
PiYG: [ "#8e0152", "#c51b7d", "#de77ae", "#f1b6da", "#fde0ef", "#f7f7f7", "#e6f5d0", "#b8e186", "#7fbc41", "#4d9221", "#276419" ],
PRGn: [ "#40004b", "#762a83", "#9970ab", "#c2a5cf", "#e7d4e8", "#f7f7f7", "#d9f0d3", "#a6dba0", "#5aae61", "#1b7837", "#00441b" ],
RdYlBu: [ "#a50026", "#d73027", "#f46d43", "#fdae61", "#fee090", "#ffffbf", "#e0f3f8", "#abd9e9", "#74add1", "#4575b4", "#313695" ],
BrBG: [ "#543005", "#8c510a", "#bf812d", "#dfc27d", "#f6e8c3", "#f5f5f5", "#c7eae5", "#80cdc1", "#35978f", "#01665e", "#003c30" ],
RdGy: [ "#67001f", "#b2182b", "#d6604d", "#f4a582", "#fddbc7", "#ffffff", "#e0e0e0", "#bababa", "#878787", "#4d4d4d", "#1a1a1a" ],
PuOr: [ "#7f3b08", "#b35806", "#e08214", "#fdb863", "#fee0b6", "#f7f7f7", "#d8daeb", "#b2abd2", "#8073ac", "#542788", "#2d004b" ],
Set2: [ "#66c2a5", "#fc8d62", "#8da0cb", "#e78ac3", "#a6d854", "#ffd92f", "#e5c494", "#b3b3b3" ],
Accent: [ "#7fc97f", "#beaed4", "#fdc086", "#ffff99", "#386cb0", "#f0027f", "#bf5b17", "#666666" ],
Set1: [ "#e41a1c", "#377eb8", "#4daf4a", "#984ea3", "#ff7f00", "#ffff33", "#a65628", "#f781bf", "#999999" ],
Set3: [ "#8dd3c7", "#ffffb3", "#bebada", "#fb8072", "#80b1d3", "#fdb462", "#b3de69", "#fccde5", "#d9d9d9", "#bc80bd", "#ccebc5", "#ffed6f" ],
Dark2: [ "#1b9e77", "#d95f02", "#7570b3", "#e7298a", "#66a61e", "#e6ab02", "#a6761d", "#666666" ],
Paired: [ "#a6cee3", "#1f78b4", "#b2df8a", "#33a02c", "#fb9a99", "#e31a1c", "#fdbf6f", "#ff7f00", "#cab2d6", "#6a3d9a", "#ffff99", "#b15928" ],
Pastel2: [ "#b3e2cd", "#fdcdac", "#cbd5e8", "#f4cae4", "#e6f5c9", "#fff2ae", "#f1e2cc", "#cccccc" ],
Pastel1: [ "#fbb4ae", "#b3cde3", "#ccebc5", "#decbe4", "#fed9a6", "#ffffcc", "#e5d8bd", "#fddaec", "#f2f2f2" ]
};
O = "undefined" != typeof t && null !== t ? t : this;
d = null != (q = O.chroma) ? q : O.chroma = {};
d.colors = h = {
indigo: "#4b0082",
gold: "#ffd700",
hotpink: "#ff69b4",
firebrick: "#b22222",
indianred: "#cd5c5c",
yellow: "#ffff00",
mistyrose: "#ffe4e1",
darkolivegreen: "#556b2f",
olive: "#808000",
darkseagreen: "#8fbc8f",
pink: "#ffc0cb",
tomato: "#ff6347",
lightcoral: "#f08080",
orangered: "#ff4500",
navajowhite: "#ffdead",
lime: "#00ff00",
palegreen: "#98fb98",
darkslategrey: "#2f4f4f",
greenyellow: "#adff2f",
burlywood: "#deb887",
seashell: "#fff5ee",
mediumspringgreen: "#00fa9a",
fuchsia: "#ff00ff",
papayawhip: "#ffefd5",
blanchedalmond: "#ffebcd",
chartreuse: "#7fff00",
dimgray: "#696969",
black: "#000000",
peachpuff: "#ffdab9",
springgreen: "#00ff7f",
aquamarine: "#7fffd4",
white: "#ffffff",
orange: "#ffa500",
lightsalmon: "#ffa07a",
darkslategray: "#2f4f4f",
brown: "#a52a2a",
ivory: "#fffff0",
dodgerblue: "#1e90ff",
peru: "#cd853f",
lawngreen: "#7cfc00",
chocolate: "#d2691e",
crimson: "#dc143c",
forestgreen: "#228b22",
darkgrey: "#a9a9a9",
lightseagreen: "#20b2aa",
cyan: "#00ffff",
mintcream: "#f5fffa",
silver: "#c0c0c0",
antiquewhite: "#faebd7",
mediumorchid: "#ba55d3",
skyblue: "#87ceeb",
gray: "#808080",
darkturquoise: "#00ced1",
goldenrod: "#daa520",
darkgreen: "#006400",
floralwhite: "#fffaf0",
darkviolet: "#9400d3",
darkgray: "#a9a9a9",
moccasin: "#ffe4b5",
saddlebrown: "#8b4513",
grey: "#808080",
darkslateblue: "#483d8b",
lightskyblue: "#87cefa",
lightpink: "#ffb6c1",
mediumvioletred: "#c71585",
slategrey: "#708090",
red: "#ff0000",
deeppink: "#ff1493",
limegreen: "#32cd32",
darkmagenta: "#8b008b",
palegoldenrod: "#eee8aa",
plum: "#dda0dd",
turquoise: "#40e0d0",
lightgrey: "#d3d3d3",
lightgoldenrodyellow: "#fafad2",
darkgoldenrod: "#b8860b",
lavender: "#e6e6fa",
maroon: "#800000",
yellowgreen: "#9acd32",
sandybrown: "#f4a460",
thistle: "#d8bfd8",
violet: "#ee82ee",
navy: "#000080",
magenta: "#ff00ff",
dimgrey: "#696969",
tan: "#d2b48c",
rosybrown: "#bc8f8f",
olivedrab: "#6b8e23",
blue: "#0000ff",
lightblue: "#add8e6",
ghostwhite: "#f8f8ff",
honeydew: "#f0fff0",
cornflowerblue: "#6495ed",
slateblue: "#6a5acd",
linen: "#faf0e6",
darkblue: "#00008b",
powderblue: "#b0e0e6",
seagreen: "#2e8b57",
darkkhaki: "#bdb76b",
snow: "#fffafa",
sienna: "#a0522d",
mediumblue: "#0000cd",
royalblue: "#4169e1",
lightcyan: "#e0ffff",
green: "#008000",
mediumpurple: "#9370db",
midnightblue: "#191970",
cornsilk: "#fff8dc",
paleturquoise: "#afeeee",
bisque: "#ffe4c4",
slategray: "#708090",
darkcyan: "#008b8b",
khaki: "#f0e68c",
wheat: "#f5deb3",
teal: "#008080",
darkorchid: "#9932cc",
deepskyblue: "#00bfff",
salmon: "#fa8072",
darkred: "#8b0000",
steelblue: "#4682b4",
palevioletred: "#db7093",
lightslategray: "#778899",
aliceblue: "#f0f8ff",
lightslategrey: "#778899",
lightgreen: "#90ee90",
orchid: "#da70d6",
gainsboro: "#dcdcdc",
mediumseagreen: "#3cb371",
lightgray: "#d3d3d3",
mediumturquoise: "#48d1cc",
lemonchiffon: "#fffacd",
cadetblue: "#5f9ea0",
lightyellow: "#ffffe0",
lavenderblush: "#fff0f5",
coral: "#ff7f50",
purple: "#800080",
aqua: "#00ffff",
whitesmoke: "#f5f5f5",
mediumslateblue: "#7b68ee",
darkorange: "#ff8c00",
mediumaquamarine: "#66cdaa",
darksalmon: "#e9967a",
beige: "#f5f5dc",
blueviolet: "#8a2be2",
azure: "#f0ffff",
lightsteelblue: "#b0c4de",
oldlace: "#fdf5e6"
};
}).call(this);
var n = t.chroma;
n.Color.prototype.lighten = function(t) {
return this.brighten(t);
};
e(n, "meshim_common_Chroma");
return n;
}();
}).call(e, i(3));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
var n = i(77), o = i(76), r = i(75), s = {};
s._super = r;
s.defaults = {
colors: {
primary$string: "#555555",
banner$string: "#EEEEEE",
bubble$string: "#E59341"
}
};
s.generate = function(t) {
function e(t) {
var e = {}, i = t.luminance(), r = t.darken(10), s = t.lighten(10), a = n.interpolate(t, o.black, .5, "rgb"), _ = n.interpolate(t, o.black, .7, "rgb");
e.color = new n.ColorScale({
colors: [ o.white, o.white, a.darken(10), a, a ],
positions: [ 0, p - .001, p + .001, g, 1 ],
mode: "rgb"
}).get(i).hex();
e.bg = new n.ColorScale({
colors: [ t, t, t.darken(10) ],
positions: [ 0, g, 1 ],
mode: "rgb"
}).get(i).hex();
e.iconColor = new n.ColorScale({
colors: [ t, t, _, _.lighten(10) ],
positions: [ 0, p - .001, p + .001, 1 ],
mode: "rgb"
}).get(i).hex();
e.borderColor = new n.ColorScale({
colors: [ r, r, t.darken(20) ],
positions: [ 0, g, 1 ],
mode: "rgb"
}).get(i).hex();
e.hoverBg = new n.ColorScale({
colors: [ s, t, t.darken(5) ],
positions: [ 0, g, 1 ],
mode: "rgb"
}).get(i).hex();
return e;
}
function i(t, e) {
var i = {}, r = t.luminance(), s = n.interpolate(t, o.black, e ? .7 : .5, "rgb"), a = e ? n.color(o.white) : n.interpolate(t, o.white, .5, "rgb");
i.color = new n.ColorScale({
colors: [ a, a.lighten(50), s, s.lighten(10) ],
positions: [ 0, w - .001, w + .001, 1 ],
mode: "rgb"
}).get(r).hex();
i.bg = t.hex();
return i;
}
var r = "#444", s = "#666", a = "#999", _ = "#AAA", l = "#DDD", u = "#EEE", d = "#FBFBFB", c = n.hex(t.colors.primary$string), h = c.luminance(), f = n.hex(t.colors.banner$string || t.colors.primary$string), p = 120 / 255, g = 200 / 255, m = e(c), $ = e(c.lighten(15)), b = e(f), w = 120 / 255, x = 220 / 255, v = i(c), y = i(f, !0), j = {
borderColor: l,
headColor: v.color,
headBg: c,
contentColor: r,
contentBlockBg: u,
placeholderColor: _,
inputColor: s,
inputBorderColor: l,
inputFocusBorderColor: o.clampLuminance(c, .2, .4).hex(),
buttonColor: m.color,
buttonBg: m.bg,
buttonBorderColor: m.borderColor,
buttonHoverBg: m.hoverBg,
buttonShadow: "0px 1px 2px rgba(0,0,0,0.1), inset 0px 1px 0px rgba(255,255,255,0.25)",
buttonSecColor: $.color,
buttonSecBg: $.bg,
buttonSecBorderColor: $.borderColor,
buttonSecHoverBg: $.hoverBg,
scrollableFrameTopHeight: "5px",
scrollableFrameTopBackground: "gradient top rgba(0,0,0,0.05) rgba(0,0,0,0)",
scrollableFrameTopBackgroundColor: "transparent",
scrollableFrameBottomHeight: "5px",
scrollableFrameBottomBackground: "gradient top rgba(0,0,0,0) rgba(0,0,0,0.05)",
scrollableFrameBottomBackgroundColor: "transparent",
toastColor: s,
toastBg: "rgba(255, 255, 255, 0.9)",
toastBorderColor: l,
toastShadow: "$$windowShadow",
avatarBorderColor: l,
profileCardAvatarBorderWidth: 0,
profileCardAvatarShadow: "0px 1px 2px rgba(0,0,0,0.2)",
profileCardNameColor: o.clampLuminance(c, 0, .2).hex(),
profileCardTitleColor: _,
bottomBorderWidth: "1px 0 0",
bottomBorderColor: u,
chatMotifHill: u,
chatMotifBubble: "#BBB",
chatButtonColor: m.color,
chatButtonBg: c.hex(),
chatButtonBorderWidth: h > g ? "" : 0,
chatButtonBorderColor: h > g ? l : "",
faviconBg: new n.ColorScale({
colors: [ c.lighten(15), c.lighten(5), c.darken(5), c.darken(5) ],
positions: [ 0, .05, .0501, 1 ],
mode: "rgb"
}).get(h).hex(),
windowColor: s,
windowPadding: "3px",
windowShadow: "0px 0px 3px 2px rgba(0,0,0,0.1)",
windowContentBorderWidth: "0 1px",
windowContentBorderColor: l,
menuBorderColor: l,
menuItemHoverBg: u,
titleBarColor: v.color,
titleBarBg: v.bg,
titleBarBorderWidth: h > x ? "1px" : 0,
titleBarBorderColor: h > x ? l : "",
titleBarIconsColor: "",
actionBarColor: a,
actionBarBorderWidth: "0 1px 1px 1px",
actionBarBorderColor: l,
actionBarHoverColor: s,
chatPanelProfileCardContainerBorderWidth: "0 0 1px",
chatPanelProfileCardContainerBorderColor: u,
chatLogVisitorBubbleBg: d,
chatLogVisitorBubbleBorderColor: u,
chatLogAgentBubbleBg: n.interpolate(o.clampLuminance(c, .4, .8), o.white, .8, "rgb").hex(),
chatLogAgentBubbleBorderColor: n.interpolate(o.clampLuminance(c, .4, .8), o.white, .4, "rgb").hex(),
chatLogAvatarBorderWidth: "$$borderWidth",
chatLogFileProgressBg: v.bg,
chatTranslationSwitchColor: a,
chatTextAreaBorderWidth: "1px 0 0",
chatTextAreaBorderColor: u,
chatTextAreaInputShadow: "inset 0px 1px 3px rgba(0,0,0,0.1)",
chatTextAreaInputFocusShadow: "inset 0px 1px 3px " + n.interpolate(o.clampLuminance(c, .2, .4), o.white, .5, "rgb").hex(),
chatTextAreaDropColor: r,
chatTextAreaDropBg: u,
chatTextAreaDropBorderWidth: "1px",
chatTextAreaDropBorderStyle: "dashed",
chatTextAreaDropBorderColor: r,
badgeBg: y.bg,
badgeBorderWidth: 0,
badgeContentColor: y.color,
badgeContentBg: y.bg,
badgeContentBorderWidth: 0,
badgeFormBg: o.white,
badgeFormBorderWidth: "1px 0",
badgeFormBorderColor: l,
badgeIconColor: b.iconColor
}, C = {
authButtonBg: "$$inputBg",
authButtonBorderColor: "$$inputBorderColor",
authButtonShadow: "none",
bottomBorderWidth: 0,
menuBg: u,
menuHeaderColor: a,
menuItemHoverBg: l,
menuRadius: "0 0 10px 10px",
menuShadow: "none",
actionBarColor: v.color,
actionBarBg: c.darken(10).hex(),
actionBarBorderWidth: 0,
actionBarHoverColor: v.color,
chatPanelProfileCardContainerBorderColor: l,
chatTextAreaBorderColor: l,
chatTextAreaInputShadow: "none",
chatTextAreaInputBorderWidth: 0,
chatTextAreaInputRadius: 0,
chatTextAreaInputFocusShadow: "none",
brandingLinkColor: a
};
return {
standard: j,
mobile: C
};
};
t.exports = s;
e(s, "meshim_widget_themes_Simple");
return s;
}();
}).call(e, i(3));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
var n = i(77), o = i(76), r = i(78), s = {};
s._super = r;
s.defaults = {
colors: {
bubble$string: "#e59341"
}
};
s.overrides = {
chat_button: {
display_status$bool: !0,
use_bubble$bool: !0
},
chat_window: {
profile_card: {
display_avatar$bool: !1
},
use_banner$bool: !1
},
message_type$string: "basic"
};
s.generate = function(t) {
var e = o.clampLuminance(n.hex(t.colors.primary$string), 0, .8), i = o.clampLuminance(n.hex(t.colors.bubble$string), 0, .8), r = o.clampLuminance(o.darken(e, .2, "rgb"), 0, .8), s = o.clampLuminance(o.lighten(e, .2, "rgb"), 0, .8), a = "gradient top " + o.rgbaColor(e, 1) + " " + o.rgbaColor(r, 1), _ = o.clampLuminance(o.darken(i, .2, "rgb"), 0, .8), l = o.clampLuminance(o.lighten(i, .2, "rgb"), 0, .8), u = o.getColorAtContrast(e, o.white, 5), d = o.getContrastColor(i, o.white, o.black, .7, "bright", 3, 5);
e = e.hex();
i = i.hex();
r = r.hex();
s = s.hex();
_ = _.hex();
l = l.hex();
u = u.hex();
d = d.hex();
var c = "#DDD", h = "#666", f = "#f7f7f7", p = {
contentBg: f,
actionBarBg: f,
actionBarBorderColor: c,
titleBarBg: a,
titleBarBorderWidth: 0,
inputRadius: 0,
inputBorderColor: c,
inputFocusBorderColor: l,
inputFocusShadow: "none",
chatTextAreaInputFocusShadow: "none",
windowContentBorderColor: c,
menuRadius: 0,
menuBorderColor: c,
buttonColor: d,
buttonBg: i,
buttonHoverBg: i,
buttonBorderColor: _,
buttonSecBg: l,
buttonSecHoverBg: l,
buttonSecBorderColor: i,
formSubmittedBg: o.white,
formSubmittedRadius: "0px",
formSubmittedBorderWidth: "1px",
chatLogVisitorNameColor: h,
chatLogAgentNameColor: _,
chatLogSystemMsgBg: o.white,
chatLogSystemMsgBorderWidth: "1px",
chatLogSystemMsgPadding: "5px 0",
chatLogSystemMsgBorderColor: c,
chatLogFileProgressBg: a,
chatButtonMinWidth: "190px",
chatButtonBg: a,
chatButtonShadow: "inset 0 1px 0px 0 rgba(0,0,0,0.4), inset 0 2px 0px 0 rgba(255,255,255,0.7)",
chatButtonFontWeight: "normal",
chatButtonStatusFontWeight: "bold",
chatButtonPaddingFavicon: 0,
chatButtonBorderWidth: 0,
faviconBg: "transparent",
faviconColor: i.toUpperCase() == e.toUpperCase() ? "$$chatButtonColor" : i,
faviconDotsColor: e,
chatBubbleTitleColor: d,
chatBubbleTextColor: d,
chatBubbleCloseColor: d,
chatBubbleCloseShadow: "0px -1px 0px #999",
chatBubbleCloseHoverBg: "rgba(0, 0, 0, 0.1)"
}, g = {
actionBarColor: u,
actionBarBg: "transparent",
actionBarBorderColor: "transparent"
};
return {
standard: p,
mobile: g
};
};
t.exports = s;
e(s, "meshim_widget_themes_Classic");
return s;
}();
}).call(e, i(3));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
var n = i(78), o = {};
o._super = n;
o.defaults = {
colors: {
primary$string: "#85ae19"
},
branding: {
type$string: "icon_font_zendesk"
}
};
o.overrides = {
chat_window: {
use_banner$bool: !1,
title_bar: {
hide_popout$bool: !0
}
},
branding: {
type$string: "icon_font_zendesk"
}
};
o.generate = function() {
var t = {
fontFamily: '"Helvetica Neue", Helvetica, Arial, sans-serif',
fontSizeXS: "11px",
fontSizeS: "12px",
fontSize: "13px",
buttonPadding: "5px"
}, e = {};
return {
standard: t,
mobile: e
};
};
t.exports = o;
e(o, "meshim_widget_themes_Zendesk");
return o;
}();
}).call(e, i(3));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
var i = {
popout: {
name$string: "simple"
},
mobile: {
name$string: "simple",
chat_button: {
display_status$bool: !1
}
},
mobile_overlay: {
chat_window: {
use_banner$bool: !1,
title_bar: {
hide_popout$bool: !0
}
}
}
};
t.exports = i;
e(i, "meshim_widget_themes_Overrides");
return i;
}();
}).call(e, i(3));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t, e, i, _, x) {
function v() {
et.currentChild && et.currentChild.hasClass("stack_child_no_menu") && F.update("");
}
function y() {
if (!q && et) {
var t = et.currentChild;
if (t) {
Q.wrapper.setPosition("absolute");
switch (N) {
case "bl":
case "bm":
case "br":
Q.wrapper.setTop("").setBottom(0);
break;

case "tl":
case "tm":
case "tr":
Q.wrapper.setTop(0).setBottom("");
}
switch (N) {
case "bl":
case "tl":
Q.wrapper.setLeft(0).setRight("");
break;

case "br":
case "tr":
Q.wrapper.setLeft("").setRight(0);
}
var e, i;
if (t.hasClass("stack_child_mini")) {
e = o.getVariable("windowMiniWidth");
i = o.getVariable("windowMiniHeight");
} else {
e = o.getVariable("window" + Z.slice(0, 1).toUpperCase() + Z.slice(1) + "Width");
i = o.getVariable("window" + Z.slice(0, 1).toUpperCase() + Z.slice(1) + "Height");
}
e = parseInt(e, 10);
i = parseInt(i, 10);
Q.setWidth(e + "px");
Q.setHeight(i + "px");
}
}
}
function j() {
if (!q) if (Y) Q.setTop("").setRight("").setBottom("").setLeft(""); else switch (N) {
case "br":
Q.setTop("").setLeft("").setMarginLeft("").setRight(X).setBottom(K);
break;

case "bm":
Q.setTop("").setRight("").setBottom(K).setLeft("50%").setMarginLeft(-Math.round(Q.__width / 2) + "px");
break;

case "bl":
Q.setTop("").setRight("").setMarginLeft("").setBottom(K).setLeft(X);
break;

case "tr":
Q.setBottom("").setLeft("").setMarginLeft("").setTop(K).setRight(X);
break;

case "tm":
Q.setRight("").setBottom("").setTop(K).setLeft("50%").setMarginLeft(-Math.round(Q.__width / 2) + "px");
break;

case "tl":
Q.setRight("").setBottom("").setMarginLeft("").setTop(K).setLeft(X);
}
}
function C() {
et.currentChild && (et.currentChild.hasClass("force_dock") ? j() : et.currentChild.getDraggableNode && Q.setDraggableNode(et.currentChild.getDraggableNode()));
}
function S() {
for (var t = o.getVariable("windowShadow"), e = 0, i = $.cssom_prefixes.length; e < i; e++) Q.setStyle($.cssom_prefixes[e] + ($.cssom_prefixes[e] ? "B" : "b") + "oxShadow", t || "none");
}
function A() {
var t, e = o.getVariable("windowRadius"), i = [ "TopLeft", "TopRight", "BottomRight", "BottomLeft" ];
switch (N) {
case "br":
case "bm":
case "bl":
t = [ !0, !0, !1, !1 ];
break;

case "tr":
t = [ !1, !1, !0, !0 ];
break;

default:
t = [];
}
for (var n = 0, r = $.cssom_prefixes.length; n < r; n++) for (var s = 0, a = i.length; s < a; s++) Q.setStyle($.cssom_prefixes[n] + ($.cssom_prefixes[n] ? "B" : "b") + "order" + i[s] + "Radius", t[s] && e ? e : "none");
}
function k(t) {
for (var e = t.target.jx_wrapper; e && e.parentNode && e.parentNode != Q; ) {
if (e == tt) return;
e = e.parentNode;
}
F.update("");
}
function I() {
(Q.wrapper || Q.defaultPlacement)[a.rtl() ? "addClass" : "removeClass"]("rtl");
if (!Q.wrapper) {
Q.dom.dir = a.rtl() ? "rtl" : "ltr";
Q.dom.lang = a.language;
}
}
if (!(this instanceof n)) return new n(t, e, i, _, x);
if (!n.__jx__jcss_generated) {
o.generate(this, n.prototype.__jx__fqname, n.__jx__jcss, null, n);
n.__jx__jcss_generated = !0;
}
var N, B = h.root.$("livechat"), T = B.$("ui"), D = T.$("chat_window"), E = T.$("theme_loaded$bool"), O = B.$("settings").$("theme").$("chat_window").$("h_offset$int"), P = B.$("settings").$("theme").$("chat_window").$("v_offset$int"), L = D.$("display$bool"), W = D.$("force_resize$bool"), R = D.$("main_stack_name$string"), F = D.$("menu_stack_name$string"), M = T.$("popout$bool"), V = T.$("mobile$bool"), H = T.$("tablet$bool"), z = T.$("mockup$bool"), q = M.getValue(), U = V.getValue(), G = H.getValue(), Y = z.getValue(), X = 10, K = 0, Z = "", Q = this;
x || (x = {});
if (q) {
d.call(this, t, e, i, _, x);
b.popout(this);
this.defaultPlacement = new u(this, null, null, null, {
className: "meshim_widget_Widget"
});
this.on = d.prototype.on;
this.fire = d.prototype.fire;
U && this.defaultPlacement.setPosition("relative");
} else {
l.call(this, t, e, i, _, x);
Q.content.addClass("meshim_widget_Widget");
Q.wrapper.addClass(Q.__jx__fqname);
Q.ibody.style.overflow = "hidden";
w.bind(this.iwin);
var J = Q.setDraggableNode;
Q.setDraggableNode = function(t) {
J.call(this, t);
if (t) {
r.isFF && (t.style.cursor = "-moz-grab");
r.isWebKit && (t.style.cursor = "-webkit-grab");
}
};
Q.on("startdrag", function() {
var t = Q.getDraggableNode();
if (t) {
r.isFF && (t.style.cursor = "-moz-grabbing");
r.isWebKit && (t.style.cursor = "-webkit-grabbing");
}
});
Q.on("enddrag", function() {
var t = Q.getDraggableNode();
if (t) {
r.isFF && (t.style.cursor = "-moz-grab");
r.isWebKit && (t.style.cursor = "-webkit-grab");
}
});
this.autobind(O, "value", function(t) {
t = parseInt(t, 10);
if (!isNaN(t) && t >= 0) {
X = t;
j();
}
});
this.autobind(P, "value", function(t) {
t = parseInt(t, 10);
if (!isNaN(t) && t >= 0) {
K = t;
j();
}
});
b.windowPosition(Q.wrapper, null, function(t) {
N = t;
j();
A();
});
b.windowSize(Q.wrapper, null, function(t) {
Z = t;
y();
});
}
if (!q) {
this.dom.className = "zopim";
this.iframe.setStyle("display", "block");
}
Y && Q.setPosition("relative");
U && this.addClass("mobile");
G && this.addClass("tablet");
(Q.content || Q).on("click", function() {
c.resetUnreadCount();
});
new g(this.defaultPlacement);
new m(this.defaultPlacement);
var tt = this.menu_stack = new p(this.defaultPlacement);
this.autobind(F, "value", function(t) {
tt.setName(t);
});
var et = this.main_stack = new f(this.defaultPlacement);
this.autobind(R, "value", function() {
et.setName(R.getValue());
});
et.on("indexChange", v);
v();
this.autobind(L, "value", function(t) {
Q.setVisible(t ? "block" : "none");
y();
});
Q.autobind(W, "value", y);
Q.autobind(E, "value", y);
et.on("indexChange", y);
Q.on("show", y);
if (Y) Q.setDraggableNode(); else if (!q) {
Q.setDraggableNode();
this.main_stack.on("indexChange", C);
C();
}
Q.autobind(E, "value", function(t) {
if (t) {
S();
A();
}
});
(Q.content || Q).allowGhostClick = !0;
(Q.content || Q).on("click", k);
q && s.window.on("click", k);
Q.onDestruction(function() {
(Q.content || Q).un("click", k);
q && s.window.un("click", k);
});
if (a && a.onLanguage) {
a.onLanguage(I);
I();
}
}
var o = i(31), r = i(7), s = i(6), a = i(23), _ = i(15), l = i(83), u = i(86), d = i(18), c = i(87), h = i(41), f = i(88), p = i(269), g = i(299), m = i(301), $ = i(51), b = i(97), w = i(304);
n.prototype = _(l.prototype);
n.__jx__jcss = {
"**self": {
position: "relative",
color: "$$windowColor"
},
"&.br, &.bm, &.bl": {},
"&.tr, &.tm, &.tl": {},
"&.popout": {
padding: 0,
margin: "0 auto",
"width, height": "100%",
maxWidth: "650px",
background: "$$windowBg"
},
"&.mobile": {
maxWidth: "none",
width: "100%",
height: "auto",
minHeight: "100%"
},
"&.tablet": {
maxWidth: "$$mobileMaxWidthL"
}
};
t.exports = n;
e(n, "meshim_widget_components_ChatWindow");
return n;
}();
}).call(e, i(3));
}, function(t, e, i) {
(function(e, n, o, r, s, a) {
e.__$$__jx_ui_FloatingFrame = i(84);
t.exports = function() {
function t(s, a, l, u, d) {
if (!(this instanceof t)) return new t(s, a, l, u, d);
a = a || n.generateID();
var c = [ e.__$$__jx_ui_FloatingFrame, "", "", [], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui"
} ], h = c[0].call(this, s, a, null, n.mangleIDs(a, c[3]), c[4]), f = h || this;
n.set(a, f);
if (!t.__jx__jcss_generated) {
o.generate(s, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var p = function() {
function t(t) {
return new d(t, null, null, null, {
position: "absolute",
top: 0,
left: 0,
width: "100%",
height: "100%",
margin: 0,
padding: 0
});
}
function e(e, i) {
if (!e || !e.button) {
f.raise(e, 2);
C || (C = t(document.body));
C.style.zIndex = f.style.zIndex - 1;
C.style.display = "block";
k = !1;
e || (e = h.event);
if (e) {
x = e.clientX;
v = e.clientY;
y = f.getWidth();
j = f.getHeight();
$ = i;
S = document.onmousemove;
A = document.onmouseup;
p.onmousemove = n;
document.onmousemove = o;
p.onmouseup = document.onmouseup = s;
p.onselectstart = function() {
return !1;
};
e.preventDefault && e.preventDefault();
f.fire("jx:activate");
return !1;
}
}
}
function n(t) {
if (!k) {
f.fire("startdrag");
k = !0;
}
t || (t = window.event);
t || (t = h.event);
if (!(u.isIE < 9) || t.button) {
b = t.clientX - x;
w = t.clientY - v;
if ($) {
f.setWidth(a(y + b));
f.setHeight(a(j + w));
} else {
f.move(b, w);
f.fire("jx:drag");
r.tick();
}
return !1;
}
s();
}
function o(t) {
if (!k) {
f.fire("startdrag");
k = !0;
}
t || (t = window.event);
t || (t = h.event);
if (!(u.isIE < 9) || t.button) {
b = t.clientX - x;
w = t.clientY - v;
if (u.isIE) {
b -= _(document.body.currentStyle.borderLeftWidth);
w -= _(document.body.currentStyle.borderTopWidth);
}
if ($) {
f.setWidth(a(y + b - f.dom.offsetLeft));
f.setHeight(a(j + w - f.dom.offsetTop));
} else f.moveTo(b, w);
f.fire("jx:drag");
return !1;
}
s();
}
function s() {
C.style.display = "none";
document.onmousemove = S;
document.onmouseup = A;
p.onmousemove = null;
p.onmouseup = null;
p.onselectstart = null;
if (k) {
f.fire("enddrag");
k = !1;
}
}
function a(t) {
return Math.max(Math.min(t, window.innerWidth), c) || c;
}
function _(t) {
return parseInt(t, 10) || 0;
}
var l, u = i(7), d = i(18), c = 50, h = f.iwin, p = f.idoc;
f.on("mousedown", f.raise);
p.onmousedown = e;
var g, m = 0;
f.setResizableNode = function(t) {
t && t.dom && (t = t.dom);
g && (g.onmousedown = null);
if (t) {
t.onmousedown = function(t) {
if (0 === m) {
m = 1;
setTimeout(function() {
m = 0;
}, 300);
e(t, !0);
} else f.fitToContents(f, 1e3, 1e3);
};
g = t;
}
};
f.getDraggableNode = function() {
return l;
};
f.setDraggableNode = function(t) {
t && t.dom && (t = t.dom);
if (t) {
f.setBounds([ 0, 0, 0, 0 ]);
l = t;
p.onmousedown = null;
t.onmousedown = e;
t.style.cursor = "move";
} else {
if (l) {
l.onmousedown = null;
l.style.cursor = "default";
l = null;
}
p.onmousedown = null;
}
};
var $, b, w, x, v, y, j, C, S, A, k = !1;
}();
for (var g in p) p.hasOwnProperty(g) && (f[g] = p[g]);
f.fire && f.fire("init");
f.setStyle && f.setStyle(l);
f.setAttributes && f.setAttributes(d);
"function" == typeof f.addChildren ? f.addChildren(u) : n.addChildren(f, u);
if (f !== this) {
f.__jx__constructor = _;
f.__jx__native = !1;
}
return f;
}
var _;
t.prototype = s(e.__$$__jx_ui_FloatingFrame.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_FloatingFrame;
t.__jx__jcss = {};
a(t, "jx_ui_DraggableFrame");
_ = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(4), i(21), i(31), i(13), i(15), i(3));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t, e, i, o, s) {
if (!(this instanceof n)) return new n(t, e, i, o, s);
var a = this;
this._onAutoResize = function() {
a.onAutoResize();
};
l.call(this, t, e, i, null, s);
l.prototype.setMargin.call(this, "0");
l.prototype.setPadding.call(this, "0");
l.prototype.setBorder.call(this, "0");
l.prototype.setBackground.call(this, "transparent");
l.prototype.setOverflow.call(this, "hidden");
l.prototype.setPosition.call(this, "fixed");
this.appendToParent();
this.iframe = new u(this, null, null, null, {
tagName: "iframe",
position: "relative",
width: "100%",
height: "100%",
minWidth: "100%",
minHeight: "100%",
maxWidth: "100%",
maxHeight: "100%",
border: "0",
margin: "0",
padding: "0",
background: "transparent",
overflow: "hidden",
display: "block"
});
this.iwin = this.iframe.iwin;
this.idoc = this.iframe.idoc;
this.ibody = this.iframe.ibody;
this.ihead = this.iframe.ihead;
this.content = new d(this.iframe.defaultPlacement);
this.content.setOverflow("hidden");
this.wrapper = new l(this.content, null, null, null, {
display: "inline-block"
});
this.wrapper.__jx__fqname = this.__jx__fqname;
this.wrapper.__jx__fqname_chain = this.__jx__fqname_chain;
if (r.bugs.noBoxSizing) {
this.wrapper.style.display = "inline";
this.wrapper.style.zoom = "1";
}
this.setAttributes(s);
this.defaultPlacement = this.wrapper;
this.addChildren(o);
if (r.isIE < 9) {
this.on("hide", function() {
a.iframe.setDisplay("none");
});
this.on("show", function() {
a.iframe.setDisplay("block");
});
}
this.raise();
}
var o, r = i(7), s = i(15), a = i(21), _ = i(17), l = i(18), u = i(85), d = i(86), c = 16e6;
!function() {
for (var t = [ "", "WebKit" ], e = "MutationObserver", i = 0; i < t.length; i++) t[i] + e in window && (o = window[t[i] + e]);
}();
n.prototype = s(l.prototype);
n.prototype.fire = function(t, e) {
l.prototype.fire.call(this, t, e);
this.iframe && this.iframe.fire(t, e);
this.wrapper && this.wrapper.fire(t, e);
};
n.prototype.on = function(t, e) {
"init" == t ? l.prototype.on.call(this, t, e) : this.wrapper && this.wrapper.on(t, e);
};
n.prototype.raise = function(t) {
t = parseInt(t, 10) || 1;
this.setZIndex(c += t);
};
n.prototype.normalize = function() {
var t = this.getXY();
this.moveTo(t[0], t[1]).setMargin(0);
};
n.prototype.getXY = function() {
var t = this.dom.offsetLeft, e = this.dom.offsetTop;
if (r.isIE) if (r.isStrict) {
if (r.isIE6) {
t -= document.documentElement.scrollLeft;
e -= document.documentElement.scrollTop;
}
} else {
t -= document.body.scrollLeft;
e -= document.body.scrollTop;
} else if (r.isSafari) {
var i = a.getStyles(this.iframe.offsetParent);
t += parseInt(i.borderLeftWidth, 10);
e += parseInt(i.borderTopWidth, 10);
}
return [ t, e ];
};
n.prototype.fitToContents = function(t, e, i) {
t = t || this;
for (var n = 0, o = 0; t.defaultPlacement; ) t = t.defaultPlacement;
t.dom && (t = t.dom);
o = t.scrollWidth - t.clientWidth;
n = t.scrollHeight - t.clientHeight;
this.resizeBy(o, n, i || 0, e || 0);
};
n.prototype.destroy = function() {
this.setAutoResize(!1);
l.prototype.destroy.call(this);
this.iframe = this.iwin = this.idoc = this.ibody = this.ihead = this.content = null;
};
n.prototype.setBackground = function(t) {
return this.iframe && this.iframe.setBackground(t);
};
n.prototype.setBackgroundImage = function(t) {
return this.iframe && this.iframe.setBackgroundImage(t);
};
n.prototype.setBorder = function(t) {
return this.iframe && this.iframe.setBorder(t);
};
n.prototype.setBorderColor = function(t) {
return this.iframe && this.iframe.setBorderColor(t);
};
n.prototype.setBorderStyle = function(t) {
return this.iframe && this.iframe.setBorderStyle(t);
};
n.prototype.setBorderWidth = function(t) {
return this.iframe && this.iframe.setBorderWidth(t);
};
n.prototype.setCursor = function(t) {
return this.iframe && this.iframe.setCursor(t);
};
n.prototype.setOpacity = function(t) {
return this.iframe && this.iframe.setOpacity(t);
};
n.prototype.setSelectable = function(t) {
return this.iframe && this.iframe.setSelectable(t);
};
n.prototype.setColor = function(t) {
return this.content && this.content.setColor(t);
};
n.prototype.setPadding = function(t) {
return this.content && this.content.setPadding(t);
};
n.prototype.setFontFamily = function(t) {
return this.content && this.content.setFontFamily(t);
};
n.prototype.setFontSize = function(t) {
return this.content && this.content.setFontSize(t);
};
n.prototype.setFontWeight = function(t) {
return this.content && this.content.setFontWeight(t);
};
n.prototype.setTextAlign = function(t) {
return this.content && this.content.setTextAlign(t);
};
n.prototype.setLetterSpacing = function(t) {
return this.content && this.content.setLetterSpacing(t);
};
n.prototype.setLineHeight = function(t) {
return this.content && this.content.setLineHeight(t);
};
n.prototype.setOverflow = function(t) {
return this.content && this.content.setOverflow(t);
};
var h = 200;
n.prototype.getAutoResize = function() {
return this.autoResize;
};
n.prototype.setAutoResize = function(t) {
t = _(t);
this.autoResize = t;
if (this.wrapper) {
var e = this;
if (this.autoResize) {
if (o) {
this._autoResizer = new o(function() {
e.onAutoResize();
});
this._autoResizer.observe(this.wrapper.dom, {
childList: !0,
attributes: !0,
characterData: !0,
subtree: !0
});
} else {
this._autoResizer && window.clearInterval(this._autoResizer);
this._autoResizer = window.setInterval(this._onAutoResize, h);
}
this.onAutoResize();
} else if (this._autoResizer) if (o) {
this._autoResizer.disconnect();
this._autoResizer = null;
} else {
window.clearInterval(this._autoResizer);
this._autoResizer = null;
}
return this;
}
};
n.prototype.onAutoResize = function() {
if (r.bugs.noBoxSizing) {
this.style.width = "10px";
this.style.height = "10px";
}
var t = this.wrapper.getWidth(), e = this.wrapper.getHeight();
this.setWidth(t);
this.setHeight(e);
if (r.bugs.noBoxSizing) {
this.style.width = t + "px";
this.style.height = e + "px";
this.iframe.dom.className = this.iframe.dom.className;
}
};
n.prototype.setDataTestId = function(t) {
this.iframe && this.iframe.setDataTestId(t + "-iframe");
return l.prototype.setDataTestId.call(this, t);
};
t.exports = n;
e(n, "jx_ui_FloatingFrame");
return n;
}();
}).call(e, i(3));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t, e, i, _, h) {
function f(t) {
$.parentNode.setAttribute("lang", t);
$.parentNode.setAttribute("dir", a.flip("ltr"));
}
if (!(this instanceof n)) return new n(t, e, i, _, h);
h || (h = {});
h.tagName || (h.tagName = "iframe");
this._top = this._bottom = this._left = this._right = this._width = this._height = NaN;
this._position = null;
this.pos = "";
this.offsetx = 0;
this.offsety = 0;
this._snaps = [ 0, 0, 0, 0 ];
this.useDisplay = !1;
this.doc = this.ownerDocument = t.ownerDocument;
this.parentNode = t;
this.attributes = h;
this.tagName = h.tagName;
this.isNew = !0;
this.dom = this.doc.createElement(this.tagName);
this.dom.jx_wrapper = this;
this.style = this.dom.style;
this.children = [];
this._autobinds = [];
d.call(this);
void 0 !== this.dom.seamless && (this.dom.seamless = !0);
this.dom.allowTransparency = "true";
this.dom.frameBorder = "0";
this.style.backgroundColor = "transparent";
this.style.verticalAlign = "text-bottom";
this.style.visibility = "hidden";
t.appendChild(t instanceof c ? this : this.dom);
e && o.set(e, this);
var p;
p = r.bugs.noBoxSizing ? "<html><head><style>html,body{height:100%;width:100%;background:none} *{border:0;padding:0;margin:0;}</style></head><body></body></html>" : "<!DOCTYPE html><html><head><style>html,body{height:100%;width:100%;} *{border:0;padding:0;margin:0;box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box}</style></head><body></body></html>";
this.dom.src = "about:blank";
this.appendToParent(!0);
var g = this.iwin = this.dom.contentWindow, m = this.idoc = s.extend(g.document);
m.write(p);
m.close();
this.ihead = m.getElementsByTagName("head")[0];
var $ = this.ibody = s.extend(m.body);
a && a.onLanguage && a.onLanguage(f);
a && a.language && f(a.language);
$.style.position = "relative";
$.parentNode.style.overflowY = $.style.overflowY = "hidden";
var b, w;
if (r.bugs.noBoxSizing) {
b = new u($, null, null, null, {
position: "relative",
width: "100%",
height: "100%",
overflow: "hidden"
});
b.applyConstraints();
b.setPadding = function(t) {
$.style.padding = t;
};
} else {
b = new u($, null, null, null, {
position: "absolute",
top: 0,
right: 0,
bottom: 0,
left: 0,
overflow: "hidden"
});
b.applyConstraints();
}
for (var x = "Background BackgroundImage Border BorderColor BorderStyle BorderWidth Color Cursor FontFamily FontSize FontWeight LetterSpacing LineHeight Opacity Padding Selectable TextAlign".split(" "); w = x.pop(); ) this["set" + w] = function(t) {
return function(e) {
b["set" + t](e);
return this;
};
}(w);
this.defaultPlacement = b;
this.addChildren(_);
this.style.visibility = "";
this.setStyle(i);
this.setAttributes(h);
l.bindIFrame(this);
}
var o = i(21), r = i(7), s = i(6), a = i(23), _ = i(15), l = i(31), u = i(18), d = i(26), c = i(19);
n.prototype = _(u.prototype);
n.prototype.destroy = function() {
l.unbindIFrame(this);
this.defaultPlacement && this.defaultPlacement.destroy();
u.prototype.destroy.call(this);
};
t.exports = n;
e(n, "jx_ui_IFrame");
return n;
}();
}).call(e, i(3));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t, e, i, s, _) {
if (!(this instanceof n)) return new n(t, e, i, s, _);
if (o.bugs.noBoxSizing) {
var l = this.table = new a(t, null, null, null, {
tagName: "table"
}), u = this.tbody = new a(l, null, null, null, {
tagName: "tbody"
}), d = this.tr = new a(u, null, null, null, {
tagName: "tr"
}), c = this.td = new a(d, null, null, null, {
tagName: "td"
}), h = this;
this.table.destroy = function() {
h.destroy();
};
this.table.empty = function() {
h.empty();
};
this.setPadding = function(t) {
this.td.setPadding(t);
return this;
};
this.show = function() {
this.table && this.table.show();
return this;
};
this.hide = function() {
this.table && this.table.hide();
return this;
};
a.call(this, c, e, i, s, _);
l.style.tableLayout = "fixed", l.style.borderCollapse = "collapse";
u.style.height = u.style.width = this.style.height = this.style.width = "100%";
l.setTop(0).setLeft(0).setWidth("100%").setHeight("100%").setPosition("absolute").applyConstraints();
this.style.position = "relative", this.style.overflow = "auto";
l.defaultPlacement = this;
} else {
this.setPadding = function(t) {
if (!r(t)) return this;
t = t.split(" ");
t[0] = parseInt(t[0], 10);
t[1] = parseInt(t[1], 10);
t[2] = parseInt(t[2], 10);
t[3] = parseInt(t[3], 10);
if (isNaN(t[0])) t[3] = t[2] = t[1] = t[0] = 0; else if (isNaN(t[3])) if (isNaN(t[1])) t[3] = t[2] = t[1] = t[0]; else if (isNaN(t[2])) {
t[3] = t[1];
t[2] = t[0];
} else t[3] = t[1];
this.setTop(parseInt(t[0], 10)).setRight(parseInt(t[1], 10)).setBottom(parseInt(t[2], 10)).setLeft(parseInt(t[3], 10));
return this;
};
a.call(this, t, e, i, s, _);
this.setStyle({
top: 0,
bottom: 0,
left: 0,
right: 0,
overflow: "auto",
position: "absolute"
});
}
this.setStyle(i);
this.setAttributes(_);
}
var o = i(7), r = i(20), s = i(15), a = i(18);
n.prototype = s(a.prototype);
n.prototype.destroy = function() {
a.prototype.destroy.call(this);
if (this.table) {
a.prototype.empty.call(this.table);
this.table.empty = null;
a.prototype.destroy.call(this.table);
this.table = this.tbody = this.tr = this.td = null;
}
};
t.exports = n;
e(n, "jx_ui_FullFrame");
return n;
}();
}).call(e, i(3));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n() {
m = P.throttle(r, 2e3);
$ = P.debounce(s, 100);
b = L.root.$("livechat");
w = b.$("channel");
x = w.$("chatting$bool");
j = w.$("log");
y = w.$("rating$string");
v = w.$("last_read");
A = b.$("profile").$("nick$string");
S = b.$("ui").$("chat_button").$("unread_count$int");
I = 0;
T = 0;
N = 0;
B = [];
w.on("value", function(t) {
null === t && (E = D = void 0);
});
A.on("value", function(t) {
if (t && t !== k) {
k && v.$(k).$("timestamp$int").un("value", l);
k = t;
v.$(t).$("timestamp$int").on("value", l);
}
});
x.on("value", u);
j.on("value", function(t) {
C = t;
});
j.on("keys", o);
}
function o(t) {
if (t && t.length && k) {
for (var e, i, n, o, r = 0, s = t.length; r < s; r++) {
e = C[t[r]];
if (e) {
i = e.timestamp$int;
n = e.type$string;
o = e.nick$string;
i > T && (T = i);
switch (n) {
case "chat.comment":
w.update({
last_comment_ts$int: i
});
break;

case "chat.rating":
w.update({
last_rating_ts$int: i
});
break;

case "chat.memberjoin":
case "chat.join":
W.isAgentNick(o) && d(i);
break;

case "chat.memberleave":
W.isAgentNick(o) ? c(i) : f(i);
break;

case "chat.mention":
case "chat.msg":
o != k && B.indexOf(i) === -1 && B.push(i);
_(i, o, t[r]);

default:
W.isAgentNick(o) && 0 === I && d(i);
}
}
}
$();
}
}
function r() {
x.getValue() && b.$("ui").$("chat").write({
read_ts$int: T
});
}
function s() {
for (;B[0] <= N; ) B.shift();
S.update(B.length);
}
function a() {
S.update(0);
B = [];
m();
}
function _(t, e, i) {
if (e != k) {
if (!D) {
D = t;
w.update({
first_account_msg_id$string: i,
first_account_msg_ts$int: t
});
}
} else if (!E) {
E = t;
w.update({
first_visitor_msg_ts$int: t
});
}
}
function l(t) {
if (!O(t, !0)) {
N = t;
T > 0 && $();
}
}
function u(t) {
if (t === !1) {
a();
w.getValue("served$bool") && p();
}
}
function d(t) {
I++;
h(t);
}
function c(t) {
I = Math.max(I - 1, 0);
h(t);
}
function h(t) {
if (0 === I) w.update({
last_agent_leave_ts$int: t
}); else {
1 === I && w.update({
served$bool: !0
});
w.getValue("last_agent_leave_ts$int") && w.update({
last_agent_leave_ts$int: null
});
}
}
function f() {
p();
}
function p() {
I = 0;
w.update({
served$bool: !1,
first_visitor_msg_ts$int: null,
first_account_msg_ts$int: null,
first_account_msg_id$string: null,
last_agent_leave_ts$int: null,
last_comment_ts$int: null,
last_rating_ts$int: null
});
E = D = void 0;
T = N = 0;
B = [];
}
function g() {
p();
k = void 0;
}
var m, $, b, w, x, v, y, j, C, S, A, k, I, N, B, T, D, E, O = i(11), P = i(59), L = i(41), W = i(51), R = {
init: n,
resetUnreadCount: a,
updateUnreadCount: $,
resetState: g
};
t.exports = R;
e(R, "meshim_widget_controllers_ChatLogListener");
return R;
}();
}).call(e, i(3));
}, function(t, e, i) {
(function(e, n, o, r, s) {
e.__$$__meshim_widget_widgets_ViewStack = i(89);
e.__$$__meshim_widget_components_chatWindow_NewChatForm = i(91);
e.__$$__meshim_widget_components_chatWindow_PreChatOfflineForm = i(135);
e.__$$__meshim_widget_components_chatWindow_ChatPanel = i(193);
e.__$$__meshim_widget_components_chatWindow_PostChatForm = i(255);
e.__$$__meshim_widget_components_chatWindow_CookieForm = i(260);
e.__$$__meshim_widget_components_chatWindow_CardForm = i(264);
e.__$$__meshim_widget_components_chatWindow_AgentList = i(265);
e.__$$__meshim_widget_components_chatWindow_AboutPanel = i(267);
e.__$$__meshim_widget_components_chatWindow_RatingPanel = i(268);
t.exports = function() {
function t(r, s, _, l, u) {
if (!(this instanceof t)) return new t(r, s, _, l, u);
s = s || n.generateID();
var d = [ e.__$$__meshim_widget_widgets_ViewStack, "", "", [ [ e.__$$__meshim_widget_components_chatWindow_NewChatForm, "", "", [], {
name: "new_chat_form",
addClass: "stack_child_mini     stack_child_no_menu force_dock"
} ], [ e.__$$__meshim_widget_components_chatWindow_PreChatOfflineForm, "", "", [], {
name: "pre_chat_offline_form",
addClass: "stack_child_standard stack_child_no_menu"
} ], [ e.__$$__meshim_widget_components_chatWindow_ChatPanel, "", "", [], {
name: "chat_panel",
addClass: "stack_child_standard"
} ], [ e.__$$__meshim_widget_components_chatWindow_PostChatForm, "", "", [], {
name: "post_chat_form",
addClass: "stack_child_standard stack_child_no_menu"
} ], [ e.__$$__meshim_widget_components_chatWindow_CookieForm, "", "", [], {
name: "cookie_form",
addClass: "stack_child_standard stack_child_no_menu"
} ], [ e.__$$__meshim_widget_components_chatWindow_CardForm, "", "", [], {
name: "card_form",
addClass: "stack_child_standard stack_child_no_menu"
} ], [ e.__$$__meshim_widget_components_chatWindow_AgentList, "", "", [], {
name: "agent_list",
addClass: "stack_child_standard stack_child_no_menu"
} ], [ e.__$$__meshim_widget_components_chatWindow_AboutPanel, "", "", [], {
name: "about_panel",
addClass: "stack_child_standard stack_child_no_menu"
} ], [ e.__$$__meshim_widget_components_chatWindow_RatingPanel, "", "", [], {
name: "rating_panel",
addClass: "stack_child_standard stack_child_no_menu"
} ] ], {
"xmlns:ui": "jx.ui",
"xmlns:chatWindow": "meshim.widget.components.chatWindow",
"xmlns:widgets": "meshim.widget.widgets",
addClass: "main_stack",
onChildHide: "-1"
} ], c = d[0].call(this, r, s, null, n.mangleIDs(s, d[3]), d[4]), h = c || this;
n.set(s, h);
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var f = function() {
var t = i(97);
t.popout(h);
t.mobile(h);
t.windowPosition(h, "ms_");
}();
for (var p in f) f.hasOwnProperty(p) && (h[p] = f[p]);
h.fire && h.fire("init");
h.setStyle && h.setStyle(_);
h.setAttributes && h.setAttributes(u);
"function" == typeof h.addChildren ? h.addChildren(l) : n.addChildren(h, l);
if (h !== this) {
h.__jx__constructor = a;
h.__jx__native = !1;
}
return h;
}
var a;
t.prototype = r(e.__$$__meshim_widget_widgets_ViewStack.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__meshim_widget_widgets_ViewStack;
t.__jx__jcss = {
"**self": {
overflow: "hidden",
boxShadow: "$$windowShadow"
},
"&.ms_br, &.ms_bm, &.ms_bl": {
"borderTopLeftRadius, borderTopRightRadius": "$$windowRadius"
},
"&.ms_tr, &.ms_tm, &.ms_tl": {
"borderBottomLeftRadius, borderBottomRightRadius": "$$windowRadius"
},
"&.popout": {
margin: "0 auto",
maxWidth: "650px",
minWidth: "240px",
minHeight: "335px",
height: "100%",
borderRadius: "0"
},
"&.mobile": {
"minWidth, minHeight": "0",
maxWidth: "none"
}
};
s(t, "meshim_widget_components_chatWindow_MainStack");
a = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(4), i(21), i(31), i(15), i(3));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
var n = i(31), o = i(15), r = i(90), s = r;
r = function(t, e, i, o, a) {
if (!(this instanceof r)) return new r(t, e, i, o, a);
if (!r.__jx__jcss_generated) {
n.generate(this, r.prototype.__jx__fqname, r.__jx__jcss, null, r);
r.__jx__jcss_generated = !0;
}
a || (a = {});
s.call(this, t, e, i, o, a);
};
r.__jx__jcss = {
"**self": {
"width, height": "100%"
}
};
r.prototype = o(s.prototype);
r.prototype.__jx__super = s;
t.exports = r;
e(r, "meshim_widget_widgets_ViewStack");
return r;
}();
}).call(e, i(3));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t, e, i, o, r) {
if (!(this instanceof n)) return new n(t, e, i, o, r);
l.call(this, t, e, i, o, r);
this.index = void 0;
this.length = 0;
this.currentChild = null;
var s = this;
this._onChildHide = function() {
switch (s.onChildHide) {
case "next":
s.next(!0);
break;

case "prev":
s.prev(!0);
break;

case "first":
s.first(!0);
break;

case "last":
s.last(!0);
break;

default:
var t = parseInt(s.onChildHide, 10);
if (isNaN(t)) break;
s.setIndex(t, !0);
}
};
this.onDestruction(function() {
s.currentChild = null;
});
}
var o = i(15), r = i(22), s = i(17), a = i(8), _ = i(11), l = i(18);
n.prototype = o(l.prototype);
n.prototype.addChildren = function(t) {
var e = t && t.length;
if (t && e) for (var i = 0; i < e; i++) r(t[i]) && this.appendChild(t[i]);
};
n.prototype.appendChild = function(t) {
var e = !1;
if (r(t)) {
this.children.push(t);
t[4] && (e = s(t[4].forceInstantiate));
} else if (t.dom) {
l.prototype.appendChild.call(this, t);
t.setVisible("none");
} else this.dom.appendChild(t);
e && this.instantiateChild(t);
return t;
};
n.prototype.removeChild = function(t) {
try {
if (r(t)) ; else if (t.dom) {
this.dom.removeChild(t.dom);
t.parentNode = null;
} else this.dom.removeChild(t);
var e = a(t, this.children);
e != -1 && this.children.splice(e, 1);
} catch (t) {}
};
n.prototype.setIndex = function(t, e) {
t = parseInt(t, 10);
if (this.validIndex(t) && t != this.index) {
var i, n = this.currentChild;
if (!e && (n ? n.fire("beforeIndexChange", t) : 1) + this.fire("beforeIndexChange", t) < 2) return !1;
if (n) {
this.autounbind(n, "hide", this._onChildHide);
n.setVisible("none");
}
this.fire("indexChanging", t);
if (t == -1) {
this.currentChild = null;
this.index = t;
this.fire("indexChange", t);
return !0;
}
n = this.children[t];
if (r(n)) {
n = this.instantiateChild(n);
i = !0;
}
n.setVisible("block");
this.autobind(n, "hide", this._onChildHide);
this.currentChild = n;
this.index = t;
i && this.fire("instantiate", t);
this.fire("indexChange", t);
return !0;
}
};
n.prototype.instantiateChild = function(t) {
if (r(t)) {
var e = a(t, this.children);
if (e != -1) {
t = new t[0](this, t[1], t[2], t[3], t[4]);
this.children[e] = t;
this.children.pop();
return t;
}
}
};
n.prototype.validIndex = function(t) {
return null != t && t < this.getLength() && t >= -1;
};
n.prototype.next = function(t) {
return _(this.index, !0) ? this.setIndex(0, t) : this.setIndex(this.index + 1, t);
};
n.prototype.prev = function(t) {
return _(this.index, !0) ? this.setIndex(this.getLength() - 1, t) : this.setIndex(Math.max(this.index - 1, 0), t);
};
n.prototype.first = function(t) {
return this.setIndex(0, t);
};
n.prototype.last = function(t) {
return this.setIndex(this.getLength() - 1, t);
};
n.prototype.getName = function() {
return this.currentChild && this.currentChild.getName();
};
n.prototype.setName = function(t) {
if (!t) return this.setIndex(-1);
for (var e = 0, i = this.children.length; e < i; e++) if (r(this.children[e])) {
if (this.children[e][4] && this.children[e][4].name === t) return this.setIndex(e);
} else if (this.children[e].getName && this.children[e].getName() === t) return this.setIndex(e);
};
n.prototype.isFirst = function() {
return this.index <= 0;
};
n.prototype.isLast = function() {
return this.index >= this.getLength() - 1;
};
n.prototype.getLength = function() {
return this.children.length;
};
n.prototype.getChildren = function() {
return this.children;
};
n.prototype.getCurrentChild = function() {
return this.currentChild;
};
n.prototype.getIndex = function() {
return this.index;
};
n.prototype.getOnChildHide = function() {
return this.onChildHide;
};
n.prototype.setOnChildHide = function(t) {
this.onChildHide = t;
return this;
};
t.exports = n;
e(n, "jx_ui_ViewStack");
return n;
}();
}).call(e, i(3));
}, function(t, e, i) {
(function(e, n, o, r, s, a) {
e.__$$__meshim_widget_widgets_ChatWindowPanel = i(92);
e.__$$__meshim_widget_widgets_AbsolutePaddingContainer = i(126);
e.__$$__jx_ui_Widget = i(18);
e.__$$__meshim_widget_components_chatWindow_newChatForm_Banner = i(127);
e.__$$__meshim_widget_components_chatWindow_newChatForm_Branding = i(129);
e.__$$__meshim_widget_widgets_IconFont = i(98);
e.__$$__jx_ui_Form = i(122);
e.__$$__meshim_widget_components_chatWindow_newChatForm_TextField = i(130);
t.exports = function() {
function t(s, a, l, u, d) {
if (!(this instanceof t)) return new t(s, a, l, u, d);
a = a || n.generateID();
var c = o(122), h = o(123), f = o(124), p = [ e.__$$__meshim_widget_widgets_ChatWindowPanel, "", "", [ [ e.__$$__meshim_widget_widgets_AbsolutePaddingContainer, "", "", [ [ e.__$$__jx_ui_Widget, "content", "", [ [ e.__$$__meshim_widget_components_chatWindow_newChatForm_Banner, "banner", "", [], {
id: "banner",
addClass: "banner"
} ], [ e.__$$__jx_ui_Widget, "", "", [ [ e.__$$__meshim_widget_components_chatWindow_newChatForm_Branding, "", "", [], {
addClass: "branding"
} ] ], {
addClass: "branding_container"
} ], [ e.__$$__meshim_widget_widgets_IconFont, "close", "", [], {
id: "close",
addClass: "close",
icon: "minimize",
title: c
} ] ], {
id: "content",
addClass: "content"
} ], [ e.__$$__jx_ui_Form, "form", "", [ [ e.__$$__meshim_widget_widgets_IconFont, "submit", "", [], {
id: "submit",
icon: "send",
addClass: "send",
title: h
} ], [ e.__$$__jx_ui_Widget, "", "", [ [ e.__$$__meshim_widget_components_chatWindow_newChatForm_TextField, "input", "", [], {
id: "input",
addClass: "input",
autocomplete: "false",
placeholder: f,
tabIndex: "10"
} ] ], {
class: "input_wrapper"
} ] ], {
id: "form",
addClass: "form",
noValidate: "true"
} ], [ e.__$$__jx_ui_Widget, "disabled_overlay", "", [], {
id: "disabled_overlay",
class: "disabled_overlay",
visible: "none"
} ] ], {
absPaddingBottom: "badgeFormHeight"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:components": "meshim.widget.components",
"xmlns:widgets": "meshim.widget.widgets",
"xmlns:chatWindow": "meshim.widget.components.chatWindow",
"xmlns:newChatForm": "meshim.widget.components.chatWindow.newChatForm",
miniSize: "true",
titleBar: "none",
actionBar: "none",
addClass: "mini"
} ], g = p[0].call(this, s, a, null, n.mangleIDs(a, p[3]), p[4]), m = g || this;
n.set(a, m);
var $ = n.get(a + "__content"), b = n.get(a + "__banner"), w = n.get(a + "__close"), x = n.get(a + "__form"), v = n.get(a + "__submit"), y = n.get(a + "__input"), j = n.get(a + "__disabled_overlay");
if (!t.__jx__jcss_generated) {
r.generate(s, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var C = function() {
function t() {
u.rtl(m);
u.windowPosition(m);
l.hoverFix(m);
m.autobind(g, "value", function(t) {
r = t;
});
m.autobind(S, "value", function(t) {
s = t;
});
m.autobind(k, "value", function(t) {
b[t ? "addClass" : "removeClass"]("hide_branding");
});
m.autobind(I, "value", function(t) {
"image_only" == t ? b.addClass("image_only") : b.removeClass("image_only");
});
y.on("input", function() {
f.update(y.getValue().trim());
});
x.on("submit", function(t) {
t.preventDefault();
e();
});
v.on("click", function() {
e();
});
w.on("click", function(t) {
t.stopPropagation();
_.userHideBanner();
});
$.on("click", n);
j.on("click", n);
m.autobind(N, "value", function(t) {
if ("idle_disconnect" === t) {
x.setDisabled(!0);
j.show();
} else {
x.setDisabled(!1);
j.hide();
}
});
}
function e() {
if (!x.getDisabled()) {
var t = y.getValue().trim();
if (t) {
y.reset();
o(t);
} else y.focus();
}
}
function n() {
var t = y.getValue().trim();
t && (r ? C : f).update(t);
y.reset();
p.write({
button_clicked$bool: !0
});
o();
}
function o(t) {
t && f.update("");
_.setBannerUserHidden();
if (r && !s) {
t && C.update(t);
A.update(!0);
h.update("pre_chat_offline_form");
} else {
t && a.livechat.sendChatMsg({
msg: t
});
h.update("chat_panel");
}
}
var r, s, a = i(41), _ = i(113), l = i(51), u = i(97), d = a.root, c = d.$("livechat"), h = c.$("ui").$("chat_window").$("main_stack_name$string"), f = c.$("ui").$("chat_window").$("chat_panel").$("textarea").$("value$string"), p = c.$("ui").$("chat_button"), g = c.$("settings").$("forms").$("pre_chat_form").$("required$bool"), C = c.$("settings").$("forms").$("pre_chat_form").$("form").$("3").$("value_user$string"), S = c.$("ui").$("chat_window").$("pre_chat_form").$("submitted$bool"), A = c.$("ui").$("chat_window").$("pre_chat_form").$("form_populate$bool"), k = c.$("settings").$("branding").$("hide_branding$bool"), I = c.$("settings").$("banner").$("layout$string"), N = d.$("connection").$("status$string");
t();
}();
for (var S in C) C.hasOwnProperty(S) && (m[S] = C[S]);
m.fire && m.fire("init");
m.setStyle && m.setStyle(l);
m.setAttributes && m.setAttributes(d);
"function" == typeof m.addChildren ? m.addChildren(u) : n.addChildren(m, u);
if (m !== this) {
m.__jx__constructor = _;
m.__jx__native = !1;
}
return m;
}
var _;
t.prototype = s(e.__$$__meshim_widget_widgets_ChatWindowPanel.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__meshim_widget_widgets_ChatWindowPanel;
t.__jx__jcss = {
".container": {
background: "$$badgeBg",
borderWidth: "$$badgeBorderWidth",
borderStyle: "$$badgeBorderStyle",
borderColor: "$$badgeBorderColor"
},
".content": {
width: "100%",
height: "100%",
overflow: "hidden",
color: "$$badgeContentColor",
background: "$$badgeContentBg",
borderWidth: "$$badgeContentBorderWidth",
borderStyle: "$$badgeContentBorderStyle",
borderColor: "$$badgeContentBorderColor"
},
".banner": {
width: "100%",
height: "100%",
position: "relative",
cursor: "pointer",
fontSize: "1.5em",
padding: "20px 10px 10px",
"&.hide_branding": {
paddingTop: "10px"
},
"&.image_only": {
padding: "0"
}
},
".branding_container": {
position: "absolute",
top: "6px",
left: 0,
width: "100%",
textAlign: "center",
cursor: "pointer",
".branding": {
cursor: "pointer"
}
},
".close": {
position: "absolute",
cursor: "pointer",
opacity: 0,
transition: "opacity 0.2s",
"top, right": 0,
padding: "9px 10px 2px 2px"
},
"&.rtl .close": {
left: "6px",
right: "auto",
padding: "3px 2px 2px 4px"
},
"&.hover, &:hover": {
".close": {
opacity: 1
}
},
".send": {
float: "right",
fontSize: "$$fontSizeXXL",
padding: "5px",
margin: "5px",
color: "$$badgeIconColor",
opacity: "0.8",
cursor: "pointer",
"&:hover": {
opacity: "1"
},
"&.disabled": {
cursor: "default",
"&:hover": {
opacity: "0.8"
}
}
},
".form, .disabled_overlay": {
position: "absolute",
"bottom, left": "0",
width: "100%",
height: "$$badgeFormHeight"
},
".disabled_overlay": {
cursor: "pointer"
},
".form": {
overflow: "hidden",
"*zoom": 1,
background: "$$badgeFormBg",
borderWidth: "$$badgeFormBorderWidth",
borderStyle: "$$badgeFormBorderStyle",
borderColor: "$$badgeFormBorderColor",
"&.disabled": {
opacity: "0.5"
},
".input_wrapper": {
display: "block",
overflow: "hidden",
"*width": "165px",
".input": {
width: "100%",
height: "100%",
position: "relative",
"*width": "165px",
"*overflow": "hidden"
}
},
".button": {
"*width": "60px"
}
},
"&.ltr .form": {
".input": {
paddingRight: 0
},
".button": {
float: "right"
}
},
"&.rtl .form": {
".input": {
paddingLeft: 0
},
".button": {
float: "left"
}
},
"&.br, &.bm, &.bl": {
".content": {
"borderTopLeftRadius, borderTopRightRadius": "$$windowRadius"
}
},
"&.tr, &.tm, &.tl": {}
};
a(t, "meshim_widget_components_chatWindow_NewChatForm");
_ = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(4), i(21), i(23), i(31), i(15), i(3));
}, function(t, e, i) {
(function(e, n, o, r, s, a, _) {
e.__$$__jx_ui_Widget = i(18);
e.__$$__meshim_widget_widgets_Branding = i(93);
t.exports = function() {
function t(a, _, u, d, c) {
if (!(this instanceof t)) return new t(a, _, u, d, c);
_ = _ || n.generateID();
var h = [ e.__$$__jx_ui_Widget, "", "", [ [ e.__$$__jx_ui_Widget, "container_and_brand_wrapper", "", [ [ e.__$$__jx_ui_Widget, "$$defaultplacement$$", "", [], {
container: "default",
addClass: "container",
id: "$$defaultplacement$$"
} ], [ e.__$$__meshim_widget_widgets_Branding, "branding", "", [], {
id: "branding",
addClass: "chat_window_panel_branding",
hideOnDesktop: "true"
} ] ], {
id: "container_and_brand_wrapper",
addClass: "container_and_brand_wrapper"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:widgets": "meshim.widget.widgets"
} ], f = h[0].call(this, a, _, null, n.mangleIDs(_, h[3]), h[4]), p = f || this;
n.set(_, p);
var g = n.get(_ + "__container_and_brand_wrapper"), m = n.get(_ + "__$$defaultplacement$$"), $ = n.get(_ + "__branding");
if (!t.__jx__jcss_generated) {
o.generate(a, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
p.defaultPlacement = m;
var b = function() {
function t() {
l.rtl(p);
p.autobind(j, "value", o);
e();
}
function e() {
var t;
if (y) {
t = "free_flow_with_fixed_titlebar_layout";
if (d.isStyleSupported("overflow-scrolling")) {
n();
u(g);
}
} else t = x ? "free_flow_layout" : "full_frame_layout";
if (t !== e.lastClassName) {
p.removeClass(e.lastClassName);
p.addClass(t);
e.lastClassName = t;
}
}
function n() {
function t() {
g.setCSSStyle("webkitOverflowScrolling", "auto");
setTimeout(function() {
g.setCSSStyle("webkitOverflowScrolling", "touch");
}, 50);
}
p.autobind(w.$("chat_window").$("display$bool"), "value", function(e) {
e && t();
});
}
function o() {
var t;
t = a ? "cwp_mini" : x || v ? "cwp_full" : "cwp_" + j.getValue();
if (t !== o.lastClassName) {
p.removeClass(o.lastClassName);
p.addClass(t);
o.lastClassName = t;
}
}
var a, _ = i(41), l = i(97), u = i(101), d = i(51), c = i(102), h = i(116), f = i(117), m = i(118), b = _.root, w = b.$("livechat").$("ui"), x = w.getValue("mobile$bool"), v = w.getValue("popout$bool"), y = w.getValue("mobile_overlay$bool"), j = b.$("livechat").$("settings").$("theme").$("chat_window").$("size$string");
p.setTitleBar = function(t) {
if (!p.titleBar) {
var e = t.split(",");
if (r("none", e) == -1) {
p.titleBar = new c(p);
p.addClass("has_title_bar");
for (var i = 0, n = e.length; i < n; i++) switch (e[i]) {
case "hidePopout":
p.titleBar.setHidePopout(!0);
}
} else {
p.titleBar = !0;
p.removeClass("has_title_bar");
}
}
};
p.getDraggableNode = function() {
return p.titleBar instanceof c ? p.titleBar : null;
};
p.setActionBar = function(t) {
if (!p.actionBar) {
var e = t.split(",");
if (r("none", e) == -1) if (x) {
if (r("default", e) != -1) {
p.actionBar = new f(p);
p.actionBar.addClass("mobile_options_menu_icon");
}
} else {
p.addClass("has_action_bar_at_bottom");
r("default", e) != -1 ? p.actionBar = new m(p) : p.actionBar = new h(p);
} else {
p.actionBar = !0;
p.removeClass("has_action_bar_at_bottom");
}
}
};
p.setMiniSize = function(t) {
a = s(t);
o();
};
p.setHideBrandingMobile = function(t) {
t = s(t);
x && t ? $.addClass("hidden") : $.removeClass("hidden");
};
t();
}();
for (var w in b) b.hasOwnProperty(w) && (p[w] = b[w]);
p.fire && p.fire("init");
p.setStyle && p.setStyle(u);
p.setAttributes && p.setAttributes(c);
"function" == typeof p.addChildren ? p.addChildren(d) : n.addChildren(p, d);
if (p !== this) {
p.__jx__constructor = l;
p.__jx__native = !1;
}
return p;
}
var l;
t.prototype = a(e.__$$__jx_ui_Widget.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_Widget;
t.__jx__jcss = {
"**self": {
position: "relative",
margin: "$$chatWindowPanelMargin"
},
".container": {
position: "relative",
background: "$$windowContentBg",
borderWidth: "$$windowContentBorderWidth",
borderStyle: "$$windowContentBorderStyle",
borderColor: "$$windowContentBorderColor"
},
".mobile_options_menu_icon": {
position: "absolute",
zIndex: "102"
},
".chat_window_panel_branding": {
display: "block",
padding: "5px",
margin: "10px 0",
textAlign: "center",
"&.hidden": {
display: "none !important"
}
},
".container_and_brand_wrapper": {
"width, height": "100%"
},
"&.full_frame_layout": {
overflow: "hidden",
"width, height": "100%",
".container": {
"width, height": "100%",
overfow: "hidden"
}
},
"&.free_flow_layout": {
overflow: "auto",
"width, height": "auto",
".container": {
"width, height": "auto"
}
},
"&.free_flow_with_fixed_titlebar_layout": {
overflow: "hidden",
"width, height": "100%",
".container_and_brand_wrapper": {
overflow: "auto",
"-webkit-overflow-scrolling": "touch"
},
".container": {
"width, height": "auto"
}
},
"&.has_title_bar": {
paddingTop: "$$titleBarHeight"
},
"&.has_action_bar_at_bottom": {
paddingBottom: "$$actionBarHeight"
},
"&.cwp_small": {
width: "$$windowSmallWidth",
height: "$$windowSmallHeight"
},
"&.cwp_medium": {
width: "$$windowMediumWidth",
height: "$$windowMediumHeight"
},
"&.cwp_large": {
width: "$$windowLargeWidth",
height: "$$windowLargeHeight"
},
"&.cwp_full": {
"width, height": "100%"
},
"&.cwp_mini": {
width: "$$windowMiniWidth",
height: "$$windowMiniHeight"
},
"&.ltr": {
".mobile_options_menu_icon": {
"top, left": 0
}
},
"&.rtl": {
".mobile_options_menu_icon": {
"top, right": 0
}
}
};
_(t, "meshim_widget_widgets_ChatWindowPanel");
l = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(4), i(21), i(31), i(8), i(17), i(15), i(3));
}, function(t, e, i) {
(function(e, n, o, r, s, a) {
e.__$$__jx_ui_Widget = i(18);
t.exports = function() {
function t(s, a, l, u, d) {
if (!(this instanceof t)) return new t(s, a, l, u, d);
a = a || n.generateID();
var c = [ e.__$$__jx_ui_Widget, "", "", [], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui"
} ], h = c[0].call(this, s, a, null, n.mangleIDs(a, c[3]), c[4]), f = h || this;
n.set(a, f);
if (!t.__jx__jcss_generated) {
o.generate(s, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var p = function() {
function t() {
f.autobind(g, "value", e);
f.autobind(p, "value", n);
f.autobind(m, "value", o);
}
function e() {
var t = g.getValue(), e = c[t];
if (e && !(s instanceof e)) {
s && s.destroy();
s = new e(f);
}
}
function n() {
var t = p.getValue();
t && a ? f.setDisplay("none") : t || !_ ? f.setDisplay("") : f.setDisplay("none");
}
function o(t) {
f.setVisibility(t ? "hidden" : "");
}
var s, a, _, l = i(41), u = i(94), d = i(100), c = {
icon_font_zopim: u,
icon_font_zendesk: d
}, h = l.root.$("livechat"), p = h.$("ui").$("mobile$bool"), g = h.$("settings").$("theme").$("branding").$("type$string"), m = h.$("settings").$("branding").$("hide_branding$bool");
f.setHideOnMobile = function(t) {
a = r(t);
n();
};
f.setHideOnDesktop = function(t) {
_ = r(t);
n();
};
t();
}();
for (var g in p) p.hasOwnProperty(g) && (f[g] = p[g]);
f.fire && f.fire("init");
f.setStyle && f.setStyle(l);
f.setAttributes && f.setAttributes(d);
"function" == typeof f.addChildren ? f.addChildren(u) : n.addChildren(f, u);
if (f !== this) {
f.__jx__constructor = _;
f.__jx__native = !1;
}
return f;
}
var _;
t.prototype = s(e.__$$__jx_ui_Widget.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_Widget;
t.__jx__jcss = {
"**self": {
display: "inline-block",
color: "$$brandingLinkColor"
}
};
a(t, "meshim_widget_widgets_Branding");
_ = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(4), i(21), i(31), i(17), i(15), i(3));
}, function(t, e, i) {
(function(e, n, o, r, s, a) {
e.__$$__meshim_widget_widgets_branding_Link = i(95);
e.__$$__meshim_widget_widgets_IconFont = i(98);
t.exports = function() {
function t(s, a, l, u, d) {
if (!(this instanceof t)) return new t(s, a, l, u, d);
a = a || n.generateID();
var c = [ e.__$$__meshim_widget_widgets_branding_Link, "", "", [ [ e.__$$__meshim_widget_widgets_IconFont, "", "", [], {
icon: "zendesk_2016"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:widgets": "meshim.widget.widgets"
} ], h = c[0].call(this, s, a, null, n.mangleIDs(a, c[3]), c[4]), f = h || this;
n.set(a, f);
if (!t.__jx__jcss_generated) {
o.generate(s, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var p = function() {
function t() {
f.autobind(u, "value", n);
f.autobind(d, "value", n);
if (r && r.onLanguage) {
r.onLanguage(e);
f.onDestruction(function() {
r.unLanguage(e);
});
}
e();
}
function e() {
n(), f.setTitle(_.branding.title_golion);
}
function n() {
var t = u.getValue() ? o().get("hostname") : window.location.hostname, e = {
utm_campaign: "Iref",
utm_source: t,
utm_medium: "widget",
utm_term: "new-widget",
utm_content: d.getValue(),
iref: d.getValue(),
lang: r.language
}, i = o.buildQuery(e);
f.setHref([ s.BRANDING_URL, "?", i ].join(""));
}
var o = i(29), s = i(43), a = i(41), _ = i(99), l = a.root.$("livechat"), u = l.$("ui").$("popout$bool"), d = l.$("account").$("key$string");
t();
}();
for (var g in p) p.hasOwnProperty(g) && (f[g] = p[g]);
f.fire && f.fire("init");
f.setStyle && f.setStyle(l);
f.setAttributes && f.setAttributes(d);
"function" == typeof f.addChildren ? f.addChildren(u) : n.addChildren(f, u);
if (f !== this) {
f.__jx__constructor = _;
f.__jx__native = !1;
}
return f;
}
var _;
t.prototype = s(e.__$$__meshim_widget_widgets_branding_Link.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__meshim_widget_widgets_branding_Link;
t.__jx__jcss = {
"**self": {
fontSize: "10px"
},
"&.mobile": {
fontSize: "11px"
},
".meshim_widget_widgets_IconFont": {
lineHeight: "inherit",
paddingTop: "2px",
paddingRight: "1px"
}
};
a(t, "meshim_widget_widgets_branding_ZopimGolion");
_ = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(4), i(21), i(31), i(23), i(15), i(3));
}, function(t, e, i) {
(function(e, n, o, r, s) {
e.__$$__jx_ui_html_a = i(96);
t.exports = function() {
function t(r, s, _, l, u) {
if (!(this instanceof t)) return new t(r, s, _, l, u);
s = s || n.generateID();
var d = [ e.__$$__jx_ui_html_a, "", "", [], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:widgets": "meshim.widget.widgets",
target: "_blank"
} ], c = d[0].call(this, r, s, null, n.mangleIDs(s, d[3]), d[4]), h = c || this;
n.set(s, h);
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var f = function() {
function t() {
n.mobile(h);
r.getValue() && h.on("click", function(t) {
t.preventDefault();
window.open(h.getAttribute("href"));
});
}
var e = i(41), n = i(97), o = e.root.$("livechat"), r = o.$("ui").$("mobile$bool");
t();
}();
for (var p in f) f.hasOwnProperty(p) && (h[p] = f[p]);
h.fire && h.fire("init");
h.setStyle && h.setStyle(_);
h.setAttributes && h.setAttributes(u);
"function" == typeof h.addChildren ? h.addChildren(l) : n.addChildren(h, l);
if (h !== this) {
h.__jx__constructor = a;
h.__jx__native = !1;
}
return h;
}
var a;
t.prototype = r(e.__$$__jx_ui_html_a.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_html_a;
t.__jx__jcss = {
"**self": {
color: "inherit",
textDecoration: "inherit"
},
"&.mobile": {}
};
s(t, "meshim_widget_widgets_branding_Link");
a = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(4), i(21), i(31), i(15), i(3));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t, e, i, o, s) {
if (!(this instanceof n)) return new n(t, e, i, o, s);
s || (s = {});
s.tagName = "a";
r.call(this, t, e, i, o, s);
}
var o = i(15), r = i(19);
n.prototype = o(r.prototype);
t.exports = n;
e(n, "jx_ui_html_a");
return n;
}();
}).call(e, i(3));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n() {
var t = l.root, e = t.$("livechat").$("ui").$("mobile$bool"), i = t.$("livechat").$("ui").$("popout$bool"), n = t.$("livechat").$("ui").$("mockup$bool"), r = t.$("livechat").$("ui").$("tablet$bool");
u.popout = s(i);
u.mockup = s(n);
u.tablet = s(r);
u.mobile = function(t) {
var i = e.getValue();
if (i) {
t.addClass("mobile");
t.removeClass("desktop");
} else {
t.addClass("desktop");
t.removeClass("mobile");
}
};
u.rtl = function(t) {
function e() {
_.unLanguage(i);
}
function i() {
if (_.rtl()) {
t.addClass("rtl");
t.removeClass("ltr");
} else {
t.addClass("ltr");
t.removeClass("rtl");
}
}
if (_ && _.onLanguage) {
_.onLanguage(i);
i();
t.onDestruction(e);
} else t.addClass("ltr");
};
u.windowPosition = o(t.$("livechat").$("settings").$("theme").$("chat_window").$("position$string"));
u.windowPositionMobile = o(t.$("livechat").$("settings").$("theme").$("chat_window").$("position_mobile$string"));
u.windowSize = o(t.$("livechat").$("settings").$("theme").$("chat_window").$("size$string"));
u.buttonPosition = o(t.$("livechat").$("settings").$("theme").$("chat_button").$("position$string"));
}
function o(t, e) {
e = e || "";
return function(i, n, o) {
n = n || "";
i.autobind(t, "value", r(i, e + n, o));
};
}
function r(t, e, i) {
var n;
return function(o) {
if (n != o) {
n && t.removeClass(e + n);
n = o;
n && t.addClass(e + n);
"function" == typeof i && i(n);
}
};
}
function s(t, e) {
e = e || t.name.split("$")[0];
return function(i, n) {
i.autobind(t, "value", a(i, e, n));
};
}
function a(t, e, i) {
return function(n) {
t[n ? "addClass" : "removeClass"](e);
"function" == typeof i && i(n);
};
}
var _ = i(23), l = i(41), u = {};
l.afterInit(n);
t.exports = u;
e(u, "meshim_widget_utils_BindClass");
return u;
}();
}).call(e, i(3));
}, function(t, e, i) {
(function(e, n, o, r, s) {
e.__$$__jx_ui_Widget = i(18);
t.exports = function() {
function t(r, s, a, _, l) {
if (!(this instanceof t)) return new t(r, s, a, _, l);
s = s || n.generateID();
var u = [ e.__$$__jx_ui_Widget, "", "", [], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
selectable: "false",
class: "icon_font"
} ], d = u[0].call(this, r, s, null, n.mangleIDs(s, u[3]), u[4]), c = d || this;
n.set(s, c);
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var h = function() {
var t = {
zopim: "&#xe000;",
message: "&#x1f4ac;",
tick: "&#x2714;",
cross: "&#x2716;",
popout: "&#x2197;",
popin: "&#x2199;",
minimize: "&#x2212;",
plus: "&#x002b;",
smiley: "&#x263a;",
happy: "&#xe001;",
happier: "&#xe002;",
sad: "&#xe003;",
thumbsup: "&#x1f44d;",
thumbsdown: "&#x1f44e;",
sadder: "&#xe004;",
brand: "&#xe005;",
brand_suffix: "&#xe006;",
brand_extended: "&#xe005;&#xe006;",
avatar_placeholder: "&#xe007;",
email: "&#x1f4e7;",
facebook: "&#xe008;",
twitter: "&#xe009;",
google: "&#xe00a;",
facebook_out: "&#xe00d;",
twitter_out: "&#xe00c;",
google_out: "&#xe00b;",
badge_default: "&#xe00e;",
warning_sign: "&#x26a0;",
arrow_left: "&#x2190;",
arrow_up: "&#x2191;",
arrow_down: "&#x2193;",
arrow_down_long: "&#x21e9;",
arrow_right: "&#x2192;",
pencil: "&#x270e;",
dustbin: "&#xe00f;",
sound_on: "&#x1f50a;",
sound_off: "&#x1f507;",
send: "&#x000BB;",
upload: "&#x21e7;",
exclamation: "&#x0021;",
brand_zendesk: "&#xe010;",
google_2016: "&#xe011;",
google_2016_out: "&#xe012;",
paperclip: "&#x1f4ce;",
picture: "&#x1f5bc;",
zendesk_2016: "&#xe013;",
zendesk_chat_2016: "&#xe014;",
messenger_squircle: "&#xe015;",
twitter_squircle: "&#xe016;",
messenger_round: "&#xe017;",
twitter_round: "&#xe018;"
};
c.setIcon = function(e) {
c.setHTML(t[e] || e || "");
};
c.setFont = function(t) {
c.setFontFamily(t || "");
};
}();
for (var f in h) h.hasOwnProperty(f) && (c[f] = h[f]);
c.fire && c.fire("init");
c.setStyle && c.setStyle(a);
c.setAttributes && c.setAttributes(l);
"function" == typeof c.addChildren ? c.addChildren(_) : n.addChildren(c, _);
if (c !== this) {
c.__jx__constructor = i;
c.__jx__native = !1;
}
return c;
}
var i;
t.prototype = r(e.__$$__jx_ui_Widget.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_Widget;
t.__jx__jcss = {
"**self": {
fontFamily: 'zopim, "Segoe UI Symbol", "Arial Unicode MS", "Lucida Sans Unicode", sans-serif',
speak: "none",
fontStyle: "normal",
fontWeight: "normal",
lineHeight: 1,
WebkitFontSmoothing: "antialiased"
},
"&:focus": {
outline: "none"
}
};
s(t, "meshim_widget_widgets_IconFont");
i = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(4), i(21), i(31), i(15), i(3));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
var n, o = i(23), r = i(41), s = i(46), a = i(51), _ = i(42), l = o(4), u = o(5), d = o(6), c = o(7);
n = {
get: function(t) {
if (!t) return "";
var e, i;
if (t instanceof _) {
e = t.getValue();
i = a.descendsObj(s, t.path().slice(1).join("."));
} else {
e = r.root.$$(t).getValue();
i = a.descendsObj(s, t);
}
return (e && e.toString(10)) == (i && i.toString(10)) ? i : e || "";
},
status: {
online: o(8),
away: o(9),
offline: o(10)
},
error_message: {
text: o(11),
email: o(12),
textarea: o(13),
select: o(14),
radio: o(15),
checkbox: o(16),
checkbox_multiple: o(17),
department: o(18),
default: o(19)
},
placeholder: {
phone: o(20)
},
end_chat_menu_message: o(21),
external_login: {
facebook: o(22),
twitter: o(23),
google: o(24)
},
chat_log: {
"chat.memberjoin": o(25),
"chat.memberleave": o(26),
"chat.changename": o(27),
"chat.visitorjoin": o(28),
"chat.visitorleave": o(29),
"chat.comment": o(30),
"chat.rating": {
good: o(31),
bad: o(32),
cancel: o(33)
}
},
chat_panel: {
name_is_typing: o(34),
names_are_typing: o(35),
agents_are_typing: o(36),
chattextarea_placeholder: o(37),
sendbutton_text: o(38),
new_message_below: o(39),
new_messages_below: o(40)
},
chat_button: {
unread_one: o(41),
unread_many: o(42),
mobile_greeting: {
online: o(43),
offline: o(44)
}
},
chat_notification: {
attachment: o(45)
},
connection_status: {
reconnecting: o(46),
idle_disconnect: o(47),
disconnected: o(48),
resuming: o(49),
fast_init: o(50)
},
cookie_law: {
disabled: o(51),
disabled_mobile: o(52),
privacy_policy: o(53),
request_use_cookies_golion: u
},
profile: {
unlink: o(54)
},
system_msg: {
queue: c
},
branding: {
title_zendesk: "Zendesk",
title_golion: d
},
pre_chat_offline_form: {
button_message: o(55),
button_chat: o(56),
department_any: o(57),
department_any_required: o(58),
button_disabled: o(59),
operating_hours: {
closed: o(60),
period: o(61)
}
},
file_upload: {
error: {
size: o(62),
type: o(63),
disabled: o(64),
default: o(65)
}
},
set_assignee: {
error: {
default: o(66),
zendesk_agent_not_found: l
}
},
datetime: {
days: [ o(67), o(68), o(69), o(70), o(71), o(72), o(73) ],
weekday: o(74),
weekend: o(75),
everyday: o(76),
all_day: o(77)
}
};
t.exports = n;
e(n, "meshim_widget_utils_Strings");
return n;
}();
}).call(e, i(3));
}, function(t, e, i) {
(function(e, n, o, r, s, a) {
e.__$$__meshim_widget_widgets_branding_Link = i(95);
e.__$$__meshim_widget_widgets_IconFont = i(98);
t.exports = function() {
function t(s, a, l, u, d) {
if (!(this instanceof t)) return new t(s, a, l, u, d);
a = a || n.generateID();
var c = [ e.__$$__meshim_widget_widgets_branding_Link, "", "", [ [ e.__$$__meshim_widget_widgets_IconFont, "", "", [], {
icon: "zendesk_2016"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:widgets": "meshim.widget.widgets"
} ], h = c[0].call(this, s, a, null, n.mangleIDs(a, c[3]), c[4]), f = h || this;
n.set(a, f);
if (!t.__jx__jcss_generated) {
o.generate(s, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var p = function() {
function t() {
if (r && r.onLanguage) {
r.onLanguage(e);
f.onDestruction(function() {
r.unLanguage(e);
});
}
e();
}
function e() {
n();
f.setTitle(o.branding.title_zendesk);
}
function n() {
f.setHref("https://www.zendesk.com/embeddables/?utm_source=webwidgetchat&utm_medium=poweredbyzendesk&utm_campaign=image");
}
var o = i(99);
t();
}();
for (var g in p) p.hasOwnProperty(g) && (f[g] = p[g]);
f.fire && f.fire("init");
f.setStyle && f.setStyle(l);
f.setAttributes && f.setAttributes(d);
"function" == typeof f.addChildren ? f.addChildren(u) : n.addChildren(f, u);
if (f !== this) {
f.__jx__constructor = _;
f.__jx__native = !1;
}
return f;
}
var _;
t.prototype = s(e.__$$__meshim_widget_widgets_branding_Link.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__meshim_widget_widgets_branding_Link;
t.__jx__jcss = {
"**self": {
fontSize: "10px"
},
"&.mobile": {
fontSize: "11px"
},
".meshim_widget_widgets_IconFont": {
lineHeight: "inherit",
paddingTop: "2px",
paddingRight: "1px"
}
};
a(t, "meshim_widget_widgets_branding_ZendeskGolion");
_ = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(4), i(21), i(31), i(23), i(15), i(3));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t) {
function e() {
var t = i.scrollHeight, e = i.offsetHeight, n = i.scrollTop;
t - e !== 1 && (t - e - n === 0 ? i.scrollTop = t - e - a : 0 === n && (i.scrollTop = a));
}
var i = t.dom, n = o.debounce(e, s);
t.on("scroll", n);
n();
setTimeout(n, r);
}
var o = i(59), r = 1e3, s = 50, a = 1;
t.exports = n;
e(n, "meshim_widget_utils_HackOverflowScrolling");
return n;
}();
}).call(e, i(3));
}, function(t, e, i) {
(function(e, n, o, r, s, a, _, l) {
e.__$$__jx_ui_Widget = i(18);
e.__$$__meshim_widget_widgets_BorderOverlay = i(103);
e.__$$__jx_ui_Label = i(104);
e.__$$__meshim_widget_widgets_IconFont = i(98);
e.__$$__meshim_widget_widgets_titleBar_MinimizeButton = i(105);
t.exports = function() {
function t(_, l, d, c, h) {
if (!(this instanceof t)) return new t(_, l, d, c, h);
l = l || n.generateID();
var f = o(198), p = o(199), g = [ e.__$$__jx_ui_Widget, "", "", [ [ e.__$$__meshim_widget_widgets_BorderOverlay, "", "", [], {} ], [ e.__$$__jx_ui_Widget, "", "", [ [ e.__$$__jx_ui_Label, "title_text", "", [], {
id: "title_text",
addClass: "title_text"
} ], [ e.__$$__jx_ui_Label, "status_text", "", [], {
id: "status_text",
addClass: "status_text",
display: "none"
} ] ], {
addClass: "title"
} ], [ e.__$$__jx_ui_Widget, "icons", "", [ [ e.__$$__jx_ui_Widget, "popout_container", "", [ [ e.__$$__meshim_widget_widgets_IconFont, "popout_button", "", [], {
id: "popout_button",
icon: "popout",
title: f
} ] ], {
id: "popout_container",
addClass: "button_container"
} ], [ e.__$$__jx_ui_Widget, "minimize_container", "", [ [ e.__$$__meshim_widget_widgets_titleBar_MinimizeButton, "minimize_button", "", [], {
id: "minimize_button"
} ] ], {
id: "minimize_container",
addClass: "button_container last_child",
title: p
} ] ], {
id: "icons",
addClass: "icons"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:widgets": "meshim.widget.widgets",
"xmlns:titleBar": "meshim.widget.widgets.titleBar",
class: "title_bar",
selectable: "false"
} ], m = g[0].call(this, _, l, null, n.mangleIDs(l, g[3]), g[4]), $ = m || this;
n.set(l, $);
var b = n.get(l + "__title_text"), w = n.get(l + "__status_text"), x = n.get(l + "__icons"), v = n.get(l + "__popout_container"), y = n.get(l + "__popout_button"), j = n.get(l + "__minimize_container"), C = n.get(l + "__minimize_button");
if (!t.__jx__jcss_generated) {
r.generate(_, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var S = function() {
function t() {
S.mobile($);
S.rtl($);
S.windowPosition($);
$.autobind(T, "value", function(t) {
u = t;
e();
n();
$[t ? "addClass" : "removeClass"]("title_bar_popout");
});
$.autobind(k, "value", function() {
b.setText(m.get(k));
});
D && $.autobind(I, "value", function(t) {
t && C.setMobile(!0);
});
$.autobind(N, "value", function() {
r = N.getValue();
o();
});
$.autobind(E, "value", function(t) {
d = t;
o();
});
$.autobind(B, "value", function(t) {
_ = t;
e();
});
$.autobind(O, "value", function(t) {
c = t;
n();
});
$.autobind(P, "value", function(t) {
h = t;
e();
});
x.on("mousedown", function(t) {
t.stopPropagation();
});
v.on("click", function() {
p.openPopout(!0);
g.userHideWindow();
});
j.on("click", function() {
g.userHideWindow();
});
}
function e() {
var t = _ && !l && !u && !h && !a.bugs.noBoxSizing;
y.setDisplay(t ? "" : "none");
}
function n() {
var t = c || u;
j.setDisplay(t ? "none" : "");
t ? v.addClass("last_child") : v.removeClass("last_child");
}
function o() {
r && w.setText(m.get(N.$$(d + "$string")));
}
var r, _, l, u, d, c, h, f = i(41), p = i(110), g = i(113), m = i(99), S = i(97), A = f.root.$("livechat"), k = A.$("settings").$("chat_window").$("title_bar").$("title$string"), I = A.$("ui").$("theme_loaded$bool"), N = A.$("settings").$("chat_window").$("title_bar").$("status_messages"), B = A.$("settings").$("popout").$("enabled$bool"), T = A.$("ui").$("popout$bool"), D = A.$("ui").$("mobile$bool").getValue(), E = A.$("account").$("status$string"), O = A.$("settings").$("theme").$("chat_window").$("title_bar").$("hide_minimize$bool"), P = A.$("settings").$("theme").$("chat_window").$("title_bar").$("hide_popout$bool");
$.setHidePopout = function(t) {
l = s(t);
e();
};
t();
}();
for (var A in S) S.hasOwnProperty(A) && ($[A] = S[A]);
$.fire && $.fire("init");
$.setStyle && $.setStyle(d);
$.setAttributes && $.setAttributes(h);
"function" == typeof $.addChildren ? $.addChildren(c) : n.addChildren($, c);
if ($ !== this) {
$.__jx__constructor = u;
$.__jx__native = !1;
}
return $;
}
var u;
t.prototype = _(e.__$$__jx_ui_Widget.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_Widget;
t.__jx__jcss = {
"**self": {
position: "absolute",
"top, left": 0,
width: "100%",
overflow: "hidden",
zIndex: 10,
height: "$$titleBarHeight",
color: "$$titleBarColor",
background: "$$titleBarBg",
"&.title_bar_popout": {
cursor: "default"
}
},
".border_overlay": {
borderWidth: "$$titleBarBorderWidth",
borderStyle: "$$titleBarBorderStyle",
borderColor: "$$titleBarBorderColor"
},
".title": {
whiteSpace: "nowrap",
overflow: "hidden",
textOverflow: "ellipsis",
cursor: "inherit",
textAlign: "$$titleBarTextAlign",
fontSize: "$$titleBarFontSize",
lineHeight: "$$titleBarHeight",
fontWeight: "$$titleBarFontWeight",
".title_text, .status_text": {
cursor: "inherit"
},
".title_text": {
display: [ "inline", "$$titleBarTitleDisplay" ]
},
".status_text": {
display: [ "none", "$$titleBarStatusDisplay" ]
}
},
"&.ltr .title": {
paddingLeft: "$$titleBarPaddingBefore",
paddingRight: "$$titleBarPaddingAfter"
},
"&.rtl .title": {
paddingLeft: "$$titleBarPaddingAfter",
paddingRight: "$$titleBarPaddingBefore"
},
".icons": {
position: "absolute",
cursor: "default",
color: "$$titleBarIconsColor",
fontSize: "$$fontSizeXS",
".icon_font": {
display: "inline-block",
textAlign: "center",
"paddingRight, paddingLeft": "6px",
lineHeight: "$$titleBarHeight",
"&:hover": {
"&": "$$titleBarItemHover"
}
},
".button_container": {
display: "inline-block",
verticalAlign: "middle",
cursor: "pointer",
paddingTop: "2px"
}
},
"&.ltr .icons": {
"top, right": 0,
".button_container": {
"&.last_child": {
paddingRight: "3px"
}
}
},
"&.rtl .icons": {
"top, left": 0,
".button_container": {
"&.last_child": {
paddingLeft: "3px"
}
}
},
"&.br, &.bm, &.bl": {
"borderTopLeftRadius, borderTopRightRadius": "$$windowRadius"
},
"&.tr, &.tm, &.tl": {},
"&.mobile": {
zIndex: 101,
borderRadius: "0",
".title": {
fontSize: "$$fontSizeXL"
},
"&.ltr .icons, &.rtl .icons": {
".button_container": {
padding: 0,
"&.last_child": {
padding: 0
}
}
}
}
};
l(t, "meshim_widget_widgets_TitleBar");
u = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(4), i(21), i(23), i(31), i(17), i(7), i(15), i(3));
}, function(t, e, i) {
(function(e, n, o, r, s) {
e.__$$__jx_ui_Widget = i(18);
t.exports = function() {
function t(r, s, a, _, l) {
if (!(this instanceof t)) return new t(r, s, a, _, l);
s = s || n.generateID();
var u = [ e.__$$__jx_ui_Widget, "", "", [], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:widgets": "meshim.widget.widgets",
addClass: "border_overlay"
} ], d = u[0].call(this, r, s, null, n.mangleIDs(s, u[3]), u[4]), c = d || this;
n.set(s, c);
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var h = void 0;
for (var f in h) h.hasOwnProperty(f) && (c[f] = h[f]);
c.fire && c.fire("init");
c.setStyle && c.setStyle(a);
c.setAttributes && c.setAttributes(l);
"function" == typeof c.addChildren ? c.addChildren(_) : n.addChildren(c, _);
if (c !== this) {
c.__jx__constructor = i;
c.__jx__native = !1;
}
return c;
}
var i;
t.prototype = r(e.__$$__jx_ui_Widget.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_Widget;
t.__jx__jcss = {
"**self": {
position: "absolute",
"top, left": 0,
"width, height": "100%",
borderRadius: "inherit"
}
};
s(t, "meshim_widget_widgets_BorderOverlay");
i = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(4), i(21), i(31), i(15), i(3));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t, e, i, o, s) {
if (!(this instanceof n)) return new n(t, e, i, o, s);
s || (s = {});
s.tagName || (s.tagName = "label");
r.call(this, t, e, i, o, s);
null == s.selectable && this.setSelectable(!1);
}
var o = i(15), r = i(18);
n.prototype = o(r.prototype);
t.exports = n;
e(n, "jx_ui_Label");
return n;
}();
}).call(e, i(3));
}, function(t, e, i) {
(function(e, n, o, r, s, a) {
e.__$$__jx_ui_Widget = i(18);
e.__$$__jx_ui_html_table = i(106);
e.__$$__jx_ui_html_tbody = i(107);
e.__$$__jx_ui_html_tr = i(108);
e.__$$__jx_ui_html_td = i(109);
t.exports = function() {
function t(s, a, _, l, u) {
if (!(this instanceof t)) return new t(s, a, _, l, u);
a = a || n.generateID();
var d = [ e.__$$__jx_ui_Widget, "", "", [ [ e.__$$__jx_ui_html_table, "", "", [ [ e.__$$__jx_ui_html_tbody, "", "", [ [ e.__$$__jx_ui_html_tr, "", "", [ [ e.__$$__jx_ui_html_td, "", "", [ [ e.__$$__jx_ui_Widget, "bar", "", [], {
id: "bar",
addClass: "bar"
} ] ], {
addClass: "td"
} ] ], {} ] ], {} ] ], {
addClass: "table"
} ], [ e.__$$__jx_ui_Widget, "", "", [], {
addClass: "overlay"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:widgets": "meshim.widget.widgets",
selectable: "false"
} ], c = d[0].call(this, s, a, null, n.mangleIDs(a, d[3]), d[4]), h = c || this;
n.set(a, h);
var f = n.get(a + "__bar");
if (!t.__jx__jcss_generated) {
o.generate(s, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var p = function() {
h.setColor = function(t) {
f.setBackground(t);
};
h.setBarWidth = function(t) {
f.setWidth(t);
};
h.setBarHeight = function(t) {
f.setHeight(t);
};
h.setMobile = function(t) {
if (r(t)) {
var e = parseInt(o.getVariable("titleBarHeight"), 10), i = e / 2.75, n = i / 8;
h.setWidth(e);
h.setHeight(e);
f.setWidth(i);
f.setHeight(n);
}
};
}();
for (var g in p) p.hasOwnProperty(g) && (h[g] = p[g]);
h.fire && h.fire("init");
h.setStyle && h.setStyle(_);
h.setAttributes && h.setAttributes(u);
"function" == typeof h.addChildren ? h.addChildren(l) : n.addChildren(h, l);
if (h !== this) {
h.__jx__constructor = i;
h.__jx__native = !1;
}
return h;
}
var i;
t.prototype = s(e.__$$__jx_ui_Widget.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_Widget;
t.__jx__jcss = {
"**self": {
width: "22px",
height: "22px",
position: "relative",
overflow: "hidden"
},
".bar": {
width: "10px",
height: "2px",
margin: "auto",
backgroundColor: [ "$$titleBarColor", "$$titleBarIconsColor" ]
},
".table": {
width: "100%",
height: "100%",
tableLayout: "fixed",
borderSpacing: "0",
borderCollapse: "collapse"
},
".td": {
verticalAlign: "middle"
},
".overlay": {
position: "absolute",
"top, left": "0",
"width, height": "100%",
backgroundColor: "transparent"
}
};
a(t, "meshim_widget_widgets_titleBar_MinimizeButton");
i = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(4), i(21), i(31), i(17), i(15), i(3));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t, e, i, o, s) {
if (!(this instanceof n)) return new n(t, e, i, o, s);
s || (s = {});
s.tagName = "table";
r.call(this, t, e, i, o, s);
}
var o = i(15), r = i(19);
n.prototype = o(r.prototype);
t.exports = n;
e(n, "jx_ui_html_table");
return n;
}();
}).call(e, i(3));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t, e, i, o, s) {
if (!(this instanceof n)) return new n(t, e, i, o, s);
s || (s = {});
s.tagName = "tbody";
r.call(this, t, e, i, o, s);
}
var o = i(15), r = i(19);
n.prototype = o(r.prototype);
t.exports = n;
e(n, "jx_ui_html_tbody");
return n;
}();
}).call(e, i(3));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t, e, i, o, s) {
if (!(this instanceof n)) return new n(t, e, i, o, s);
s || (s = {});
s.tagName = "tr";
r.call(this, t, e, i, o, s);
}
var o = i(15), r = i(19);
n.prototype = o(r.prototype);
t.exports = n;
e(n, "jx_ui_html_tr");
return n;
}();
}).call(e, i(3));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t, e, i, o, s) {
if (!(this instanceof n)) return new n(t, e, i, o, s);
s || (s = {});
s.tagName = "td";
r.call(this, t, e, i, o, s);
}
var o = i(15), r = i(19);
n.prototype = o(r.prototype);
t.exports = n;
e(n, "jx_ui_html_td");
return n;
}();
}).call(e, i(3));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
var n = i(7), o = i(49), r = i(29), s = i(43), a = i(41), _ = i(111), l = i(56), u = {};
u.init = function() {
var t, e = a.root, i = e.$("connection").$("status$string"), d = e.$("livechat").$("ui").$("popout$bool"), c = e.$("livechat").$("ui").$("mobile$bool"), h = e.$("livechat").$("ui").$("mockup$bool"), f = e.$("livechat").$("account").$("key$string"), p = e.$("livechat").$("profile").$("mid$string"), g = e.$("livechat").$("settings").$("language").$("language$string"), m = c.getValue() ? "dialog=no,fullscreen=yes" : "width=400,height=500,menubar=no,toolbar=no,location=no,personalbar=no,status=no,resizable=yes,scrollbars=no";
u.openPopout = function(e) {
if (!n.bugs.noBoxSizing) {
var i = f.getValue() || s.ACCOUNT_KEY, o = c.getValue();
if (!h.getValue() && !d.getValue() && i && !l.isIEMobile) {
var r = u.getPopoutURL();
if (t && !t.closed && t.focus) {
if (!o && n.isChrome || l.isNativeAndroidMobile || l.isSafariIOSMobile) t.focus(); else {
t.close();
t = window.open(r, s.POPOUT_WINDOW_PREFIX + i + new Date(), m);
if (!t || t.closed) return;
}
return !0;
}
if (o || e) {
try {
t = window.open(r, s.POPOUT_WINDOW_PREFIX + i, m);
} catch (t) {}
if (l.isChromeIOSMobile) return !0;
if (!t || t.closed) return;
try {
t.focus();
} catch (t) {}
return !0;
}
}
}
};
u.getPopoutURL = function() {
var t = {
key: f.getValue() || s.ACCOUNT_KEY,
mid: p.getValue() || "",
lang: g.getValue() || "",
hostname: window.location.hostname,
api_calls: o.stringify(_.getPopoutAPICalls())
}, e = [ s.POPOUT_URL, "?", r.buildQuery(t) ], i = r.getHash("__zopim_widget_proxy");
i && e.push("#", r.buildQuery({
__zopim_widget_proxy: i
}));
return e.join("");
};
u.isReady = function() {
var t = i.getValue();
return "registered" == t || "reattached" == t || "cookie_law" == t;
};
};
t.exports = u;
e(u, "meshim_widget_controllers_PopoutController");
return u;
}();
}).call(e, i(3));
}, function(t, e, i) {
(function(e, n) {
t.exports = function() {
function o() {
A = k = I = !1;
N = [];
B = [];
T = [];
D = [];
E = [];
O = [];
P = [];
W = {};
S = z.root;
S.$("connection").$("status$string").bindValue(r);
S.$("connection").$("message$string").bindValue(s);
L = S.$("tmp").$("api_settings");
R = S.$("tmp").$("server_settings");
G.bindToConnectionStatus(S.$("connection").$("status$string"));
F = window.zE ? "web_widget" : "standalone";
}
function r(t) {
if ("reattached" == t) {
I = !0;
l();
} else if ("registered" == t || "cookie_law" == t) {
k = !0;
_();
}
}
function s(t) {
if ("fast_init" == t) {
A = !0;
a();
}
}
function a() {
h(N);
N.length = 0;
h(D);
}
function _() {
h(B);
B.length = 0;
h(E);
}
function l() {
h(T);
T.length = 0;
h(O);
}
function u(t, e) {
e && D.push(t);
A ? f(t) : e || N.push(t);
}
function d(t, e) {
e && E.push(t);
k ? f(t) : e || B.push(t);
}
function c(t, e) {
e && O.push(t);
I ? f(t) : e || T.push(t);
}
function h(t) {
if (t && M(t)) for (var e = 0; e < t.length; e++) f(t[e]);
}
function f(t) {
var e = K.call(arguments, 1);
try {
t.apply(null, e);
} catch (e) {
if (!window.console) return;
if (!V(window.console.log)) return;
var i = "Error in LiveChatAPI call", n = [];
e.name && n.push(e.name);
e.message && n.push(e.message);
n.length && (i += ": " + n.join(" - "));
window.console.log(i);
V(window.console.dir) && window.console.dir(e);
window.console.log(t.toString());
}
}
function p(t) {
return function() {
var e = Array.prototype.slice.call(arguments);
setTimeout(function() {
t.apply(null, e);
}, 0);
};
}
function g(t) {
return Z.test(t);
}
function m(t) {
q.fullyExtend(W, t);
L && L.update(W);
}
function $(t) {
q.fullyDelete(W, t);
if (L) {
L.update(null);
L.update(W);
}
}
function b(t) {
return t ? R.getValue(t) : R.getValue();
}
function w(t, e) {
P.push([ t, e ]);
}
function x() {
return P;
}
function v() {
var t;
try {
t = U.parse(H().get("api_calls"));
} catch (t) {}
return M(t) ? t : [];
}
function y() {
return Y;
}
function j(t, i, n) {
if (!e(n.interval) || !e(n.limit)) throw new Error("requires numeric interval and limit");
return function() {
var e = Date.now();
if (n.start > e - n.interval) {
n.count || (n.count = 0);
n.count++;
if (n.count > n.limit) {
window.console && window.console.log && window.console.log(X.getPrefix() + ": " + i + " has been ratelimited. This call has been ignored.");
return;
}
} else {
n.start = e;
n.count = 1;
}
return t.apply(this, arguments);
};
}
function C(t) {
G.increment("jsapi.usage", [ "source:" + F, "method:" + t ]);
}
var S, A, k, I, N, B, T, D, E, O, P, L, W, R, F, M = i(22), V = i(10), H = i(29), z = (i(62), 
i(41)), q = i(51), U = i(49), G = i(112), Y = "Zendesk Chat", X = {
init: o,
callNow: f,
handleDelayed: h,
callOnFastInit: u,
callOnRegistered: d,
callOnReattached: c,
isHexColor: g,
getCallbackCaller: p,
saveAPISettings: m,
resetAPISettings: $,
getServerSettings: b,
savePopoutAPICalls: w,
getPopoutAPICalls: x,
parseAPIFromQuery: v,
getPrefix: y,
rateLimit: j,
instrument: C
}, K = Array.prototype.slice, Z = /^#[0-9A-F]{6}$/i;
t.exports = X;
n(X, "meshim_widget_controllers_liveChatAPI_APIHelper");
return X;
}();
}).call(e, i(24), i(3));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n() {
a = new d();
a.send = c.send;
a.bindToConnectionStatus = o;
a.flush = u.debounce(s, 1e3);
a._flush = s;
}
function o(t) {
t.bindValue(r);
}
function r(t) {
if ("registered" == t || "reattached" == t || "cookie_law" == t) {
_ = !0;
a._flush();
} else _ = !1;
}
function s() {
if (_ && this.queue.length) {
l(a.send) && a.send({
__type: "instrumentation",
metrics: this.queue
});
this.queue = [];
}
}
var a, _, l = i(10), u = i(59), d = i(64), c = i(62);
n();
t.exports = a;
e(a, "meshim_widget_controllers_liveChatAPI_APIUsageController");
return a;
}();
}).call(e, i(3));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n() {
H("UIController init");
se.mobile && se.popout && ee();
te();
o();
_e.userShowBadgeOrWindow = h;
_e.userShowWindow = f;
_e.userHideWindow = p;
_e.userHideBanner = g;
_e.userHideBubble = m;
_e.userDismissMobileNotification = le;
_e.userReplyMobileNotification = $;
_e.showWindow = b;
_e.hideWindow = w;
_e.toggleWindow = x;
_e.showBanner = v;
_e.hideBanner = y;
_e.showButton = j;
_e.hideButton = C;
_e.showMobileNotification = N;
_e.hideMobileNotification = B;
_e.disableMobileNotifications = T;
_e.hideAll = S;
_e.showBubble = A;
_e.hideBubble = k;
_e.resetBubble = I;
_e.setWindowUserHidden = E;
_e.setBannerUserHidden = O;
_e.setBubbleUserHidden = P;
_e.resetBubbleUserHidden = L;
_e.setHideWhenOffline = W;
_e.mobileNotificationsIgnoreChatButtonVisibility = D;
_e.showMenu = R;
_e.showProfileMenu = F;
_e.getAPIState = M;
_e.resetState = q;
}
function o() {
nt = !1;
U = Zt.root;
G = U.$("livechat");
Y = G.$("settings");
X = Y.$("theme");
K = G.$("ui");
Z = K.$("chat_window");
Q = K.$("chat_button");
Et = G.$("profile").$("logged_in$bool");
Ot = G.$("profile").$("auth").$("type$string");
Pt = Y.$("login").$("allowed_types_count$int");
Lt = G.$("settings").$("login").$("restrict_profile$bool");
Tt = Z.$("menu_stack_name$string");
Dt = Z.$("profile_menu").$("index$int");
J = K.$("popout$bool");
tt = K.$("mobile$bool");
et = K.$("mockup$bool");
it = K.$("mobile_overlay$bool");
Ht = K.$("current_display$string");
Vt = K.$("previous_display$string");
V(J, "popout", function() {
l();
_();
});
V(tt, "mobile", function() {
l();
_();
});
V(it, "mobile_overlay", _);
V(et, "mockup");
ft = U.$("connection").$("message$string");
V(ft, "connection_message", _);
pt = U.$("connection").$("status$string");
V(pt, "connection_status", function() {
Gt(se.connection_status) && se.connection_status && (/disconnect|shutdown/.test(se.connection_status) || Jt.fromRefTime("conn_status_" + se.connection_status, .25));
r();
_();
});
gt = G.$("account").$("status$string");
V(gt, "account_status", function() {
l();
_();
});
mt = G.$("channel").$("chatting$bool");
It = K.$("chat_window").$("pre_chat_form").$("submitted$bool");
V(mt, "chatting", function() {
r();
_();
});
$t = G.$("channel").$("served$bool");
V($t, "chat_served", _);
bt = Y.$("behavior").$("do_not_display$bool");
wt = Y.$("banner").$("enabled$bool");
vt = Y.$("bubble").$("enabled$bool");
Ct = Y.$("chat_button").$("hide_when_offline$bool");
St = Z.$("user_hidden$bool");
At = Z.$("user_hidden_banner$bool");
kt = Z.$("user_hidden_bubble$bool");
xt = X.$("chat_window").$("use_banner$bool");
jt = Q.$("bubble").$("display$bool");
yt = X.$("chat_button").$("use_bubble$bool");
V(bt, "do_not_display", _);
V(wt, "banner_enabled", _);
V(vt, "bubble_enabled", _);
V(Ct, "hide_when_offline", _);
V(St, "chat_window_user_hidden", _);
V(At, "banner_user_hidden", _);
V(kt, "bubble_user_hidden", l);
V(xt, "use_banner", _);
V(jt, "bubble_display", l);
V(yt, "use_bubble", l);
Nt = G.$("settings").$("forms").$("pre_chat_form").$("required$bool");
Nt.bindValue(s);
It.bindValue(s);
Wt = Q.$("display$bool");
Rt = Z.$("display$bool");
Ft = Z.$("main_stack_name$string");
Mt = K.$("chat_notification").$("display$bool");
Wt.bindValue(a);
Rt.bindValue(a);
Ft.bindValue(a);
Mt.bindValue(a);
nt = !0;
}
function r() {
if (se.chatting && se.connection_status == oe.REATTACHED) {
H("UIController: setting pre_chat_form_submitted to true");
It.update(!0);
}
}
function s() {
var t = Nt.getValue(), e = It.getValue(), i = t && !e;
if (i != Bt) {
Bt = i;
_();
}
}
function a() {
var t, e, i = Wt.getValue(), n = Rt.getValue(), o = Ft.getValue(), r = Mt.getValue();
t = Yt(i) && Yt(n) && Yt(r) ? ie.UNDEFINED : n ? o == ne.NEW_CHAT_FORM ? ie.BANNER : ie.WINDOW : i ? ie.BUTTON : r ? ie.NOTIFICATION : ie.NONE;
e = o;
if (t != zt || e != qt) {
zt = t;
qt = e;
_();
}
}
function _() {
function t() {
if (Bt) {
z(e, "pre_chat_form_required");
d([ ne.PRE_CHAT_OFFLINE_FORM ]);
} else {
z(e, "!pre_chat_form_required");
d([ ne.CHAT_PANEL, ne.AGENT_LIST, ne.CARD_FORM, ne.POST_CHAT_FORM, ne.ABOUT_PANEL, ne.COOKIE_FORM ]);
}
}
if (nt) if (_t) H("UIController update: abort - display settings updating"); else if (st) H("UIController update: abort - api updating"); else if (at) H("UIController update: abort - user updating"); else if (ot) H("UIController update: abort - updating loop"); else {
ot = !0;
var e = [];
if (se.account_status == re.BANNED) {
z(e, re.BANNED);
if (se.popout) {
z(e, "popout");
u(ie.WINDOW);
d([ ne.PRE_CHAT_OFFLINE_FORM ]);
} else {
z(e, "!popout");
u(ie.UNDEFINED);
}
} else if (ae.api_display && ae.api_stack) z(e, "api_display && api_stack"); else if (!se.do_not_display || se.popout || ae.api_display || se.chatting || zt != ie.UNDEFINED) if (!se.mobile || se.mobile_overlay || se.popout) {
if (se.connection_status == oe.COOKIE_LAW) {
z(e, "cookie_law");
if (ae.api_display) z(e, "api_display"); else if (zt == ie.NONE) z(e, "none"); else if (se.popout) {
z(e, "popout");
u(ie.WINDOW);
} else {
z(e, "!popout");
if (zt == ie.UNDEFINED) {
z(e, "undefined");
u(ie.BUTTON);
} else z(e, "!undefined");
}
d([ ne.COOKIE_FORM ]);
} else if (se.connection_status == oe.REGISTERED || se.connection_status == oe.REATTACHED || se.connection_message == oe.FAST_INIT) {
z(e, "registered/reattached/fast_init");
if (se.chatting) {
z(e, "chatting");
if (ae.api_display) {
z(e, "api_display");
if (se.mobile_overlay && (zt === ie.BUTTON || ae.mobile_notifications_ignore_chat_button_visibility && zt !== ie.WINDOW) && dt) {
z(e, "overlay && (displaying button || ignoring chat button visibility && not displaying window) && has mobile notification");
u(ie.NOTIFICATION);
} else {
z(e, "!overlay || !displaying button && !(ignoring chat button visibility && not displaying window) || !has mobile notification");
if (zt !== ie.NOTIFICATION || dt) z(e, "!displaying notification || has mobile notification"); else {
z(e, "displaying notification && !has mobile notification");
u(ae.api_display);
}
}
} else {
z(e, "!api_display");
if (se.mobile_overlay) {
z(e, "overlay");
if (se.chat_window_user_hidden) {
z(e, "user hidden");
if (dt) {
z(e, "has mobile notification");
u(ie.NOTIFICATION);
} else {
z(e, "!has mobile notification");
u(ie.BUTTON);
}
} else {
z(e, "!user hidden");
if (ut) {
z(e, "user_shown_window_before");
u(ie.WINDOW);
} else {
z(e, "!user_shown_window_before");
if (dt) {
z(e, "has mobile notification");
u(ie.NOTIFICATION);
} else {
z(e, "!has mobile notification");
u(ie.BUTTON);
}
}
}
} else {
z(e, "!overlay");
if (se.chat_window_user_hidden) {
z(e, "user hidden");
if (se.popout) {
z(e, "popout");
u(ie.WINDOW);
} else {
z(e, "!popout");
if (zt == ie.UNDEFINED) {
z(e, "undefined");
u(ie.BUTTON);
} else z(e, "!undefined");
}
} else {
z(e, "!user hidden");
u(ie.WINDOW);
}
}
}
d(se.chat_served ? [ ne.CHAT_PANEL, ne.AGENT_LIST, ne.CARD_FORM, ne.ABOUT_PANEL, ne.RATING_PANEL, ne.COOKIE_FORM ] : [ ne.CHAT_PANEL, ne.AGENT_LIST, ne.CARD_FORM, ne.ABOUT_PANEL, ne.COOKIE_FORM ]);
} else if (se.account_status == re.ONLINE || se.account_status == re.AWAY) {
z(e, "online/away");
if (ae.api_display) {
z(e, "api_display");
t();
} else if (se.popout || zt == ie.WINDOW) {
z(e, "popout/window");
if (se.popout) {
z(e, "popout");
u(ie.WINDOW);
} else z(e, "window");
t();
} else if (zt == ie.NONE) z(e, "none"); else if (se.banner_enabled && se.use_banner) {
z(e, "show banner");
switch (zt) {
case ie.UNDEFINED:
z(e, "none");
if (se.banner_user_hidden) {
z(e, "user hidden");
u(ie.BUTTON);
} else {
z(e, "!user hidden");
u(ie.BANNER);
}
break;

case ie.BUTTON:
z(e, "button");
if (se.banner_user_hidden) z(e, "user hidden"); else {
z(e, "!user hidden");
u(ie.BANNER);
}
break;

case ie.BANNER:
z(e, "banner");
}
} else {
z(e, "!show banner");
if (zt === ie.BUTTON) z(e, "button"); else {
z(e, zt);
u(ie.BUTTON);
}
}
} else if (se.account_status == re.OFFLINE) {
z(e, re.OFFLINE);
if (ae.api_display) z(e, "api_display"); else if (se.popout) {
z(e, "popout");
u(ie.WINDOW);
} else if (zt == ie.NONE) z(e, "none"); else if (se.hide_when_offline) {
z(e, "hide when offline");
u(ie.UNDEFINED);
} else {
z(e, "!hide when offline");
if (zt == ie.WINDOW) z(e, "window"); else {
z(e, "!window");
u(ie.BUTTON);
}
}
d([ ne.PRE_CHAT_OFFLINE_FORM ]);
}
}
} else {
z(e, "mobile");
if (ae.api_display) z(e, "api_display"); else {
z(e, "!api_display");
if (zt == ie.NONE) z(e, "none"); else {
z(e, "!none");
if (se.do_not_display || se.account_status == re.OFFLINE && se.hide_when_offline) {
z(e, "do_not_display || (account_status == offline && hide_when_offline)");
if (se.chatting) {
z(e, "chatting");
u(ie.BUTTON);
} else {
z(e, "!chatting");
u(ie.UNDEFINED);
}
} else {
z(e, "!(do_not_display || (account_status == offline && hide_when_offline))");
u(ie.BUTTON);
}
}
}
} else z(e, "do not display, !popout, !api_display");
H("UIController update: " + (e.join(" > ") || "no path"));
ot = !1;
} else H("UIController update: abort - binding not complete");
}
function l() {
if (nt) if (lt) H("UIController Bubble update: abort - bubble settings updating"); else if (st) H("UIController Bubble update: abort - api updating"); else if (at) H("UIController Bubble update: abort - user updating"); else if (rt) H("UIController Bubble update: abort - updating loop"); else {
rt = !0;
var t = [];
if (se.mobile || se.popout) {
z(t, "mobile || popout");
c(!1);
} else {
z(t, "!mobile && !popout");
if (se.use_bubble) {
z(t, "use_bubble");
if (ae.api_bubble) z(t, "bubble_api"); else {
z(t, "!bubble_api");
if (se.bubble_enabled) {
z(t, "bubble_enabled");
if (se.account_status == re.ONLINE || se.account_status == re.AWAY) {
z(t, "online || away");
if (se.bubble_user_hidden) {
z(t, "user_hidden_bubble");
c(!1);
} else {
z(t, "!user_hidden_bubble");
if (Yt(se.bubble_display)) {
z(t, "undefined");
c(!0);
} else z(t, "!undefined");
}
} else {
z(t, re.OFFLINE);
c(void 0);
}
} else {
z(t, "!bubble_enabled");
c(!1);
}
}
} else {
z(t, "!use_bubble");
c(void 0);
}
}
H("UIController Bubble update: " + (t.join(" > ") || "no path"));
rt = !1;
} else H("UIController Bubble update: abort - binding not complete");
}
function u(t) {
H("UIController setDisplay: " + t);
ct = Rt.getValue();
_t = !0;
var e = Ht.getValue();
if (e !== t) {
Vt.update(e);
Ht.update(t);
}
switch (t) {
case ie.UNDEFINED:
Wt.update(void 0);
Rt.update(void 0);
Mt.update(void 0);
break;

case ie.NONE:
Wt.update(!1);
Rt.update(!1);
Mt.update(!1);
break;

case ie.BUTTON:
Wt.update(!0);
Rt.update(!1);
Mt.update(!1);
break;

case ie.BANNER:
if (Ft.getValue() != ne.NEW_CHAT_FORM) {
ht = Ft.getValue();
Ft.update(ne.NEW_CHAT_FORM);
}
Wt.update(!1);
Rt.update(!0);
Mt.update(!1);
break;

case ie.NOTIFICATION:
Wt.update(!1);
Rt.update(!1);
Mt.update(!0);
break;

case ie.WINDOW:
if (Ft.getValue() == ne.NEW_CHAT_FORM) {
d(ht ? [ ht ] : [ ne.PRE_CHAT_OFFLINE_FORM, ne.CHAT_PANEL, ne.POST_CHAT_FORM, ne.COOKIE_FORM, ne.CARD_FORM, ne.AGENT_LIST, ne.RATING_PANEL ]);
ht = null;
}
Wt.update(!1);
Mt.update(!1);
Rt.update(!0);
}
st || (ct && t != ie.WINDOW ? _e.fire("API:window:hide") : ct || t != ie.WINDOW || _e.fire("API:window:show"));
_t = !1;
}
function d(t) {
if (t && t.length) {
Xt(qt, t) == -1 && Ft.update(t[0]);
}
}
function c(t) {
H("UIController setBubble: " + t);
lt = !0;
jt.update(t);
lt = !1;
}
function h() {
if (!se.mobile) {
at = !0;
var t = Ft.getValue();
u(se.banner_enabled && t == ne.NEW_CHAT_FORM && se.use_banner ? ie.BANNER : ie.WINDOW);
ae.api_display = !1;
ae.api_stack = !1;
at = !1;
_();
}
}
function f() {
if ((!se.mobile || se.mobile_overlay) && zt != ie.WINDOW) {
at = !0;
St.update(!1);
ut = !0;
u(ie.WINDOW);
ae.api_display = !1;
ae.api_stack = !1;
at = !1;
_();
}
}
function p() {
if ((!se.mobile || se.mobile_overlay) && zt != ie.BUTTON) {
at = !0;
_e.setWindowUserHidden();
u(se.do_not_display ? ie.NONE : ie.BUTTON);
ae.api_display = !1;
ae.api_stack = !1;
at = !1;
_();
}
}
function g() {
if (!se.mobile && zt != ie.BUTTON) {
at = !0;
_e.setBannerUserHidden();
u(se.do_not_display ? ie.NONE : ie.BUTTON);
ae.api_display = !1;
ae.api_stack = !1;
at = !1;
_();
}
}
function m() {
if (!se.mobile) {
at = !0;
_e.setBubbleUserHidden();
c(!1);
ae.api_bubble = !1;
at = !1;
l();
}
}
function $() {
dt = !1;
f();
}
function b() {
H("API update: showWindow");
if (se.mobile && !se.mobile_overlay) Qt.openPopout(!0); else {
st = !0;
dt && (dt = !1);
u(ie.WINDOW);
ae.api_display = ie.WINDOW;
st = !1;
_();
}
}
function w() {
if (!se.mobile || se.mobile_overlay) {
H("API update: hideWindow");
st = !0;
if (se.do_not_display) {
u(ie.NONE);
ae.api_display = ie.NONE;
} else {
u(ie.BUTTON);
ae.api_display = ie.BUTTON;
}
st = !1;
_();
}
}
function x() {
if (!se.mobile || se.mobile_overlay) {
H("API update: toggleWindow");
zt == ie.WINDOW ? _e.hideWindow() : _e.showWindow();
}
}
function v() {
if (!se.mobile && se.use_banner) {
H("API update: showBanner");
st = !0;
u(ie.BANNER);
ae.api_display = ie.BANNER;
ae.api_stack = ie.BANNER;
st = !1;
_();
}
}
function y() {
if (!se.mobile) {
H("API update: hideBanner");
st = !0;
if (se.do_not_display) {
u(ie.NONE);
ae.api_display = ie.NONE;
} else {
u(ie.BUTTON);
ae.api_display = ie.BUTTON;
}
ae.api_stack = !1;
st = !1;
_();
}
}
function j() {
H("API update: showButton");
st = !0;
u(ie.BUTTON);
ae.api_display = ie.BUTTON;
st = !1;
_();
}
function C() {
H("API update: hideButton");
st = !0;
if (se.mobile) {
dt && (dt = !1);
ae.api_display = ie.NONE;
u(ie.NONE);
} else {
ae.api_display = ie.WINDOW;
u(ie.WINDOW);
}
st = !1;
_();
}
function S() {
H("API update: hideAll");
st = !0;
u(ie.NONE);
ae.api_display = ie.NONE;
dt && (dt = !1);
st = !1;
_();
}
function A() {
if (!se.mobile) {
H("API update: showBubble");
st = !0;
c(!0);
ae.api_bubble = !0;
st = !1;
l();
}
}
function k() {
if (!se.mobile) {
H("API update: hideBubble");
st = !0;
c(!1);
ae.api_bubble = !0;
st = !1;
l();
}
}
function I() {
if (!se.mobile) {
H("API update: resetBubble");
st = !0;
_e.resetBubbleUserHidden();
c(!0);
ae.api_bubble = !0;
st = !1;
l();
}
}
function N() {
if ((zt === ie.BUTTON || ae.mobile_notifications_ignore_chat_button_visibility && zt !== ie.WINDOW) && !ae.disable_mobile_notifications) {
dt = !0;
_();
}
}
function B() {
dt = !1;
_();
}
function T(t) {
Yt(t) && (t = !0);
ae.disable_mobile_notifications = t;
}
function D(t) {
Yt(t) && (t = !0);
ae.mobile_notifications_ignore_chat_button_visibility = t;
}
function E() {
St.update(!0);
}
function O() {
At.update(!0);
}
function P() {
kt.update(!0);
}
function L() {
kt.update(!1);
}
function W(t) {
Ct.update(t);
}
function R(t) {
Tt.update(t);
}
function F() {
if (!Lt.getValue()) {
_e.showMenu("profile_menu");
Dt.update(Et.getValue() ? Ot.getValue() ? 1 : 2 : se.mobile ? 2 : Pt.getValue() ? 0 : 2);
}
}
function M() {
return ae;
}
function V(t, e, i) {
t && Kt(t.bindValue) && t.bindValue(function(t) {
if (se[e] != t) {
se[e] = t;
Kt(i) && i();
}
});
}
function H(t) {}
function z(t, e) {}
function q() {
ut = void 0;
dt = void 0;
ae = {
api_display: !1,
api_stack: !1,
api_bubble: !1
};
}
var U, G, Y, X, K, Z, Q, J, tt, et, it, nt, ot, rt, st, at, _t, lt, ut, dt, ct, ht, ft, pt, gt, mt, $t, bt, wt, xt, vt, yt, jt, Ct, St, At, kt, It, Nt, Bt, Tt, Dt, Et, Ot, Pt, Lt, Wt, Rt, Ft, Mt, Vt, Ht, zt, qt, Ut = i(6), Gt = i(20), Yt = i(11), Xt = i(8), Kt = i(10), Zt = i(41), Qt = i(110), Jt = i(63), te = i(114), ee = i(115), ie = {
UNDEFINED: "undefined",
NONE: "none",
BUTTON: "button",
BANNER: "banner",
WINDOW: "window",
NOTIFICATION: "notification"
}, ne = {
NEW_CHAT_FORM: "new_chat_form",
PRE_CHAT_OFFLINE_FORM: "pre_chat_offline_form",
CHAT_PANEL: "chat_panel",
POST_CHAT_FORM: "post_chat_form",
COOKIE_FORM: "cookie_form",
CARD_FORM: "card_form",
AGENT_LIST: "agent_list",
ABOUT_PANEL: "about_panel",
RATING_PANEL: "rating_panel"
}, oe = {
COOKIE_LAW: "cookie_law",
REATTACHED: "reattached",
REGISTERED: "registered",
FAST_INIT: "fast_init"
}, re = {
ONLINE: "online",
AWAY: "away",
OFFLINE: "offline",
BANNED: "banned"
}, se = {}, ae = {
api_display: !1,
api_stack: !1,
api_bubble: !1
}, _e = Ut.extend({
init: n
}), le = B;
t.exports = _e;
e(_e, "meshim_widget_controllers_UIController");
return _e;
}();
}).call(e, i(3));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n() {
if (!s) {
s = !0;
o && o.onLanguage && (r.prototype.setTitle = function(t) {
function e() {
n.setTitle(n._l10nTitleValue);
}
function i() {
o.unLanguage(e);
}
var n = this;
if (o && o.onLanguage && !this._l10nTitleBound) {
this._l10nTitleBound = !0;
o.onLanguage(e);
this.onDestruction(i);
}
this._l10nTitleValue = t;
this.dom.title = this._l10nTitleValue || "";
return this;
});
}
}
var o = i(23), r = i(19), s = !1;
t.exports = n;
e(n, "meshim_widget_utils_HackTitleLocalization");
return n;
}();
}).call(e, i(3));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n() {
function t(n) {
if (this.jx_wrapper) return t.call(this.jx_wrapper, n);
n.stopPropagation();
this.dom.addEventListener("touchend", i, !1);
this.doc.body.addEventListener("touchmove", e, !1);
this.startX = n.touches[0].clientX;
this.startY = n.touches[0].clientY;
}
function e(t) {
if (this.jx_wrapper) return e.call(this.jx_wrapper, t);
(Math.abs(t.touches[0].clientX - this.startX) > 10 || Math.abs(t.touches[0].clientY - this.startY) > 10) && n.call(this);
}
function i(t) {
if (this.jx_wrapper) return i.call(this.jx_wrapper, t);
t.stopPropagation();
n.call(this);
this.nativeHandlers.click(t);
"touchend" != t.type || this.allowGhostClick || s(this.startX, this.startY);
}
function n() {
if (this.jx_wrapper) return n.call(this.jx_wrapper);
this.dom.removeEventListener("touchend", i, !1);
this.doc.body.removeEventListener("touchmove", e, !1);
}
function s(t, e) {
d.push(t, e);
window.setTimeout(a, 2500);
}
function a() {
d.splice(0, 2);
}
function _(t) {
for (var e = 0; e < d.length; e += 2) {
var i = d[e], n = d[e + 1];
if (Math.abs(t.clientX - i) < 25 && Math.abs(t.clientY - n) < 25) {
t.stopPropagation();
t.preventDefault();
}
}
}
if (!o) {
o = !0;
var l = r.prototype.on, u = r.prototype.un;
r.prototype.on = function(e) {
if (!("click" != e || this.allCallbacks.click && this.allCallbacks.click.length)) {
this.dom.addEventListener("touchstart", t, !1);
this.dom.addEventListener("click", i, !1);
}
return l.apply(this, arguments);
};
r.prototype.un = function(e) {
var n = u.apply(this, arguments);
if (!("click" != e || this.allCallbacks.click && this.allCallbacks.click.length)) {
this.dom.removeEventListener("touchstart", t, !1);
this.dom.removeEventListener("click", i, !1);
}
return n;
};
o = !0;
var d = [];
window.document.addEventListener("click", _, !0);
}
}
var o, r = i(19);
t.exports = n;
e(n, "meshim_widget_utils_HackFastButtons");
return n;
}();
}).call(e, i(3));
}, function(t, e, i) {
(function(e, n, o, r, s) {
e.__$$__jx_ui_Widget = i(18);
e.__$$__meshim_widget_widgets_BorderOverlay = i(103);
e.__$$__meshim_widget_widgets_Branding = i(93);
t.exports = function() {
function t(r, s, _, l, u) {
if (!(this instanceof t)) return new t(r, s, _, l, u);
s = s || n.generateID();
var d = [ e.__$$__jx_ui_Widget, "", "", [ [ e.__$$__meshim_widget_widgets_BorderOverlay, "", "", [], {} ], [ e.__$$__jx_ui_Widget, "$$defaultplacement$$", "", [], {
addClass: "actions",
container: "default",
id: "$$defaultplacement$$"
} ], [ e.__$$__meshim_widget_widgets_Branding, "", "", [], {
addClass: "branding",
hideOnMobile: "true"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:widgets": "meshim.widget.widgets",
class: "action_bar",
selectable: "false"
} ], c = d[0].call(this, r, s, null, n.mangleIDs(s, d[3]), d[4]), h = c || this;
n.set(s, h);
var f = n.get(s + "__$$defaultplacement$$");
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
h.defaultPlacement = f;
var p = function() {
function t() {
e.mobile(h);
e.rtl(h);
}
var e = i(97);
t();
}();
for (var g in p) p.hasOwnProperty(g) && (h[g] = p[g]);
h.fire && h.fire("init");
h.setStyle && h.setStyle(_);
h.setAttributes && h.setAttributes(u);
"function" == typeof h.addChildren ? h.addChildren(l) : n.addChildren(h, l);
if (h !== this) {
h.__jx__constructor = a;
h.__jx__native = !1;
}
return h;
}
var a;
t.prototype = r(e.__$$__jx_ui_Widget.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_Widget;
t.__jx__jcss = {
"**self": {
position: "absolute",
"bottom, left": 0,
overflow: "hidden",
zIndex: 10,
width: "$$actionBarWidth",
height: "$$actionBarHeight",
color: "$$actionBarColor",
background: "$$actionBarBg",
"paddingLeft, paddingRight": "$$actionBarPadding"
},
".border_overlay": {
borderWidth: "$$actionBarBorderWidth",
borderStyle: "$$actionBarBorderStyle",
borderColor: "$$actionBarBorderColor"
},
".actions": {
float: "left"
},
".branding": {
position: "relative",
float: "right",
color: "$$actionBarColor",
lineHeight: "$$actionBarHeight",
".meshim_widget_widgets_IconFont": {
"*color": "$$actionBarColor",
"*lineHeight": "$$actionBarHeight",
"*textDecoration": "none"
},
"&:hover": {
color: "$$actionBarHoverColor"
}
},
"&.rtl": {
".actions": {
float: "right"
},
".branding": {
float: "left"
}
}
};
s(t, "meshim_widget_widgets_ActionBar");
a = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(4), i(21), i(31), i(15), i(3));
}, function(t, e, i) {
(function(e, n, o, r, s) {
e.__$$__jx_ui_Widget = i(18);
e.__$$__jx_ui_Label = i(104);
t.exports = function() {
function t(r, s, _, l, u) {
if (!(this instanceof t)) return new t(r, s, _, l, u);
s = s || n.generateID();
var d = [ e.__$$__jx_ui_Widget, "", "", [ [ e.__$$__jx_ui_Label, "", "", [], {
text: "â‰¡"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui"
} ], c = d[0].call(this, r, s, null, n.mangleIDs(s, d[3]), d[4]), h = c || this;
n.set(s, h);
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var f = function() {
function t() {
h.autobind(r, "value", e);
h.on("click", n);
}
function e(t) {
t ? h.addClass("isActive") : h.removeClass("isActive");
}
function n(t) {
t.stopPropagation();
r.update("settings_menu" === r.getValue() ? "" : "settings_menu");
}
var o = i(41), r = o.root.$("livechat").$("ui").$("chat_window").$("menu_stack_name$string");
t();
}();
for (var p in f) f.hasOwnProperty(p) && (h[p] = f[p]);
h.fire && h.fire("init");
h.setStyle && h.setStyle(_);
h.setAttributes && h.setAttributes(u);
"function" == typeof h.addChildren ? h.addChildren(l) : n.addChildren(h, l);
if (h !== this) {
h.__jx__constructor = a;
h.__jx__native = !1;
}
return h;
}
var a;
t.prototype = r(e.__$$__jx_ui_Widget.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_Widget;
t.__jx__jcss = {
"**self": {
"width, height": "$$titleBarHeight",
lineHeight: "$$titleBarHeight",
textAlign: "center",
color: "$$actionBarColor",
fontSize: "30px",
"&.isActive": {
backgroundColor: "$$actionBarBg"
}
}
};
s(t, "meshim_widget_widgets_MobileOptionsMenuIcon");
a = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(4), i(21), i(31), i(15), i(3));
}, function(t, e, i) {
(function(e, n, o, r, s, a) {
e.__$$__meshim_widget_widgets_ActionBar = i(116);
e.__$$__jx_ui_html_span = i(119);
e.__$$__jx_ui_Button = i(120);
e.__$$__meshim_widget_widgets_CookieLawNotice = i(123);
t.exports = function() {
function t(s, a, l, u, d) {
if (!(this instanceof t)) return new t(s, a, l, u, d);
a = a || n.generateID();
var c = o(203), h = o(204), f = [ e.__$$__meshim_widget_widgets_ActionBar, "", "", [ [ e.__$$__jx_ui_html_span, "default_actions", "", [ [ e.__$$__jx_ui_Button, "settings", "backgroundColor:transparent;", [ c ], {
id: "settings",
addClass: "settings",
tabIndex: "",
type: "button",
style: "backgroundColor:transparent;"
} ], [ e.__$$__jx_ui_html_span, "divider", "", [], {
id: "divider",
class: "divider",
text: "â€¢"
} ], [ e.__$$__jx_ui_Button, "profile", "backgroundColor:transparent;", [ [ e.__$$__jx_ui_html_span, "logged_out", "", [ h ], {
id: "logged_out"
} ], [ e.__$$__jx_ui_html_span, "name", "", [], {
id: "name",
class: "logged_in_name"
} ] ], {
id: "profile",
addClass: "profile",
tabIndex: "",
type: "button",
style: "backgroundColor:transparent;"
} ] ], {
id: "default_actions",
display: "none"
} ], [ e.__$$__meshim_widget_widgets_CookieLawNotice, "cookie_law", "", [], {
id: "cookie_law",
addClass: "cookie_law"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:mui": "meshim.ui",
"xmlns:widgets": "meshim.widget.widgets"
} ], p = f[0].call(this, s, a, null, n.mangleIDs(a, f[3]), f[4]), g = p || this;
n.set(a, g);
var m = n.get(a + "__default_actions"), $ = n.get(a + "__settings"), b = n.get(a + "__divider"), w = n.get(a + "__profile"), x = n.get(a + "__logged_out"), v = n.get(a + "__name"), y = n.get(a + "__cookie_law");
if (!t.__jx__jcss_generated) {
r.generate(s, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var j = function() {
function t() {
function t() {
if (a) {
_ && !j.isDefaultName(_) ? v.setText(c.replace("<name>", _)) : v.setText(h);
x.setDisplay("none");
v.setDisplay("");
} else {
x.setDisplay("");
v.setDisplay("none");
}
}
g.autobind(P, "value", function(t) {
d = t;
b.setDisplay(t ? "none" : "");
w.setDisplay(t ? "none" : "");
});
g.autobind(D, "value", function(t) {
l = t;
for (var e in S) S.hasOwnProperty(e) && S[e][(e == t ? "add" : "remove") + "Class"]("active");
});
g.autobind(k, "value", function(e) {
a = e;
t();
});
g.autobind(I, "value", function(e) {
_ = e || "";
t();
});
o && o.onLanguage && o.onLanguage(t);
$.on("click", function(t) {
t.stopPropagation();
C.isIEMobile ? D.update("settings_menu") : D.update("settings_menu" == l ? "" : "settings_menu");
O.getValue() && f.resetUnreadCount();
});
w.on("click", function(t) {
t.stopPropagation();
d || D.update("profile_menu" == l ? "" : "profile_menu");
});
g.autobind(E, "value", function(t) {
u && g.removeClass("action_bar_" + u);
u = t;
u && g.addClass("action_bar_" + u);
});
g.autobind(B, "value", e);
g.autobind(T, "value", e);
g.autobind(L, "value", s);
}
function e() {
B.getValue() ? T.getValue() ? r() : n() : r();
}
function n() {
if ("hidden" == N) {
y.setDisplay("");
m.setDisplay("none");
N = "visible";
}
}
function r() {
if ("visible" == N) {
y.setDisplay("none");
m.setDisplay("");
N = "hidden";
}
}
function s(t) {
var e = !!t;
w.setDisabled(e);
e && "profile_menu" == l && D.update("");
}
var a, _, l, u, d, c = o(205), h = o(206), f = i(87), p = i(41), j = i(51), C = i(56), S = {
settings_menu: $,
profile_menu: w
}, A = p.root.$("livechat"), k = A.$("profile").$("logged_in$bool"), I = A.$("profile").$("display_name$string"), N = "visible", B = A.$("settings").$("cookie_law").$("enabled$bool"), T = A.$("profile").$("allow_cookies$bool"), D = p.root.$("livechat").$("ui").$("chat_window").$("menu_stack_name$string"), E = A.$("settings").$("theme").$("chat_window").$("size$string"), O = A.$$("ui.popout$bool"), P = A.$("settings").$("login").$("restrict_profile$bool"), L = p.root.$("connection").$("message$string");
t();
}();
for (var C in j) j.hasOwnProperty(C) && (g[C] = j[C]);
g.fire && g.fire("init");
g.setStyle && g.setStyle(l);
g.setAttributes && g.setAttributes(d);
"function" == typeof g.addChildren ? g.addChildren(u) : n.addChildren(g, u);
if (g !== this) {
g.__jx__constructor = _;
g.__jx__native = !1;
}
return g;
}
var _;
t.prototype = s(e.__$$__meshim_widget_widgets_ActionBar.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__meshim_widget_widgets_ActionBar;
t.__jx__jcss = {
button: {
position: "relative",
verticalAlign: "top",
textAlign: "left",
"background, backgroundColor": "transparent",
border: "none",
lineHeight: "$$actionBarHeight"
},
"button, button *": {
cursor: "pointer",
"&.disabled": {
cursor: "default",
color: "$$actionBarColorDiabled"
}
},
".logged_in_name": {
display: "inline-block",
whiteSpace: "nowrap",
overflow: "hidden",
textOverflow: "ellipsis",
"*height": "1em",
"*verticalAlign": "top"
},
".divider": {
display: "inline-block",
fontSize: "0.8em",
lineHeight: "$$actionBarHeight",
margin: "0 5px",
cursor: "default",
opacity: .5
},
"button, .divider": {
color: "$$actionBarColor"
},
"button:hover": {
color: "$$actionBarHoverColor"
},
".cookie_law": {
position: "relative"
},
"&.action_bar_small  .logged_in_name": {
"maxWidth, *width": "120px"
},
"&.action_bar_medium .logged_in_name": {
"maxWidth, *width": "160px"
},
"&.action_bar_large  .logged_in_name": {
"maxWidth, *width": "180px"
}
};
a(t, "meshim_widget_widgets_actionBar_DefaultActionBar");
_ = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(4), i(21), i(23), i(31), i(15), i(3));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t, e, i, o, s) {
if (!(this instanceof n)) return new n(t, e, i, o, s);
s || (s = {});
s.tagName = "span";
r.call(this, t, e, i, o, s);
}
var o = i(15), r = i(19);
n.prototype = o(r.prototype);
t.exports = n;
e(n, "jx_ui_html_span");
return n;
}();
}).call(e, i(3));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t, e, i, o, s) {
if (!(this instanceof n)) return new n(t, e, i, o, s);
s || (s = {});
s.tagName || (s.tagName = "button");
r.call(this, t, e, i, o, s);
}
var o = i(15), r = i(121);
n.prototype = o(r.prototype);
t.exports = n;
e(n, "jx_ui_Button");
return n;
}();
}).call(e, i(3));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t, e, i, r, s) {
if (!(this instanceof n)) return new n(t, e, i, r, s);
s || (s = {});
s.tagName || (s.tagName = "input");
l.call(this, t, e, i, r, s);
if (o.engineIE <= 8 && s.type && s.tagName && "input" == s.tagName.toLowerCase()) {
var a = this.parentNode;
this.parentNode.removeChild(this.parentNode instanceof d ? this : this.dom);
this.dom = t.doc.createElement("<" + s.tagName + ' type="' + s.type + '" name="' + (s.name || "") + '"/>');
this.dom.jx_wrapper = this;
this.style = this.dom.style;
a.appendChild(a instanceof d ? this : this.dom);
this.setStyle(i);
this.setAttributes(s);
this.addClass(this.__jx__fqname);
}
s.initialValue && this.setValue(s.initialValue);
this.setAttribute("id", this.jx_id);
s.label && this.setLabel(s.label);
s.errorMessage && this.setErrorMessage(s.errorMessage);
this.on("blur", function() {
this.onAutoValidate();
});
}
var o = i(7), r = i(15), s = i(17), a = i(8), _ = i(104), l = i(18), u = i(122), d = i(19), c = /^[a-z0-9!#$%&'*+\/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+\/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+([a-z0-9][a-z0-9-]*[a-z0-9])$/i, h = /^(?:(?:https?|ftp):\/\/)(?:\S+(?::\S*)?@)?(?:(?!10(?:\.\d{1,3}){3})(?!127(?:\.\d{1,3}){3})(?!169\.254(?:\.\d{1,3}){2})(?!192\.168(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]+-?)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]+-?)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/i, f = {
required: 1,
pattern: 2,
maxlength: 4,
min: 8,
max: 16,
step: 32
}, p = {
button: 1,
checkbox: 1,
email: 7,
hidden: 0,
number: 57,
password: 3,
radio: 1,
range: 25,
reset: 0,
search: 7,
select: 1,
submit: 0,
tel: 7,
text: 63,
textarea: 1,
url: 7
};
n.prototype = r(l.prototype);
n.prototype.getLabel = function() {
return this.label && this.label.getText();
};
n.prototype.setLabel = function(t) {
t && this.createLabel(t);
this.label && this.label.setText(t);
return this;
};
n.prototype.createLabel = function(t) {
if (this.label instanceof d) return this;
if (!this.dom.parentNode) return this;
this.label = new _(this.parentNode, null, null, null, {
tagName: "label"
});
this.getNextSibling() != this.label && this.parentNode.insertBefore(this.label, this.getNextSibling());
this.label.setAttribute("for", this.jx_id || "");
this.label.addClass("label");
this.label.addClass(this.attributes.type || this.getInputType() || "");
this.label.setText(t || this.attributes.label || "");
this.defaultLabel = !0;
return this;
};
n.prototype.getLabelElement = function() {
return this.label;
};
n.prototype.setLabelElement = function(t) {
if (!(t instanceof d)) return this;
this.defaultLabel && this.label.destroy();
this.label = t;
this.label.setAttribute("for", this.jx_id || "");
this.defaultLabel = !1;
return this;
};
n.prototype.getErrorMessage = function() {
return this.errorMessage && this.errorMessage.getText();
};
n.prototype.setErrorMessage = function(t) {
t && this.createErrorMessage(t);
this.errorMessage && this.errorMessage.setText(t);
return this;
};
n.prototype.showErrorMessage = function() {
this.errorMessage && this.errorMessage.setVisible(!0).setDisplay("");
return this;
};
n.prototype.hideErrorMessage = function() {
this.errorMessage && this.errorMessage.setVisible(!1);
return this;
};
n.prototype.createErrorMessage = function(t) {
if (this.errorMessage instanceof d) return this;
if (!this.dom.parentNode) return this;
this.errorMessage = new _(this.parentNode, null, null, null, {
tagName: "label"
});
(this.label ? this.label.getNextSibling() : this.getNextSibling()) != this.errorMessage && this.parentNode.insertBefore(this.errorMessage, this.label ? this.label.getNextSibling() : this.getNextSibling());
this.errorMessage.setAttribute("for", this.jx_id || "");
this.errorMessage.addClass("error_message");
this.errorMessage.addClass(this.attributes.type || this.getInputType() || "");
this.setErrorMessage(t || this.attributes.errorMessage || "");
this.hideErrorMessage();
this.defaultErrorMessage = !0;
return this;
};
n.prototype.getErrorMessageElement = function() {
return this.errorMessage;
};
n.prototype.setErrorMessageElement = function(t) {
if (!(t instanceof d)) return this;
this.defaultErrorMessage && this.errorMessage.destroy();
this.errorMessage = t;
this.errorMessage.setAttribute("for", this.jx_id || "");
this.defaultErrorMessage = !1;
return this;
};
n.prototype.validate = function(t) {
var e = this.getInputType(), i = this.getValue(), n = p[e], o = this.dom, r = (!(n & f.required) || !o.required || "" !== (i || "").trim() && null != i) && (!(n & f.pattern) || !o.pattern || new RegExp(o.pattern).test(i)) && (!(n & f.maxlength) || !(o.maxLength && o.maxLength >= 0) || i.length <= o.maxLength) && (!(n & f.min) || !o.min || parseFloat(i) >= parseFloat(o.min)) && (!(n & f.max) || !o.max || parseFloat(i) <= parseFloat(o.max)) && ("email" != e || (o.required ? c.test(i) : "" === i || c.test(i))) && ("url" != e || (o.required ? h.test(i) : "" === i || h.test(i)));
!r && t && this.focus();
this.setValidity(r);
return r;
};
n.prototype.getValidity = function() {
return this.validity;
};
n.prototype.setValidity = function(t) {
this.validity = s(t);
this.validity ? (this.hideErrorMessage(), this.addClass("valid"), this.removeClass("invalid")) : (this.showErrorMessage(), 
this.removeClass("valid"), this.addClass("invalid"));
return this;
};
n.prototype.getAutoValidate = function() {
return this.autoValidate;
};
n.prototype.setAutoValidate = function(t) {
this.autoValidate = s(t);
return this;
};
n.prototype.onAutoValidate = function() {
if (this.autoValidate && !this.getDisabled() && !this.getReadOnly()) return this.validate();
};
n.prototype.reset = function() {
var t = this.getType();
if ("submit" == t || "reset" == t) return this;
this.setValue(this.getInitialValue() || "").setValidity(!0);
return this;
};
var g = "textarea button select".split(" ");
n.prototype.getInputType = function() {
return a(this.tagName, g) != -1 ? this.tagName : this.getType();
};
n.prototype.getType = function() {
return this.validationType || l.prototype.getType.call(this);
};
n.prototype.setType = function(t) {
this.validationType = t;
l.prototype.setType.call(this, t);
};
n.prototype.getInitialValue = function() {
return o.engineIE <= 8 ? this._initialValue : this.dom.getAttribute("value");
};
n.prototype.setInitialValue = function(t) {
o.engineIE <= 8 ? this._initialValue = t && (t.toString ? t.toString() : t) : this.setAttribute("value", t);
return this;
};
n.prototype.getRequired = function() {
return this.dom.required;
};
n.prototype.setRequired = function(t) {
this.dom.required = s(t);
return this;
};
n.prototype.getPattern = function() {
return this.dom.pattern;
};
n.prototype.setPattern = function(t) {
this.dom.pattern = t;
return this;
};
n.prototype.getMin = function() {
return this.dom.min;
};
n.prototype.setMin = function(t) {
this.dom.min = t;
return this;
};
n.prototype.getMax = function() {
return this.dom.max;
};
n.prototype.setMax = function(t) {
this.dom.max = t;
return this;
};
n.prototype.getMaxLength = function() {
return this.dom.maxLength;
};
n.prototype.setMaxLength = function(t) {
this.dom.maxLength = parseInt(t, 10);
return this;
};
n.prototype.getStep = function() {
return this.dom.step;
};
n.prototype.setStep = function(t) {
this.dom.step = t;
return this;
};
n.prototype.getMultiple = function() {
return this.dom.multiple;
};
n.prototype.setMultiple = function(t) {
this.dom.multiple = s(t);
return this;
};
n.prototype.getAutocomplete = n.prototype.getAutoComplete = u.prototype.getAutocomplete;
n.prototype.setAutocomplete = n.prototype.setAutoComplete = u.prototype.setAutocomplete;
n.prototype.select = function() {
this.dom.select && this.dom.select();
return this;
};
n.prototype.getForm = function() {
return this.dom.form && (this.dom.form.jx_wrapper || this.dom.form);
};
t.exports = n;
e(n, "jx_ui_Input");
return n;
}();
}).call(e, i(3));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t, e, i, o, r) {
if (!(this instanceof n)) return new n(t, e, i, o, r);
r || (r = {});
r.tagName || (r.tagName = "form");
r.method || (r.method = "post");
s.call(this, t, e, i, o, r);
this.on("submit", function(t) {
this.validate() || t.preventDefault();
});
this.on("reset", function(t) {
t.preventDefault();
this.reset();
});
}
var o = i(15), r = i(17), s = i(18);
n.prototype = o(s.prototype);
n.prototype.submit = function() {
this.dom.submit();
return this;
};
n.prototype.reset = function() {
for (var t = this.getElements(), e = 0; e < t.length; e++) t[e].reset && t[e].reset();
return this;
};
n.prototype.getElements = function() {
for (var t = [], e = 0, i = this.dom.elements.length; e < i; e++) t.push(this.dom.elements[e].jx_wrapper || this.dom.elements[e]);
return t;
};
n.prototype.getAutocomplete = n.prototype.getAutoComplete = function() {
return this.dom.autocomplete;
};
n.prototype.setAutocomplete = n.prototype.setAutoComplete = function(t) {
if (void 0 === this.dom.autocomplete) return this;
if ("on" === t || "off" === t) {
this.dom.autocomplete = t;
return this;
}
t = r(t);
this.dom.autocomplete = t ? "on" : "off";
return this;
};
n.prototype.getNoValidate = function() {
return this.dom.noValidate;
};
n.prototype.setNoValidate = function(t) {
this.dom.noValidate = r(t);
return this;
};
n.prototype.getMethod = function() {
return this.dom.method;
};
n.prototype.setMethod = function(t) {
this.dom.method = t;
return this;
};
t.exports = n;
e(n, "jx_ui_Form");
return n;
}();
}).call(e, i(3));
}, function(t, e, i) {
(function(e, n, o, r, s, a) {
e.__$$__jx_ui_html_div = i(124);
e.__$$__jx_ui_Localizer = i(125);
e.__$$__jx_ui_html_a = i(96);
t.exports = function() {
function t(s, a, l, u, d) {
if (!(this instanceof t)) return new t(s, a, l, u, d);
a = a || n.generateID();
var c = o(196), h = [ e.__$$__jx_ui_html_div, "", "", [ [ e.__$$__jx_ui_Localizer, "localizer", "", [ [ e.__$$__jx_ui_html_a, "", "", [], {
class: "cookie_link"
} ] ], {
id: "localizer",
content: c
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:mui": "meshim.ui",
"xmlns:widgets": "meshim.widget.widgets"
} ], f = h[0].call(this, s, a, null, n.mangleIDs(a, h[3]), h[4]), p = f || this;
n.set(a, p);
var g = n.get(a + "__localizer");
if (!t.__jx__jcss_generated) {
r.generate(s, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var m = function() {
function t() {
g.on("click", function(t) {
t.target.jx_wrapper.hasClass("cookie_link") && n.update({
main_stack_name$string: "cookie_form"
});
});
}
var e = i(41), n = e.root.$$("livechat.ui.chat_window");
t();
}();
for (var $ in m) m.hasOwnProperty($) && (p[$] = m[$]);
p.fire && p.fire("init");
p.setStyle && p.setStyle(l);
p.setAttributes && p.setAttributes(d);
"function" == typeof p.addChildren ? p.addChildren(u) : n.addChildren(p, u);
if (p !== this) {
p.__jx__constructor = _;
p.__jx__native = !1;
}
return p;
}
var _;
t.prototype = s(e.__$$__jx_ui_html_div.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_html_div;
t.__jx__jcss = {
".cookie_link": {
textDecoration: "underline",
cursor: "pointer"
}
};
a(t, "meshim_widget_widgets_CookieLawNotice");
_ = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(4), i(21), i(23), i(31), i(15), i(3));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t, e, i, o, s) {
if (!(this instanceof n)) return new n(t, e, i, o, s);
s || (s = {});
s.tagName = "div";
r.call(this, t, e, i, o, s);
}
var o = i(15), r = i(19);
n.prototype = o(r.prototype);
t.exports = n;
e(n, "jx_ui_html_div");
return n;
}();
}).call(e, i(3));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t, e, i, o, s) {
if (!(this instanceof n)) return new n(t, e, i, o, s);
s || (s = {});
this.childConstructors = [];
this.childAttributes = [];
this.delimiter = "@";
_.call(this, t, e, i, o, s);
var a = this;
this._updateContent = function() {
a.updateContent();
};
r && r.onLanguage && r.onLanguage(this._updateContent);
this.onDestruction(function() {
r && r.unLanguage && r.unLanguage(a._updateContent);
});
}
function o(t) {
return t.replace(/&#([0-9]{1,4});/g, function(t, e) {
return String.fromCharCode(e);
});
}
var r = i(23), s = i(15), a = i(22), _ = (i(8), i(18));
n.prototype = s(_.prototype);
n.prototype.appendChild = function(t) {
if (a(t)) {
this.childConstructors.push(t[0]);
this.childAttributes.push(t[4]);
this._localizer_appendchild_override || this.updateContent();
} else _.prototype.appendChild.call(this, t);
};
n.prototype.updateContent = function() {
this.setContent(this.getContent());
};
n.prototype.getContent = function() {
return this.content;
};
n.prototype.setContent = function(t) {
this.content = t;
this.empty();
if (t) {
t.toString && (t = t.toString());
for (var e, i = t, n = i.length, r = 0, s = this.delimiter, a = s.length, l = 0; r < n && r != -1; ) {
e = i.indexOf(s, r);
e == -1 && (e = n);
if (e > r) {
this._localizer_appendchild_override = !0;
_.prototype.appendChild.call(this, [ _, null, null, [ o(i.slice(r, e)) ], {
tagName: "label",
display: "inline"
} ]);
this._localizer_appendchild_override = !1;
r = e;
}
if (e == r && e != n) {
var u = i.indexOf(s, e + a);
u == -1 && (u = n);
this._localizer_appendchild_override = !0;
_.prototype.appendChild.call(this, [ this.childConstructors[l] || _, null, null, [ o(i.slice(r + a, u)) ], this.childAttributes[l] || {
tagName: "label",
display: "inline"
} ]);
this._localizer_appendchild_override = !1;
r = u + a;
l++;
}
}
return this;
}
};
n.prototype.setChildProperties = function(t, e, i) {
this.childConstructors[t] = e;
this.childAttributes[t] = i;
};
n.prototype.clearChildProperties = function() {
this.childConstructors.length = this.childAttributes.length = 0;
};
n.prototype.getDelimiter = function() {
return this.delimiter;
};
n.prototype.setDelimiter = function(t) {
this.delimiter = t;
this.updateContent();
return this;
};
t.exports = n;
e(n, "jx_ui_Localizer");
return n;
}();
}).call(e, i(3));
}, function(t, e, i) {
(function(e, n, o, r, s) {
e.__$$__jx_ui_Widget = i(18);
t.exports = function() {
function t(r, s, _, l, u) {
if (!(this instanceof t)) return new t(r, s, _, l, u);
s = s || n.generateID();
var d = [ e.__$$__jx_ui_Widget, "", "", [], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui"
} ], c = d[0].call(this, r, s, null, n.mangleIDs(s, d[3]), d[4]), h = c || this;
n.set(s, h);
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var f = function() {
function t() {
var t = o.getVariable(r);
h.setStyle("padding-top", r && t || "");
}
function e() {
var t = o.getVariable(s);
h.setStyle("padding-bottom", s && t || "");
}
function n() {
h.autobind(_, "value", function(i) {
if (i) {
t();
e();
}
});
h.updatePaddingTop = t;
h.updatePaddingBottom = e;
}
var r, s, a = i(41), _ = a.root.$("livechat").$("ui").$("theme_loaded$bool");
h.setAbsPaddingTop = function(e) {
r = e;
t();
};
h.setAbsPaddingBottom = function(t) {
s = t;
e();
};
n();
}();
for (var p in f) f.hasOwnProperty(p) && (h[p] = f[p]);
h.fire && h.fire("init");
h.setStyle && h.setStyle(_);
h.setAttributes && h.setAttributes(u);
"function" == typeof h.addChildren ? h.addChildren(l) : n.addChildren(h, l);
if (h !== this) {
h.__jx__constructor = a;
h.__jx__native = !1;
}
return h;
}
var a;
t.prototype = r(e.__$$__jx_ui_Widget.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_Widget;
t.__jx__jcss = {
"**self": {
position: "relative",
"*overflow": "visible",
width: "100%",
height: "100%"
}
};
s(t, "meshim_widget_widgets_AbsolutePaddingContainer");
a = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(4), i(21), i(31), i(15), i(3));
}, function(t, e, i) {
(function(e, n, o, r, s, a, _) {
e.__$$__jx_ui_Widget = i(18);
e.__$$__jx_ui_html_table = i(106);
e.__$$__jx_ui_html_tbody = i(107);
e.__$$__jx_ui_html_tr = i(108);
e.__$$__jx_ui_html_td = i(109);
e.__$$__jx_ui_html_img = i(128);
e.__$$__meshim_widget_widgets_IconFont = i(98);
t.exports = function() {
function t(a, _, u, d, c) {
if (!(this instanceof t)) return new t(a, _, u, d, c);
_ = _ || n.generateID();
var h = [ e.__$$__jx_ui_Widget, "", "", [ [ e.__$$__jx_ui_html_table, "", "", [ [ e.__$$__jx_ui_html_tbody, "", "", [ [ e.__$$__jx_ui_html_tr, "tr", "", [ [ e.__$$__jx_ui_html_td, "text_cell", "", [ [ e.__$$__jx_ui_Widget, "text", "", [], {
id: "text"
} ] ], {
id: "text_cell",
class: "text_cell"
} ], [ e.__$$__jx_ui_html_td, "image_cell", "", [ [ e.__$$__jx_ui_html_img, "image", "", [], {
id: "image",
addClass: "banner_image"
} ], [ e.__$$__meshim_widget_widgets_IconFont, "icon", "", [], {
id: "icon",
icon: "badge_default",
addClass: "banner_icon"
} ] ], {
id: "image_cell",
class: "image_cell"
} ] ], {
id: "tr"
} ] ], {} ] ], {
class: "banner_table"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:components": "meshim.widget.components",
"xmlns:widgets": "meshim.widget.widgets",
"xmlns:chatWindow": "meshim.widget.components.chatWindow",
"xmlns:newChatForm": "meshim.widget.components.chatWindow.newChatForm"
} ], f = h[0].call(this, a, _, null, n.mangleIDs(_, h[3]), h[4]), p = f || this;
n.set(_, p);
var g = n.get(_ + "__tr"), m = n.get(_ + "__text_cell"), $ = n.get(_ + "__text"), b = n.get(_ + "__image_cell"), w = n.get(_ + "__image"), x = n.get(_ + "__icon");
if (!t.__jx__jcss_generated) {
o.generate(a, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var v = function() {
function t() {
function t() {
if (_ && "new_chat_form" == l && r.bugs.noBoxSizing) {
w.setWidth("");
w.setHeight("");
s(i, p, !0);
}
}
function i() {
var t = parseInt(w.getWidth() || w.dom.width, 10), e = parseInt(w.getHeight() || w.dom.height, 10);
if (t && e) {
var i, n, o, r = t > e;
i = r ? t : e;
n = r ? e : t;
if (i > I) {
o = i / I;
i /= o;
n /= o;
w.setWidth(r ? i : n);
w.setHeight(r ? n : i);
}
p.dom.className = p.dom.className;
}
}
if (r.bugs.noBoxSizing) {
w.dom.onload = t;
p.autobind(A, "value", function(e) {
_ = e;
t();
});
p.autobind(k, "value", function(e) {
l = e;
t();
});
}
p.autobind(v, "value", function(t) {
n && p.removeClass(n);
n = t;
u.livechat.getLimit() || "image_only" != n || (n = "image_right");
n && p.addClass(n);
e();
});
p.autobind(y, "value", function() {
$.setText(c.get(y));
});
p.autobind(j, "value", function(t) {
o = t;
e();
});
S && d.supportsDataURI(function(t) {
t && p.autobind(C, "value", function(t) {
a = t;
e();
});
});
}
function e() {
var t = d.replaceFileHostname(a || o || ""), e = !!t;
r.isFF && !t && (t = "data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEAAAAALAAAAAABAAEAAAI=");
switch (n) {
case "image_right":
w.setSrc(t);
g.insertBefore(m, b);
break;

case "image_left":
w.setSrc(t);
g.insertBefore(b, m);
break;

case "image_only":
w.setSrc(t);
break;

default:
p.setStyle("background", "");
}
if (e) {
w.setDisplay("");
x.setDisplay("none");
} else {
w.setDisplay("none");
x.setDisplay("");
}
}
var n, o, a, _, l, u = i(41), d = i(51), c = i(99), h = u.root, f = h.$("livechat").$("settings").$("banner"), v = f.$("layout$string"), y = f.$("text$string"), j = f.$("image_path$string"), C = f.$("image_data$string"), S = h.$("livechat").$("ui").$("mockup$bool").getValue(), A = h.$("livechat").$("ui").$("chat_window").$("display$bool"), k = h.$("livechat").$("ui").$("chat_window").$("main_stack_name$string"), I = 100;
t();
}();
for (var y in v) v.hasOwnProperty(y) && (p[y] = v[y]);
p.fire && p.fire("init");
p.setStyle && p.setStyle(u);
p.setAttributes && p.setAttributes(c);
"function" == typeof p.addChildren ? p.addChildren(d) : n.addChildren(p, d);
if (p !== this) {
p.__jx__constructor = l;
p.__jx__native = !1;
}
return p;
}
var l;
t.prototype = a(e.__$$__jx_ui_Widget.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_Widget;
t.__jx__jcss = {
"**self": {
".banner_table": {
width: "100%",
height: "100%",
tableLayout: "fixed",
direction: "ltr",
color: "$$badgeContentColor"
},
".text_cell, .image_cell": {
verticalAlign: "middle"
},
".text_cell": {
wordWrap: "break-word",
whiteSpace: "pre-wrap"
},
".image_cell": {
width: "100px",
textAlign: "center"
},
".banner_image": {
verticalAlign: "top",
border: "none"
},
".banner_icon": {
display: "inline-block",
fontSize: "90px",
marginTop: "10px"
}
},
"&.image_right": {
".text_cell": {
paddingRight: "3px"
},
".image_cell": {},
".banner_image": {
maxWidth: "100px",
maxHeight: "100px"
}
},
"&.image_left": {
".text_cell": {
paddingLeft: "3px"
},
".image_cell": {},
".banner_image": {
maxWidth: "100px",
maxHeight: "100px"
}
},
"&.image_only": {
".text_cell": {
display: "none"
},
".image_cell": {},
".banner_image": {
maxWidth: "100%"
}
},
"&.text_only": {
".text_cell": {
fontSize: "26px",
textAlign: "center",
width: "100%"
},
".image_cell": {
display: "none"
}
}
};
_(t, "meshim_widget_components_chatWindow_newChatForm_Banner");
l = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(4), i(21), i(31), i(7), i(13), i(15), i(3));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t, e, i, o, s) {
if (!(this instanceof n)) return new n(t, e, i, o, s);
s || (s = {});
s.tagName = "img";
r.call(this, t, e, i, o, s);
}
var o = i(15), r = i(19);
n.prototype = o(r.prototype);
t.exports = n;
e(n, "jx_ui_html_img");
return n;
}();
}).call(e, i(3));
}, function(t, e, i) {
(function(e, n, o, r, s) {
e.__$$__jx_ui_Widget = i(18);
e.__$$__meshim_widget_widgets_IconFont = i(98);
t.exports = function() {
function t(r, s, _, l, u) {
if (!(this instanceof t)) return new t(r, s, _, l, u);
s = s || n.generateID();
var d = [ e.__$$__jx_ui_Widget, "", "", [ [ e.__$$__meshim_widget_widgets_IconFont, "", "", [], {
icon: "zendesk_chat_2016"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:widgets": "meshim.widget.widgets",
selectable: "false"
} ], c = d[0].call(this, r, s, null, n.mangleIDs(s, d[3]), d[4]), h = c || this;
n.set(s, h);
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var f = function() {
function t() {
h.autobind(o, "value", e);
}
function e() {
var t = o.getValue();
h.setVisibility(t ? "hidden" : "");
}
var n = i(41), o = n.root.$("livechat").$("settings").$("branding").$("hide_branding$bool");
t();
}();
for (var p in f) f.hasOwnProperty(p) && (h[p] = f[p]);
h.fire && h.fire("init");
h.setStyle && h.setStyle(_);
h.setAttributes && h.setAttributes(u);
"function" == typeof h.addChildren ? h.addChildren(l) : n.addChildren(h, l);
if (h !== this) {
h.__jx__constructor = a;
h.__jx__native = !1;
}
return h;
}
var a;
t.prototype = r(e.__$$__jx_ui_Widget.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_Widget;
t.__jx__jcss = {
"**self": {
display: "inline-block",
lineHeight: 1.3,
letterSpacing: "1px",
fontSize: "9px",
"&:focus": {
outline: "none"
}
}
};
s(t, "meshim_widget_components_chatWindow_newChatForm_Branding");
a = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(4), i(21), i(31), i(15), i(3));
}, function(t, e, i) {
(function(e, n, o, r, s) {
e.__$$__meshim_widget_widgets_TextField = i(131);
t.exports = function() {
function t(r, s, a, _, l) {
if (!(this instanceof t)) return new t(r, s, a, _, l);
s = s || n.generateID();
var u = [ e.__$$__meshim_widget_widgets_TextField, "", "", [], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:widgets": "meshim.widget.widgets",
addClass: "unstyled"
} ], d = u[0].call(this, r, s, null, n.mangleIDs(s, u[3]), u[4]), c = d || this;
n.set(s, c);
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var h = void 0;
for (var f in h) h.hasOwnProperty(f) && (c[f] = h[f]);
c.fire && c.fire("init");
c.setStyle && c.setStyle(a);
c.setAttributes && c.setAttributes(l);
"function" == typeof c.addChildren ? c.addChildren(_) : n.addChildren(c, _);
if (c !== this) {
c.__jx__constructor = i;
c.__jx__native = !1;
}
return c;
}
var i;
t.prototype = r(e.__$$__meshim_widget_widgets_TextField.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__meshim_widget_widgets_TextField;
t.__jx__jcss = {
"**self": {
color: "$$badgeInputColor",
padding: "$$badgeInputPadding",
borderWidth: "$$badgeInputBorderWidth",
borderStyle: "$$badgeInputBorderStyle",
borderColor: "$$badgeInputBorderColor",
borderRadius: "$$badgeInputRadius",
boxShadow: "$$badgeInputShadow"
},
"&:focus, &.focus": {
color: "$$badgeInputFocusColor",
background: "$$badgeInputFocusBg",
borderColor: "$$badgeInputFocusBorderColor",
boxShadow: "$$badgeInputFocusShadow"
},
"&::placeholder": {
color: "$$badgeInputPlaceholderColor"
}
};
s(t, "meshim_widget_components_chatWindow_newChatForm_TextField");
i = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(4), i(21), i(31), i(15), i(3));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
var n = i(31), o = i(15), r = i(132), s = r, a = i(133);
r = function(t, e, i, o, _) {
if (!(this instanceof r)) return new r(t, e, i, o, _);
if (!r.__jx__jcss_generated) {
n.generate(this, r.prototype.__jx__fqname, r.__jx__jcss, null, r);
r.__jx__jcss_generated = !0;
}
s.call(this, t, e, i, o, _);
a.__constructor.call(this);
};
r.__jx__jcss = {};
r.prototype = o(s.prototype);
r.prototype.__jx__super = a;
t.exports = r;
e(r, "meshim_widget_widgets_TextField");
return r;
}();
}).call(e, i(3));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t, e, i, r, s) {
if (!(this instanceof n)) return new n(t, e, i, r, s);
s = l.extend({}, u, s);
"input" != s.tagName || s.type || (s.type = "text");
_.call(this, t, e, i, r, s);
this.getValue() || this.showPlaceholder();
this.on("blur", this.handlePlaceholderBlur);
this.on("focus", this.handlePlaceholderFocus);
this.on("click", this.handleAutoSelect);
var a = this;
this._handlePlaceholder = function() {
a.setPlaceholder(a.getPlaceholder());
};
o && o.onLanguage && o.onLanguage(this._handlePlaceholder);
}
var o = i(23), r = i(15), s = i(7), a = i(17), _ = i(121), l = i(61), u = {
tagName: "input",
autoValidate: !0
};
n.prototype = r(_.prototype);
n.prototype.getPlaceholder = function() {
return this.internalPlaceholder || "";
};
n.prototype.setPlaceholder = function(t) {
"placeholder" in this.dom || (this.emulatePlaceholder = !0);
this.internalPlaceholder = t;
this.emulatePlaceholder || (this.dom.placeholder = t);
this.placeholderActive && this.showPlaceholder();
return this;
};
n.prototype.handlePlaceholderFocus = function() {
this.placeholderActive && this.hidePlaceholder();
};
n.prototype.handlePlaceholderBlur = function() {
this.getValue() || this.showPlaceholder();
};
n.prototype.showPlaceholder = function() {
this.addClass("placeholder");
this.placeholderActive = !0;
var t = this;
if (this.emulatePlaceholder) {
this._setValueOverride = !0;
this.setValue(this.getPlaceholder());
this._setValueOverride = !1;
if ("password" == this.getType()) {
this.realTypePassword = !0;
if (s.engineIE < 9) {
if (!this.fakePlaceholderPasswordIE) {
var e = {
class: this.getClass(),
type: "text",
visible: "none",
value: this.getPlaceholder(),
autoValidate: !1,
tabIndex: this.attributes.tabIndex
};
this.fakePlaceholderPasswordIE = new _(this.parentNode, null, null, null, e);
this.parentNode.insertAfter(this.fakePlaceholderPasswordIE, this);
this.autobind(this.fakePlaceholderPasswordIE, "focus", function() {
t.hidePlaceholder();
});
}
"none" != this.getComputedStyle("display") && (this.originalDisplay = this.getComputedStyle("display"));
this.fakePlaceholderPasswordIE.show().setOneStyle("display", this.originalDisplay).setClass(this.getClass());
this.setVisible("none");
} else this.setType("text", !0);
}
}
};
n.prototype.hidePlaceholder = function() {
this.removeClass("placeholder");
this.placeholderActive = !1;
if (this.emulatePlaceholder) {
this._setValueOverride = !0;
this.setValue("");
this._setValueOverride = !1;
if (this.realTypePassword) {
this.realTypePassword = !1;
if (s.engineIE < 9) {
this.fakePlaceholderPasswordIE instanceof _ && this.setVisible("block").setOneStyle("display", this.originalDisplay);
this.fakePlaceholderPasswordIE.setVisible("none");
this.focus();
} else this.setType("password", !0);
}
}
};
n.prototype.setValue = function(t) {
var e = 0 === t || !!t;
this._setValueOverride || e && this.hidePlaceholder();
_.prototype.setValue.call(this, t);
if (!this._setValueOverride) try {
this.doc.activeElement.jx_wrapper != this && (e || this.showPlaceholder());
} catch (t) {}
return this;
};
n.prototype.getValue = function() {
return this.placeholderActive && this.emulatePlaceholder ? "" : _.prototype.getValue.call(this);
};
n.prototype.setAutocomplete = n.prototype.setAutoComplete = function(t) {
if (!("autocomplete" in this.dom)) return this;
if ("on" == t || "off" == t) {
this.dom.autocomplete = t;
return this;
}
t = a(t);
this.dom.autocomplete = t ? "on" : "off";
return this;
};
n.prototype.getAutocomplete = n.prototype.getAutoComplete = function() {
return this.dom.autocomplete;
};
n.prototype.getAutoSelect = function() {
return this.autoSelect;
};
n.prototype.setAutoSelect = function(t) {
this.autoSelect = a(t);
return this;
};
n.prototype.handleAutoSelect = function() {
this.autoSelect && this.dom.select();
};
n.prototype.destroy = function() {
o && o.unLanguage && o.unLanguage(this._updatePlaceholder);
this.un("blur", this.handlePlaceholderBlur);
this.un("focus", this.handlePlaceholderFocus);
this.un("click", this.handleAutoSelect);
if (this.fakePlaceholderPasswordIE instanceof _) {
this.fakePlaceholderPasswordIE.destroy();
this.fakePlaceholderPasswordIE = null;
}
_.prototype.destroy.call(this);
};
n.prototype.reset = function() {
_.prototype.reset.call(this);
this.handlePlaceholderBlur();
return this;
};
n.prototype.insertAtCaret = function(t) {
if (t) {
this.placeholderActive && this.hidePlaceholder();
if (void 0 !== this.dom.selectionStart && 9 != s.engineIE) {
var e = this.dom.selectionStart, i = this.dom.selectionEnd, n = this.getScrollTop(), o = this.getValue();
this.setValue(o.substring(0, e) + t + o.substring(i, o.length));
this.focus();
this.dom.selectionStart = this.dom.selectionEnd = e + t.length;
this.setScrollTop(n);
} else if (document.selection) {
this.focus();
var r = document.selection.createRange();
r.text = t;
this.focus();
} else {
this.setValue(this.getValue() + t);
this.focus();
}
}
};
n.prototype.getCaret = function() {
var t = 0;
if (void 0 !== this.dom.selectionStart) t = this.dom.selectionStart; else if (document.selection) {
this.focus();
var e = document.selection.createRange();
e.moveStart("character", -this.getValue().length);
t = e.text.length;
}
return t;
};
n.prototype.setCaret = function(t) {
if (void 0 !== this.dom.selectionStart) {
this.dom.selectionStart = t;
this.dom.selectionEnd = t;
this.focus();
} else if (document.selection) {
this.focus();
var e = document.selection.createRange();
e.moveStart("character", -this.getValue().length);
e.moveEnd("character", -this.getValue().length);
e.moveStart("character", t);
e.moveEnd("character", 0);
e.select();
}
return this;
};
t.exports = n;
e(n, "jx_ui_TextField");
return n;
}();
}).call(e, i(3));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
var n = i(31), o = i(15), r = i(121), s = r, a = i(18), _ = i(41), l = i(134), u = i(97);
r = function(t, e, i, o, a) {
if (!(this instanceof r)) return new r(t, e, i, o, a);
if (!r.__jx__jcss_generated) {
n.generate(this, r.prototype.__jx__fqname, r.__jx__jcss, null, r);
r.__jx__jcss_generated = !0;
}
s.call(this, t, e, i, o, a);
r.__constructor.call(this);
};
r.__constructor = function() {
u.mobile(this);
u.rtl(this);
var t = _.root.$("livechat").$("ui").$("mobile$bool").getValue();
if (t && this.hasClass("mobile_error_icon")) {
this.pContainer = new a(this.parentNode, null, null, null, {
position: "relative"
});
this.pContainer.appendChild(this);
var e = new l(this.pContainer), i = this.showErrorMessage, n = this.hideErrorMessage, o = this;
this.showErrorMessage = function() {
e.setDisplay("");
return i.call(o);
};
this.hideErrorMessage = function() {
e.setDisplay("none");
return n.call(o);
};
}
};
r.__jx__jcss = {
"**self": {
display: "block",
appearance: "none",
"*overflow": "visible",
width: "100%",
color: "$$inputColor",
background: "$$inputBg",
padding: "$$inputPadding",
borderWidth: "$$inputBorderWidth",
borderStyle: "$$inputBorderStyle",
borderColor: "$$inputBorderColor",
borderRadius: "$$inputRadius",
boxShadow: "$$inputShadow"
},
"&:focus, &.focus": {
color: "$$inputFocusColor",
background: "$$inputFocusBg",
borderColor: "$$inputFocusBorderColor",
boxShadow: "$$inputFocusShadow",
outline: "none"
},
"&::placeholder": {
color: "$$inputPlaceholderColor",
fontStyle: "$$inputPlaceholderFontStyle"
},
"&.invalid": {
color: "$$inputInvalidColor",
background: "$$inputInvalidBg",
borderColor: "$$inputInvalidBorderColor",
boxShadow: "$$inputInvalidShadow"
},
"&.invalid.mobile": {
paddingRight: "30px"
},
"&.invalid.rtl.mobile": {
paddingRight: "$$inputPadding",
paddingLeft: "30px"
},
"&.unstyled": {
border: "none",
background: "transparent",
boxShadow: "none"
},
"&.standalone": {
marginTop: "10px",
marginBottom: "5px"
}
};
r.prototype = o(s.prototype);
r.prototype.__jx__super = s;
t.exports = r;
e(r, "meshim_widget_widgets_Input");
return r;
}();
}).call(e, i(3));
}, function(t, e, i) {
(function(e, n, o, r, s) {
e.__$$__meshim_widget_widgets_IconFont = i(98);
t.exports = function() {
function t(r, s, _, l, u) {
if (!(this instanceof t)) return new t(r, s, _, l, u);
s = s || n.generateID();
var d = [ e.__$$__meshim_widget_widgets_IconFont, "", "", [], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:widgets": "meshim.widget.widgets",
icon: "warning_sign"
} ], c = d[0].call(this, r, s, null, n.mangleIDs(s, d[3]), d[4]), h = c || this;
n.set(s, h);
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var f = function() {
var t = i(97);
t.rtl(h);
}();
for (var p in f) f.hasOwnProperty(p) && (h[p] = f[p]);
h.fire && h.fire("init");
h.setStyle && h.setStyle(_);
h.setAttributes && h.setAttributes(u);
"function" == typeof h.addChildren ? h.addChildren(l) : n.addChildren(h, l);
if (h !== this) {
h.__jx__constructor = a;
h.__jx__native = !1;
}
return h;
}
var a;
t.prototype = r(e.__$$__meshim_widget_widgets_IconFont.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__meshim_widget_widgets_IconFont;
t.__jx__jcss = {
"**self": {
position: "absolute",
top: "12px",
right: "10px",
color: "red",
fontSize: "$$fontSizeXL"
},
"&.rtl": {
right: "auto",
left: "10px"
}
};
s(t, "meshim_widget_widgets_input_InvalidIcon");
a = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(4), i(21), i(31), i(15), i(3));
}, function(t, e, i) {
(function(e, n, o, r, s) {
e.__$$__meshim_widget_widgets_ChatWindowPanel = i(92);
e.__$$__meshim_widget_widgets_ChatWindowDisconnectedToast = i(136);
e.__$$__meshim_widget_widgets_ViewStack = i(89);
e.__$$__meshim_widget_components_chatWindow_preChatOfflineForm_Form = i(141);
e.__$$__meshim_widget_components_chatWindow_preChatOfflineForm_PostSubmit = i(187);
e.__$$__meshim_widget_components_chatWindow_preChatOfflineForm_OperatingHours = i(189);
t.exports = function() {
function t(r, s, _, l, u) {
if (!(this instanceof t)) return new t(r, s, _, l, u);
s = s || n.generateID();
var d = [ e.__$$__meshim_widget_widgets_ChatWindowPanel, "", "", [ [ e.__$$__meshim_widget_widgets_ChatWindowDisconnectedToast, "disconnected_toast", "", [], {
id: "disconnected_toast",
addClass: "disconnected_toast hide"
} ], [ e.__$$__meshim_widget_widgets_ViewStack, "vs", "", [ [ e.__$$__meshim_widget_components_chatWindow_preChatOfflineForm_Form, "", "", [], {
name: "form"
} ], [ e.__$$__meshim_widget_components_chatWindow_preChatOfflineForm_PostSubmit, "", "", [], {
name: "post_submit"
} ], [ e.__$$__meshim_widget_components_chatWindow_preChatOfflineForm_OperatingHours, "", "", [], {
name: "operating_hours"
} ] ], {
id: "vs"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:widgets": "meshim.widget.widgets",
"xmlns:preChatOfflineForm": "meshim.widget.components.chatWindow.preChatOfflineForm",
titleBar: "hidePopout",
actionBar: ""
} ], c = d[0].call(this, r, s, null, n.mangleIDs(s, d[3]), d[4]), h = c || this;
n.set(s, h);
var f = n.get(s + "__disconnected_toast"), p = n.get(s + "__vs");
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var g = function() {
function t() {
o.mobile(h);
h.autobind(_, "value", function(t) {
p.setIndex(t || 0);
s.write({
name$string: p.getName()
});
});
h.autobind(a, "value", e);
setTimeout(function() {
e(!0);
}, l);
}
function e(t) {
t && f.removeClass("hide");
}
var n = i(41), o = i(97), r = n.root, s = r.$("livechat").$("ui").$("chat_window").$("pre_chat_offline_form"), a = r.$("connection").$("reattached_timestamp$int"), _ = s.$("stack_index$int"), l = 8e3;
t();
}();
for (var m in g) g.hasOwnProperty(m) && (h[m] = g[m]);
h.fire && h.fire("init");
h.setStyle && h.setStyle(_);
h.setAttributes && h.setAttributes(u);
"function" == typeof h.addChildren ? h.addChildren(l) : n.addChildren(h, l);
if (h !== this) {
h.__jx__constructor = a;
h.__jx__native = !1;
}
return h;
}
var a;
t.prototype = r(e.__$$__meshim_widget_widgets_ChatWindowPanel.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__meshim_widget_widgets_ChatWindowPanel;
t.__jx__jcss = {
".disconnected_toast.hide": {
display: "none"
}
};
s(t, "meshim_widget_components_chatWindow_PreChatOfflineForm");
a = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(4), i(21), i(31), i(15), i(3));
}, function(t, e, i) {
(function(e, n, o, r, s) {
e.__$$__jx_ui_Widget = i(18);
e.__$$__meshim_widget_widgets_toast_Disconnected = i(137);
t.exports = function() {
function t(r, s, _, l, u) {
if (!(this instanceof t)) return new t(r, s, _, l, u);
s = s || n.generateID();
var d = [ e.__$$__jx_ui_Widget, "", "", [ [ e.__$$__meshim_widget_widgets_toast_Disconnected, "", "", [], {
addClass: "toast"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:widgets": "meshim.widget.widgets"
} ], c = d[0].call(this, r, s, null, n.mangleIDs(s, d[3]), d[4]), h = c || this;
n.set(s, h);
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var f = function() {
function t() {
e.mobile(h);
}
var e = i(97);
t();
}();
for (var p in f) f.hasOwnProperty(p) && (h[p] = f[p]);
h.fire && h.fire("init");
h.setStyle && h.setStyle(_);
h.setAttributes && h.setAttributes(u);
"function" == typeof h.addChildren ? h.addChildren(l) : n.addChildren(h, l);
if (h !== this) {
h.__jx__constructor = a;
h.__jx__native = !1;
}
return h;
}
var a;
t.prototype = r(e.__$$__jx_ui_Widget.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_Widget;
t.__jx__jcss = {
"**self": {
position: "absolute",
zIndex: "1000",
top: "40px",
left: "0",
width: "100%",
height: "0",
textAlign: "center",
".toast": {
display: "inline-block",
maxWidth: "80%"
}
},
"**self.mobile": {
position: "fixed",
top: "60px"
}
};
s(t, "meshim_widget_widgets_ChatWindowDisconnectedToast");
a = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(4), i(21), i(31), i(15), i(3));
}, function(t, e, i) {
(function(e, n, o, r, s, a) {
e.__$$__meshim_widget_widgets_Toast = i(138);
e.__$$__meshim_widget_widgets_toast_disconnected_Image = i(139);
e.__$$__jx_ui_Widget = i(18);
t.exports = function() {
function t(s, a, l, u, d) {
if (!(this instanceof t)) return new t(s, a, l, u, d);
a = a || n.generateID();
var c = [ e.__$$__meshim_widget_widgets_Toast, "", "", [ [ e.__$$__meshim_widget_widgets_toast_disconnected_Image, "img", "", [], {
id: "img",
addClass: "reconnecting_toast_image"
} ], [ e.__$$__jx_ui_Widget, "message", "", [], {
id: "message",
addClass: "reconnecting_toast_text"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:widgets": "meshim.widget.widgets"
} ], h = c[0].call(this, s, a, null, n.mangleIDs(a, c[3]), c[4]), f = h || this;
n.set(a, f);
var p = n.get(a + "__img"), g = n.get(a + "__message");
if (!t.__jx__jcss_generated) {
o.generate(s, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var m = function() {
function t() {
f.autobind(a, "value", function(t) {
e = t;
if (t) {
if (l[t]) {
p.stop().reset();
f.addClass("toast_disconnected");
} else {
p.play();
f.removeClass("toast_disconnected");
}
g.setDisplay("fast_init" == t ? "none" : "");
g.setText(_[t] || n);
f.setDisplay("");
} else {
f.setDisplay("none");
p.stop().reset();
}
});
f.on("click", function(t) {
t.preventDefault();
l[e] && o.livechat.reconnect();
});
}
var e, n = r(200), o = i(41), s = i(99), a = o.root.$("connection").$("message$string"), _ = s.connection_status, l = {
idle_disconnect: 1
};
t();
}();
for (var $ in m) m.hasOwnProperty($) && (f[$] = m[$]);
f.fire && f.fire("init");
f.setStyle && f.setStyle(l);
f.setAttributes && f.setAttributes(d);
"function" == typeof f.addChildren ? f.addChildren(u) : n.addChildren(f, u);
if (f !== this) {
f.__jx__constructor = _;
f.__jx__native = !1;
}
return f;
}
var _;
t.prototype = s(e.__$$__meshim_widget_widgets_Toast.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__meshim_widget_widgets_Toast;
t.__jx__jcss = {
"**self": {
textAlign: "center",
"&.toast_disconnected": {
cursor: "pointer"
}
},
".reconnecting_toast_text": {
display: "block",
marginLeft: "34px",
fontWeight: "bold",
textAlign: "left"
},
".reconnecting_toast_image": {
float: "left",
marginTop: "-2px"
}
};
a(t, "meshim_widget_widgets_toast_Disconnected");
_ = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(4), i(21), i(31), i(23), i(15), i(3));
}, function(t, e, i) {
(function(e, n, o, r, s) {
e.__$$__jx_ui_Widget = i(18);
t.exports = function() {
function t(r, s, a, _, l) {
if (!(this instanceof t)) return new t(r, s, a, _, l);
s = s || n.generateID();
var u = [ e.__$$__jx_ui_Widget, "", "", [], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
selectable: "false"
} ], d = u[0].call(this, r, s, null, n.mangleIDs(s, u[3]), u[4]), c = d || this;
n.set(s, c);
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var h = void 0;
for (var f in h) h.hasOwnProperty(f) && (c[f] = h[f]);
c.fire && c.fire("init");
c.setStyle && c.setStyle(a);
c.setAttributes && c.setAttributes(l);
"function" == typeof c.addChildren ? c.addChildren(_) : n.addChildren(c, _);
if (c !== this) {
c.__jx__constructor = i;
c.__jx__native = !1;
}
return c;
}
var i;
t.prototype = r(e.__$$__jx_ui_Widget.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_Widget;
t.__jx__jcss = {
"**self": {
color: "$$toastColor",
background: "$$toastBg",
padding: "$$toastPadding",
borderWidth: "$$toastBorderWidth",
borderStyle: "$$toastBorderStyle",
borderColor: "$$toastBorderColor",
borderRadius: "$$toastRadius",
boxShadow: "$$toastShadow"
}
};
s(t, "meshim_widget_widgets_Toast");
i = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(4), i(21), i(31), i(15), i(3));
}, function(t, e, i) {
(function(e, n, o, r, s) {
e.__$$__jx_ui_Widget = i(18);
t.exports = function() {
function t(r, s, _, l, u) {
if (!(this instanceof t)) return new t(r, s, _, l, u);
s = s || n.generateID();
var d = [ e.__$$__jx_ui_Widget, "", "", [], {
"xmlns:ui": "jx.ui"
} ], c = d[0].call(this, r, s, null, n.mangleIDs(s, d[3]), d[4]), h = c || this;
n.set(s, h);
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var f = function() {
function t() {
u[l] && u[l].removeClass(r);
l++;
l >= s + _ && (l = a);
u[l] && u[l].addClass(r);
}
for (var e, n = i(140), o = 100, r = "dark", s = 3, a = -1, _ = 2, l = a, u = [], d = 0; d < s; d++) {
u[d] = new n(h);
u[d].addClass("dot");
}
h.play = function() {
if (e) return h;
t();
e = window.setInterval(t, o);
return h;
};
h.stop = function() {
if (!e) return h;
window.clearInterval(e);
e = null;
return h;
};
h.reset = function() {
u[l] && u[l].removeClass(r);
l = a;
return h;
};
h.reset();
}();
for (var p in f) f.hasOwnProperty(p) && (h[p] = f[p]);
h.fire && h.fire("init");
h.setStyle && h.setStyle(_);
h.setAttributes && h.setAttributes(u);
"function" == typeof h.addChildren ? h.addChildren(l) : n.addChildren(h, l);
if (h !== this) {
h.__jx__constructor = a;
h.__jx__native = !1;
}
return h;
}
var a;
t.prototype = r(e.__$$__jx_ui_Widget.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_Widget;
t.__jx__jcss = {
"**self": {
".dot": {
marginRight: "3px"
}
}
};
s(t, "meshim_widget_widgets_toast_disconnected_Image");
a = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(4), i(21), i(31), i(15), i(3));
}, function(t, e, i) {
(function(e, n, o, r, s) {
e.__$$__jx_ui_Widget = i(18);
t.exports = function() {
function t(r, s, a, _, l) {
if (!(this instanceof t)) return new t(r, s, a, _, l);
s = s || n.generateID();
var u = [ e.__$$__jx_ui_Widget, "", "", [], {
"xmlns:ui": "jx.ui"
} ], d = u[0].call(this, r, s, null, n.mangleIDs(s, u[3]), u[4]), c = d || this;
n.set(s, c);
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var h = void 0;
for (var f in h) h.hasOwnProperty(f) && (c[f] = h[f]);
c.fire && c.fire("init");
c.setStyle && c.setStyle(a);
c.setAttributes && c.setAttributes(l);
"function" == typeof c.addChildren ? c.addChildren(_) : n.addChildren(c, _);
if (c !== this) {
c.__jx__constructor = i;
c.__jx__native = !1;
}
return c;
}
var i;
t.prototype = r(e.__$$__jx_ui_Widget.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_Widget;
t.__jx__jcss = {
"**self": {
position: "relative",
display: "inline-block",
"width, height": "6px",
background: "$$toastColor",
borderRadius: "50%",
opacity: "0.5",
transition: "all 0.3s",
"&.dark": {
opacity: "1"
}
}
};
s(t, "meshim_widget_widgets_toast_disconnected_image_Dot");
i = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(4), i(21), i(31), i(15), i(3));
}, function(t, e, i) {
(function(e, n, o, r, s, a, _) {
e.__$$__meshim_widget_widgets_ChatWindowContent = i(142);
e.__$$__meshim_widget_widgets_ConnAwareForm = i(143);
e.__$$__meshim_widget_widgets_ScrollableFrame = i(144);
e.__$$__jx_ui_Widget = i(18);
e.__$$__jx_ui_html_div = i(124);
e.__$$__jx_ui_html_a = i(96);
e.__$$__meshim_widget_widgets_form_OfflineDeflection = i(145);
e.__$$__meshim_widget_widgets_form_Profile = i(146);
e.__$$__meshim_widget_widgets_Form = i(163);
e.__$$__meshim_widget_widgets_Bottom = i(177);
e.__$$__meshim_widget_widgets_ConnAwareSubmit = i(178);
e.__$$__meshim_widget_widgets_Button = i(162);
t.exports = function() {
function t(a, _, u, d, c) {
if (!(this instanceof t)) return new t(a, _, u, d, c);
_ = _ || n.generateID();
var h = o(161), f = o(162), p = o(163), g = o(164), m = [ e.__$$__meshim_widget_widgets_ChatWindowContent, "", "", [ [ e.__$$__meshim_widget_widgets_ConnAwareForm, "form_container", "", [ [ e.__$$__meshim_widget_widgets_ScrollableFrame, "", "", [ [ e.__$$__jx_ui_Widget, "pre_chat_message", "", [], {
id: "pre_chat_message",
addClass: "greetings_message"
} ], [ e.__$$__jx_ui_Widget, "offline_message", "", [ [ e.__$$__jx_ui_Widget, "offline_message_msg", "", [], {
id: "offline_message_msg"
} ], [ e.__$$__jx_ui_html_div, "upgrade_link", "", [ [ e.__$$__jx_ui_html_a, "", "", [ f ], {
href: h,
target: "_blank",
addClass: "link"
} ] ], {
id: "upgrade_link",
addClass: "upgrade_link",
visible: "none"
} ] ], {
id: "offline_message",
addClass: "greetings_message"
} ], [ e.__$$__jx_ui_Widget, "offline_message_disabled", "", [], {
id: "offline_message_disabled",
addClass: "greetings_message"
} ], [ e.__$$__jx_ui_Widget, "offline_operating_hours_link", "", [ p ], {
id: "offline_operating_hours_link",
addClass: "link",
visible: "none"
} ], [ e.__$$__meshim_widget_widgets_form_OfflineDeflection, "offline_deflection", "", [], {
id: "offline_deflection"
} ], [ e.__$$__meshim_widget_widgets_form_Profile, "profile", "", [], {
id: "profile"
} ], [ e.__$$__meshim_widget_widgets_Form, "form", "", [], {
id: "form"
} ] ], {} ], [ e.__$$__meshim_widget_widgets_Bottom, "", "", [ [ e.__$$__meshim_widget_widgets_ConnAwareSubmit, "submit", "", [], {
id: "submit",
addClass: "submit"
} ], [ e.__$$__meshim_widget_widgets_Button, "back", "", [ g ], {
id: "back",
addClass: "back secondary"
} ] ], {} ] ], {
id: "form_container",
addClass: "form_container",
noValidate: "true"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:widgets": "meshim.widget.widgets",
absPaddingBottom: "bottomHeight"
} ], $ = m[0].call(this, a, _, null, n.mangleIDs(_, m[3]), m[4]), b = $ || this;
n.set(_, b);
var w = n.get(_ + "__form_container"), x = n.get(_ + "__pre_chat_message"), v = n.get(_ + "__offline_message"), y = n.get(_ + "__offline_message_msg"), j = n.get(_ + "__upgrade_link"), C = n.get(_ + "__offline_message_disabled"), S = n.get(_ + "__offline_operating_hours_link"), A = n.get(_ + "__offline_deflection"), k = n.get(_ + "__profile"), I = n.get(_ + "__form"), N = n.get(_ + "__submit"), B = n.get(_ + "__back");
if (!t.__jx__jcss_generated) {
r.generate(a, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var T = function() {
function t() {
function t(t, e, i) {
t.empty();
t.setText("");
"object" == typeof e && e.onTranslate ? t.setText(e) : T.appendTo(t, e, i);
}
function i() {
var t = q.$("2").$("name$string");
t.getValue() !== L.DEPARTMENT && t.update(L.DEPARTMENT);
}
function D() {
var t = I.getField(L.DEPARTMENT);
if (t) {
var e, i = t.input.getValue();
if (i) {
var n = ht.$(i).$("status$string").getValue();
e = "offline" != n;
} else e = !0;
S.setDisplay(O() ? "" : "none");
if (e != h) {
h = e;
E();
}
}
}
function E() {
var t = M(), i = I.getField(L.DEPARTMENT), s = I.getField(L.MESSAGE);
if (t == P.OFFLINE_DISABLED) {
C.setDisplay(r ? "" : "none");
k.setDisplay("none");
I.setDisplay("none");
A.setDisplay("none");
} else {
C.setDisplay("none");
k.setDisplay("");
I.setDisplay("");
}
switch (t) {
case P.OFFLINE_DISABLED:
x.setDisplay("none");
v.setDisplay("none");
A.setDisplay("none");
N.setValue($.pre_chat_offline_form.button_disabled);
z(!1);
break;

case P.OFFLINE:
x.setDisplay("none");
v.setDisplay(o || O() ? "" : "none");
k.setRequired(!0);
k.setPhoneRequired(a);
if (i) {
i.setRequired(!1);
i.input && i.input.setHide(!0);
}
s && s.setRequired(!0);
N.setValue($.pre_chat_offline_form.button_message);
z(!1);
var _ = at.getValue();
if (_) {
var l = _.facebook, d = _.twitter, c = [ l, d ].some(function(t) {
return t.allowed$bool;
});
if (c) {
A.setDisplay("");
A.displayMessenger(l.allowed$bool, l.page_id$string);
A.displayTwitter(d.allowed$bool, d.page_id$string);
} else A.setDisplay("none");
}
break;

case P.ONLINE:
x.setDisplay(e ? "" : "none");
v.setDisplay("none");
A.setDisplay("none");
k.setRequired(G.getValue());
k.setPhoneRequired(n);
if (i) {
i.setRequired(X.getValue());
i.input && i.input.setHide(!1);
}
s && s.setRequired(K.getValue());
N.setValue($.pre_chat_offline_form.button_chat);
z(!1);
break;

case P.ONLINE_OFFLINE:
x.setDisplay(e ? "" : "none");
v.setDisplay("none");
A.setDisplay("none");
k.setRequired(!0);
k.setPhoneRequired(a);
if (i) {
i.setRequired(X.getValue());
i.input && i.input.setHide(!1);
}
s && s.setRequired(!0);
N.setValue($.pre_chat_offline_form.button_message);
z(!1);
break;

case P.ONLINE_CHATTING:
x.setDisplay("none");
v.setDisplay(o || O() ? "" : "none");
A.setDisplay("none");
k.setRequired(!0);
k.setPhoneRequired(a);
if (i) {
i.setRequired(!1);
i.input && i.input.setHide(!0);
}
s && s.setRequired(!0);
N.setValue($.pre_chat_offline_form.button_message);
z(!0);
}
S.setDisplay(O() ? "" : "none");
if (u) {
k.setDisplay("none");
k.setRequired(!1);
}
}
function O() {
var t, e = M();
if ((e == P.OFFLINE || e == P.ONLINE_CHATTING) && _ && l) return !0;
var i = ht.getValue();
for (var n in i) if (i.hasOwnProperty(n)) {
t = i[n].status$string && "offline" === i[n].status$string;
if (_ && l && t) return !0;
}
return !1;
}
function R() {
rt.update({
value_user$string: I.getInput("message").getValue()
});
}
function M() {
return "banned" == d ? P.OFFLINE_DISABLED : "offline" == d ? f ? P.OFFLINE_DISABLED : P.OFFLINE : c ? P.ONLINE_CHATTING : h ? P.ONLINE : P.ONLINE_OFFLINE;
}
function z(t) {
if (t) {
N.removeClass("wide");
B.setDisplay("");
} else {
N.addClass("wide");
B.setDisplay("none");
}
}
b.autobind(q, "value", i);
I.setDataNode(q);
b.autobind(Y, "value", function(i) {
e = i;
t(x, $.get(Y), W);
E();
});
b.autobind(it, "value", function(e) {
o = e;
t(y, $.get(it), W);
E();
});
b.autobind(nt, "value", function(e) {
r = e;
t(C, $.get(nt), W);
E();
});
b.autobind(V, "value", function(t) {
s(t) && I.populateSelf();
});
b.autobind(lt, "value", function(t) {
s(t) && I.populateSelf();
});
b.autobind(pt, "value", function(t) {
if (t != c) {
c = t;
E();
}
});
b.autobind(ft, "value", function(t) {
if (t != d) {
d = t;
E();
}
});
b.autobind(mt, "value", function(t) {
if (t != f) {
f = t;
E();
}
});
b.autobind(J, "value", function(t) {
n = t;
E();
});
b.autobind(st, "value", function(t) {
a = t;
E();
});
b.autobind(at, "value", E);
b.autobind($t, "value", function(t) {
_ = t;
E();
});
b.autobind(bt, "value", function(t) {
l = t;
E();
});
b.autobind(wt, "value", function(t) {
u = t;
E();
});
b.autobind(ht, "value", D);
I.on("change", D);
b.autobind(xt, "value", D);
w.onConnectedAndSubmit(function(t) {
t.preventDefault();
var e, i, n = M();
if (n == P.OFFLINE_DISABLED || b.validate(!0)) {
var o, r = I.getField(L.DEPARTMENT);
r.input && (o = ht.$(r.input.getValue()).getValue("name$string") || "");
k.submit();
switch (n) {
case P.OFFLINE_DISABLED:
vt ? window.close() : m.userHideWindow();
break;

case P.OFFLINE:
g.trackEvent("Offline Message Sent");
I.submit(et, k, !1, "is_offline_form");
R();
ct.update(1);
break;

case P.ONLINE:
g.trackEvent("Chat Request Form Submitted", o);
I.submit(U, k);
F.update("");
i = {
msg: Q.getValue() || ""
};
if (r.input && !r.input.isHidden()) {
e = parseInt(Z.getValue(), 10) || 0;
xt.parentNode.write({
department_id$int: e
});
i.department = e;
}
"" !== i.msg.trim() && p.livechat.sendChatMsg(i);
H.update(!0);
gt.update("chat_panel");
break;

case P.ONLINE_OFFLINE:
g.trackEvent("Offline Message Sent", o);
I.submit(et, k);
R();
ct.update(1);
break;

case P.ONLINE_CHATTING:
I.submit(et, k);
gt.update("chat_panel");
}
I.reset();
D();
}
});
B.on("click", function() {
gt.update("chat_panel");
});
S.on("click", function(t) {
t && t.target && t.target.jx_wrapper && t.target.jx_wrapper.hasClass("link") && ct.update(2);
});
b.autobind(ut, "value", function(t) {
j.setDisplay(t ? "" : "none");
});
I.on("input", function(t) {
"message" === t.target.name && F.update(t.target.value.trim());
});
}
var e, n, o, r, a, _, l, u, d, c, h, f, p = i(41), g = i(180), m = i(113), $ = i(99), T = i(181), D = i(182), E = i(183), O = i(185), P = {
OFFLINE_DISABLED: "OFFLINE_DISABLED",
OFFLINE: "OFFLINE",
ONLINE: "ONLINE",
ONLINE_OFFLINE: "ONLINE_OFFLINE",
ONLINE_CHATTING: "ONLINE_CHATTING"
}, L = {
DEPARTMENT: "department_id",
MESSAGE: "message"
}, W = [ D, E, O ], R = p.root.$("livechat"), F = R.$("ui").$("chat_window").$("chat_panel").$("textarea").$("value$string"), M = R.$("ui").$("chat_window").$("pre_chat_form"), V = M.$("form_populate$bool"), H = M.$("submitted$bool"), z = R.$("settings").$("forms").$("pre_chat_form"), q = z.$("form"), U = z.$("form_submitted"), G = z.$("profile_required$bool"), Y = z.$("message$string"), X = q.$("2").$("required$bool"), K = q.$("3").$("required$bool"), Z = U.$("2").$("value$string"), Q = U.$("3").$("value$string"), J = q.$("4").$("required$bool"), tt = R.$("settings").$("forms").$("offline_form"), et = tt.$("form_submitted"), it = tt.$("message$string"), nt = tt.$("message_disabled$string"), ot = tt.$("form"), rt = ot.$("2"), st = ot.$("3").$("required$bool"), at = tt.$("channels"), _t = R.$("ui").$("chat_window").$("offline_form"), lt = _t.$("form_populate$bool"), ut = _t.$("upgrade_link_display$bool"), dt = R.$("ui").$("chat_window").$("pre_chat_offline_form"), ct = dt.$("stack_index$int"), ht = R.$("departments"), ft = R.$("account").$("status$string"), pt = R.$("channel").$("chatting$bool"), gt = R.$("ui").$("chat_window").$("main_stack_name$string"), mt = R.$("settings").$("chat_button").$("hide_when_offline$bool"), $t = R.$("settings").$("operating_hours").$("enabled$bool"), bt = R.$("settings").$("operating_hours").$("display_notice$bool"), wt = R.$("settings").$("login").$("restrict_profile$bool"), xt = R.$("profile").$("department_id$int"), vt = R.$("ui").$("popout$bool").getValue();
t();
}();
for (var D in T) T.hasOwnProperty(D) && (b[D] = T[D]);
b.fire && b.fire("init");
b.setStyle && b.setStyle(u);
b.setAttributes && b.setAttributes(c);
"function" == typeof b.addChildren ? b.addChildren(d) : n.addChildren(b, d);
if (b !== this) {
b.__jx__constructor = l;
b.__jx__native = !1;
}
return b;
}
var l;
t.prototype = a(e.__$$__meshim_widget_widgets_ChatWindowContent.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__meshim_widget_widgets_ChatWindowContent;
t.__jx__jcss = {
".greetings_message": {
whiteSpace: "pre-wrap",
wordWrap: "break-word"
},
".greetings_message, .generated_form": {
marginBottom: "$$marginL"
},
".form_container": {
"width, height": "100%"
},
".upgrade_link": {
marginTop: "5px"
},
".link": {
cursor: "pointer",
textDecoration: "underline",
marginBottom: "15px"
}
};
_(t, "meshim_widget_components_chatWindow_preChatOfflineForm_Form");
l = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(4), i(21), i(23), i(31), i(17), i(15), i(3));
}, function(t, e, i) {
(function(e, n, o, r, s) {
e.__$$__meshim_widget_widgets_AbsolutePaddingContainer = i(126);
t.exports = function() {
function t(r, s, _, l, u) {
if (!(this instanceof t)) return new t(r, s, _, l, u);
s = s || n.generateID();
var d = [ e.__$$__meshim_widget_widgets_AbsolutePaddingContainer, "", "", [], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:widgets": "meshim.widget.widgets"
} ], c = d[0].call(this, r, s, null, n.mangleIDs(s, d[3]), d[4]), h = c || this;
n.set(s, h);
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var f = function() {
function t() {
n.mobile(h);
n.tablet(h);
}
var e = i(41), n = i(97), o = e.root.$("livechat").$("ui").$("mobile$bool").getValue(), r = h.setAbsPaddingBottom;
h.setAbsPaddingBottom = function() {
o || r.apply(h, arguments);
};
t();
}();
for (var p in f) f.hasOwnProperty(p) && (h[p] = f[p]);
h.fire && h.fire("init");
h.setStyle && h.setStyle(_);
h.setAttributes && h.setAttributes(u);
"function" == typeof h.addChildren ? h.addChildren(l) : n.addChildren(h, l);
if (h !== this) {
h.__jx__constructor = a;
h.__jx__native = !1;
}
return h;
}
var a;
t.prototype = r(e.__$$__meshim_widget_widgets_AbsolutePaddingContainer.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__meshim_widget_widgets_AbsolutePaddingContainer;
t.__jx__jcss = {
"**self": {},
"&.mobile": {
margin: "0 auto",
height: "auto",
border: "none",
maxWidth: "$$mobileMaxWidthS"
},
"&.tablet": {
maxWidth: "$$mobileMaxWidth"
}
};
s(t, "meshim_widget_widgets_ChatWindowContent");
a = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(4), i(21), i(31), i(15), i(3));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t, e, i, r, _) {
if (!(this instanceof n)) return new n(t, e, i, r, _);
if (!n.__jx__jcss_generated) {
o.generate(this, n.prototype.__jx__fqname, n.__jx__jcss, null, n);
n.__jx__jcss_generated = !0;
}
s.call(this, t, e, i, r, _);
var l = this;
this.$connection_message = a.root.$("connection").$("message$string");
this.connected_submits = [];
this.on("submit", function(t) {
l.handleSubmit(t);
});
this.onDestruction(function() {
l.connected_submits = null;
});
}
var o = i(31), r = i(15), s = i(122), a = i(41);
n.__jx__jcss = {};
n.prototype = r(s.prototype);
n.prototype.__jx__super = s;
n.prototype.onConnectedAndSubmit = function(t) {
this.connected_submits.push(t);
};
n.prototype.handleSubmit = function(t) {
var e = !!this.$connection_message.getValue();
if (e) t.preventDefault(); else for (var i = 0; i < this.connected_submits.length; i++) this.connected_submits[i](t);
};
t.exports = n;
e(n, "meshim_widget_widgets_ConnAwareForm");
return n;
}();
}).call(e, i(3));
}, function(t, e, i) {
(function(e, n, o, r, s) {
e.__$$__jx_ui_Widget = i(18);
t.exports = function() {
function t(r, s, _, l, u) {
if (!(this instanceof t)) return new t(r, s, _, l, u);
s = s || n.generateID();
var d = [ e.__$$__jx_ui_Widget, "", "", [ [ e.__$$__jx_ui_Widget, "inner", "", [], {
id: "inner",
addClass: "scrollable_inner",
container: "default"
} ], [ e.__$$__jx_ui_Widget, "", "", [], {
addClass: "scrollable_fixed_top"
} ], [ e.__$$__jx_ui_Widget, "", "", [], {
addClass: "scrollable_fixed_bottom"
} ] ], {
"xmlns:ui": "jx.ui"
} ], c = d[0].call(this, r, s, null, n.mangleIDs(s, d[3]), d[4]), h = c || this;
n.set(s, h);
var f = n.get(s + "__inner");
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
h.defaultPlacement = f;
var p = function() {
function t() {
a && window.clearTimeout(a);
a = window.setTimeout(e, 10);
}
function e() {
a && window.clearTimeout(a);
a = null;
if (h.dom) {
h[n() ? "addClass" : "removeClass"]("scroll_top");
h[o() ? "addClass" : "removeClass"]("scroll_bottom");
h[r() ? "addClass" : "removeClass"]("scrollable");
}
}
function n() {
return !f.getScrollTop();
}
function o() {
return f.getScrollTop() + f.getHeight() >= f.getScrollHeight();
}
function r() {
return f.getScrollHeight() > f.getHeight();
}
function s() {
h.autobind(u, "value", t);
t();
l.mobile(h);
l.popout(h);
l.windowSize(h, "sf_");
d.getValue() && h.addClass("mobile");
}
var a, _ = i(41), l = i(97), u = _.root.$("livechat").$("ui").$("theme_loaded$bool"), d = _.root.$$("livechat.ui.mobile$bool");
f.on("scroll", t);
h.updateScrollStyles = t;
h.getScrollHeight = function() {
return f.getScrollHeight();
};
h.getScrollTop = function() {
return f.getScrollTop();
};
h.getHeight = function() {
return f.getHeight();
};
h.setScrollTop = function(t) {
return f.setScrollTop(t);
};
s();
}();
for (var g in p) p.hasOwnProperty(g) && (h[g] = p[g]);
h.fire && h.fire("init");
h.setStyle && h.setStyle(_);
h.setAttributes && h.setAttributes(u);
"function" == typeof h.addChildren ? h.addChildren(l) : n.addChildren(h, l);
if (h !== this) {
h.__jx__constructor = a;
h.__jx__native = !1;
}
return h;
}
var a;
t.prototype = r(e.__$$__jx_ui_Widget.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_Widget;
t.__jx__jcss = {
"**self, .scrollable_inner": {
position: "relative",
"width, height": "100%"
},
".scrollable_inner": {
overflowX: "hidden",
overflowY: "auto",
paddingBottom: "0 !important"
},
".scrollable_fixed_top, .scrollable_fixed_bottom": {
position: "absolute",
"left, right": 0,
pointerEvents: "none"
},
".scrollable_fixed_top": {
top: 0,
height: "$$scrollableFrameTopHeight",
background: "$$scrollableFrameTopBackground",
backgroundColor: "$$scrollableFrameTopBackgroundColor"
},
".scrollable_fixed_bottom": {
bottom: 0,
height: "$$scrollableFrameBottomHeight",
background: "$$scrollableFrameBottomBackground",
backgroundColor: "$$scrollableFrameBottomBackgroundColor"
},
"&.scroll_top .scrollable_fixed_top": {
display: "none"
},
"&.scroll_bottom .scrollable_fixed_bottom": {
display: "none"
},
"&.scroll .scrollable_inner": {},
"&.sf_small": {
padding: "$$scrollableFramePaddingSmall",
".scrollable_inner": {
padding: "$$scrollableFrameInnerPaddingSmall"
}
},
"&.sf_medium": {
padding: "$$scrollableFramePaddingMedium",
".scrollable_inner": {
padding: "$$scrollableFrameInnerPaddingMedium"
}
},
"&.sf_large": {
padding: "$$scrollableFramePaddingLarge",
".scrollable_inner": {
padding: "$$scrollableFrameInnerPaddingLarge"
}
},
"&.popout": {
"@media only screen and (max-width: 300px)": {
padding: "$$scrollableFramePaddingSmall",
".scrollable_inner": {
padding: "$$scrollableFrameInnerPaddingSmall"
}
},
"@media only screen and (min-width: 300px) and (max-width: 500px)": {
padding: "$$scrollableFramePaddingMedium",
".scrollable_inner": {
padding: "$$scrollableFrameInnerPaddingMedium"
}
},
"@media only screen and (min-width: 500px)": {
padding: "$$scrollableFramePaddingLarge",
".scrollable_inner": {
padding: "$$scrollableFrameInnerPaddingLarge"
}
}
},
"&.mobile": {
borderBottom: "none",
".scrollable_inner": {
padding: "10px"
}
}
};
s(t, "meshim_widget_widgets_ScrollableFrame");
a = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(4), i(21), i(31), i(15), i(3));
}, function(t, e, i) {
(function(e, n, o, r, s, a, _, l) {
e.__$$__jx_ui_Widget = i(18);
e.__$$__jx_ui_Label = i(104);
e.__$$__jx_ui_html_a = i(96);
e.__$$__meshim_widget_widgets_IconFont = i(98);
t.exports = function() {
function t(_, l, d, c, h) {
if (!(this instanceof t)) return new t(_, l, d, c, h);
l = l || n.generateID();
var f = o(201), p = [ e.__$$__jx_ui_Widget, "", "", [ [ e.__$$__jx_ui_Label, "", "", [ f ], {
addClass: "label"
} ], [ e.__$$__jx_ui_html_a, "messenger_icon", "", [ [ e.__$$__meshim_widget_widgets_IconFont, "", "", [], {
title: "Messenger",
icon: "messenger_round"
} ] ], {
id: "messenger_icon",
target: "_blank",
addClass: "channel_icon channel_messenger",
useDisplay: "true"
} ], [ e.__$$__jx_ui_html_a, "twitter_icon", "", [ [ e.__$$__meshim_widget_widgets_IconFont, "", "", [], {
title: "Twitter",
icon: "twitter_round"
} ] ], {
id: "twitter_icon",
target: "_blank",
addClass: "channel_icon channel_twitter",
useDisplay: "true"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:widgets": "meshim.widget.widgets"
} ], g = p[0].call(this, _, l, null, n.mangleIDs(l, p[3]), p[4]), m = g || this;
n.set(l, m);
var $ = n.get(l + "__messenger_icon"), b = n.get(l + "__twitter_icon");
if (!t.__jx__jcss_generated) {
r.generate(_, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var w = function() {
function t(t) {
t = s(t);
if (t) {
this.setDisplay("inline-block");
this.fire("show");
} else {
this.setDisplay("none");
this.fire("hide");
}
}
function e(t, e, i, n) {
if (i && n && a(n)) {
t.setVisible(!0);
t.setHref(e + n);
} else {
i ? d.getValue() && t.setVisible(!0) : t.setVisible(!1);
t.removeAttribute("href");
}
}
function n(t) {
d.getValue() || this.getAttribute("href") && this.isVisible() && c.write({
offline_deflection_channel$string: t
});
}
function o() {
$.on("click", r.bind(n, $, "facebook"));
b.on("click", r.bind(n, b, "twitter"));
$.setVisible = r.bind(t, $);
b.setVisible = r.bind(t, b);
}
var r = i(53), _ = i(41), l = {
MESSENGER: "https://m.me/",
TWITTER: "https://twitter.com/messages/compose?recipient_id="
}, u = _.root.$("livechat").$("ui"), d = u.$("mockup$bool"), c = u.$("chat_window").$("pre_chat_offline_form");
m.displayMessenger = r.bind(e, m, $, l.MESSENGER);
m.displayTwitter = r.bind(e, m, b, l.TWITTER);
o();
}();
for (var x in w) w.hasOwnProperty(x) && (m[x] = w[x]);
m.fire && m.fire("init");
m.setStyle && m.setStyle(d);
m.setAttributes && m.setAttributes(h);
"function" == typeof m.addChildren ? m.addChildren(c) : n.addChildren(m, c);
if (m !== this) {
m.__jx__constructor = u;
m.__jx__native = !1;
}
return m;
}
var u;
t.prototype = _(e.__$$__jx_ui_Widget.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_Widget;
t.__jx__jcss = {
"**self": {
paddingBottom: "15px",
"&.mobile": {
".channel_icon": {
fontSize: "38px",
paddingRight: "10px"
}
},
".label": {
display: "block",
marginBottom: "5px",
fontWeight: "bold"
},
".channel_icon": {
display: "inline-block",
fontSize: "25px",
paddingRight: "5px",
marginTop: "4px",
cursor: "pointer",
textDecoration: "none",
outline: "none"
},
".channel_messenger": {
color: "#0084FF"
},
".channel_twitter": {
color: "#1DA1F2"
}
}
};
l(t, "meshim_widget_widgets_form_OfflineDeflection");
u = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(4), i(21), i(23), i(31), i(17), i(20), i(15), i(3));
}, function(t, e, i) {
(function(e, n, o, r, s, a, _) {
e.__$$__jx_ui_Widget = i(18);
e.__$$__jx_ui_Label = i(104);
e.__$$__meshim_widget_widgets_FakeInput = i(147);
e.__$$__meshim_widget_widgets_Avatar = i(148);
e.__$$__meshim_widget_widgets_iconFont_Button = i(155);
e.__$$__meshim_widget_widgets_ErrorMessage = i(156);
e.__$$__meshim_widget_widgets_TextField = i(131);
e.__$$__meshim_widget_widgets_EmailField = i(157);
e.__$$__meshim_widget_widgets_PhoneField = i(159);
t.exports = function() {
function t(a, _, u, d, c) {
if (!(this instanceof t)) return new t(a, _, u, d, c);
_ = _ || n.generateID();
var h = o(171), f = o(172), p = o(173), g = o(174), m = o(175), $ = o(176), b = o(177), w = o(178), x = o(179), v = o(180), y = o(181), j = o(182), C = o(183), S = [ e.__$$__jx_ui_Widget, "", "", [ [ e.__$$__jx_ui_Widget, "available_types_el", "", [ [ e.__$$__jx_ui_Label, "label_logged_out", "", [ h, [ e.__$$__jx_ui_Label, "label_logged_out_required", "", [], {
id: "label_logged_out_required"
} ] ], {
id: "label_logged_out",
addClass: "label label_logged_out"
} ], [ e.__$$__jx_ui_Label, "label_logged_in", "", [ f ], {
id: "label_logged_in",
addClass: "label label_logged_in"
} ], [ e.__$$__meshim_widget_widgets_FakeInput, "fake_input", "", [ [ e.__$$__meshim_widget_widgets_Avatar, "avatar", "", [], {
id: "avatar",
addClass: "avatar"
} ], [ e.__$$__jx_ui_Label, "internal_placeholder", "", [ p ], {
id: "internal_placeholder",
addClass: "internal_placeholder"
} ], [ e.__$$__jx_ui_Widget, "", "", [ [ e.__$$__jx_ui_Widget, "", "", [ [ e.__$$__jx_ui_Widget, "", "", [ [ e.__$$__jx_ui_Label, "logged_in_name", "", [], {
id: "logged_in_name",
addClass: "logged_in_name"
} ], [ e.__$$__jx_ui_Label, "logged_in_email", "", [], {
id: "logged_in_email",
addClass: "logged_in_email"
} ], [ e.__$$__jx_ui_Label, "logged_in_phone", "", [], {
id: "logged_in_phone",
addClass: "logged_in_phone"
} ], [ e.__$$__jx_ui_Widget, "logged_in_actions", "", [ [ e.__$$__meshim_widget_widgets_iconFont_Button, "logged_in_edit", "", [], {
id: "logged_in_edit",
icon: "pencil",
title: g
} ], [ e.__$$__meshim_widget_widgets_iconFont_Button, "logged_in_clear", "", [], {
id: "logged_in_clear",
icon: "dustbin",
title: m
} ] ], {
id: "logged_in_actions",
addClass: "logged_in_actions"
} ] ], {
addClass: "floater_inner_seriously"
} ] ], {
addClass: "floater_inner"
} ] ], {
addClass: "floater"
} ] ], {
id: "fake_input",
addClass: "fake_input",
tabIndex: "0"
} ], [ e.__$$__meshim_widget_widgets_ErrorMessage, "error_message", "", [ $ ], {
id: "error_message",
addClass: "error_message",
useDisplay: "true"
} ] ], {
id: "available_types_el",
addClass: "field profile_field"
} ], [ e.__$$__jx_ui_Widget, "editing_el", "", [ [ e.__$$__jx_ui_Label, "label_edit_internal", "", [ h, [ e.__$$__jx_ui_Label, "label_edit_internal_required", "", [], {
id: "label_edit_internal_required"
} ] ], {
id: "label_edit_internal",
addClass: "label label_edit_internal"
} ], [ e.__$$__meshim_widget_widgets_TextField, "name", "", [], {
id: "name",
placeholder: b,
addClass: "input_name standalone mobile_error_icon"
} ], [ e.__$$__meshim_widget_widgets_ErrorMessage, "name_error", "", [ w ], {
id: "name_error",
addClass: "error_message",
useDisplay: "true"
} ], [ e.__$$__meshim_widget_widgets_EmailField, "email", "", [], {
id: "email",
placeholder: x,
addClass: "input_email standalone mobile_error_icon"
} ], [ e.__$$__meshim_widget_widgets_ErrorMessage, "email_error", "", [ v ], {
id: "email_error",
addClass: "error_message",
useDisplay: "true"
} ] ], {
id: "editing_el",
addClass: "editing field profile_field"
} ], [ e.__$$__jx_ui_Widget, "edit_external", "", [ [ e.__$$__jx_ui_Label, "", "", [ y ], {
addClass: "edit_external_label"
} ], [ e.__$$__jx_ui_Widget, "edit_external_types", "", [], {
id: "edit_external_types",
addClass: "edit_external_types"
} ] ], {
id: "edit_external",
addClass: "edit_external"
} ], [ e.__$$__jx_ui_Widget, "phone_field", "", [ [ e.__$$__jx_ui_Label, "phone_label", "", [ j, [ e.__$$__jx_ui_Label, "phone_required", "", [], {
id: "phone_required"
} ] ], {
id: "phone_label",
addClass: "label"
} ], [ e.__$$__meshim_widget_widgets_PhoneField, "phone", "", [], {
id: "phone",
addClass: "input_phone mobile_error_icon"
} ], [ e.__$$__meshim_widget_widgets_ErrorMessage, "phone_error", "", [ C ], {
id: "phone_error",
addClass: "error_message",
useDisplay: "true"
} ] ], {
id: "phone_field",
addClass: "field field_phone"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:mui": "meshim.ui",
"xmlns:widgets": "meshim.widget.widgets",
class: "profile_form"
} ], A = S[0].call(this, a, _, null, n.mangleIDs(_, S[3]), S[4]), k = A || this;
n.set(_, k);
var I = n.get(_ + "__available_types_el"), N = n.get(_ + "__label_logged_out"), B = n.get(_ + "__label_logged_out_required"), T = n.get(_ + "__label_logged_in"), D = n.get(_ + "__fake_input"), E = n.get(_ + "__avatar"), O = n.get(_ + "__internal_placeholder"), P = n.get(_ + "__logged_in_name"), L = n.get(_ + "__logged_in_email"), W = n.get(_ + "__logged_in_phone"), R = n.get(_ + "__logged_in_actions"), F = n.get(_ + "__logged_in_edit"), M = n.get(_ + "__logged_in_clear"), V = n.get(_ + "__error_message"), H = n.get(_ + "__editing_el"), z = n.get(_ + "__label_edit_internal"), q = n.get(_ + "__label_edit_internal_required"), U = n.get(_ + "__name"), G = n.get(_ + "__name_error"), Y = n.get(_ + "__email"), X = n.get(_ + "__email_error"), K = n.get(_ + "__edit_external"), Z = n.get(_ + "__edit_external_types"), Q = n.get(_ + "__phone_field"), J = n.get(_ + "__phone_label"), tt = n.get(_ + "__phone_required"), et = n.get(_ + "__phone"), it = n.get(_ + "__phone_error");
if (!t.__jx__jcss_generated) {
r.generate(a, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var nt = function() {
function t() {
var t, e, i, n = g.getValue();
for (e in n) if (n.hasOwnProperty(e)) {
t = n[e];
i = nt[t.name$string];
if (!i) continue;
i.setRequired(!("required$bool" in t) || t.required$bool);
i.setPlaceholder(t.placeholder$string || A[t.name$string]);
}
}
function e() {
var t, e = rt.getValue();
at = 0;
if (e) {
h = e.email$bool;
for (var i in C) if (C.hasOwnProperty(i)) if (e[i + "$bool"]) {
at++;
t = i;
C[i].setDisplay("");
} else C[i].setDisplay("none");
_();
}
}
function n(t) {
$ = t;
_();
}
function r(t) {
b = t;
_();
}
function a(t) {
if (t) {
if ("display_name$string" in t) if (x.isDefaultName(t.display_name$string)) {
P.setText("");
U.setValue("");
} else {
P.setText(t.display_name$string || "");
U.setValue(t.display_name$string || "");
}
if ("email$string" in t) {
L.setText(t.email$string || "");
Y.setValue(t.email$string || "");
}
if ("phone$string" in t) {
W.setText(t.phone$string || "");
et.setValue(t.phone$string || "");
}
_();
}
}
function _() {
b && (f = !1);
N.setDisplay($ ? "none" : "");
T.setDisplay($ ? "" : "none");
I.setDisplay(f ? "none" : "");
E.setDisplay($ ? "" : "none");
O.setDisplay(!$ && h ? "" : "none");
H.setDisplay(f ? "" : "none");
K.setDisplay(!$ && at ? "" : "none");
if (!$ && at) f ? H.addClass("zero_margin") : I.addClass("zero_margin"); else {
I.removeClass("zero_margin");
H.removeClass("zero_margin");
}
if (m) {
N.setDisplay("none");
T.setDisplay("none");
z.setDisplay("none");
}
P.setDisplay($ ? "" : "none");
L.setDisplay($ ? "" : "none");
W.setDisplay($ && k.disabled ? "" : "none");
R.setDisplay(!$ || k.disabled || ft.getValue() ? "none" : "");
$ && !k.disabled ? P.addClass("buttons_pad") : P.removeClass("buttons_pad");
F.setDisplay(b ? "none" : "");
k.setClass("profile_form");
k.disabled && k.addClass("disabled");
p && k.addClass("mobile");
o && o.onLanguage && d();
k.addClass($ ? "logged_in" : "logged_out");
k.addClass(h ? "internal_enabled" : "internal_disabled");
k.addClass(f ? "editing" : "available_types");
at ? 1 == at ? k.addClass("external_one") : k.addClass("external_many") : k.addClass("external_none");
}
function l() {
function t(t) {
if (t && (!t.keyCode || 13 == t.keyCode)) {
var e = t.target.jx_wrapper;
if (e != Z) {
for (;e.parentNode != Z; ) e = e.parentNode;
var i = e.getName && e.getName();
i && w.livechat.doExternalLogin(i);
}
}
}
function i(t) {
t && t.preventDefault();
U.setValidity(!0);
Y.setValidity(!0);
f = !0;
_();
U.focus();
}
function s(t) {
t && t.preventDefault();
w.livechat.doExternalLogout();
D.blur();
ht.getValue() && i();
}
var l;
p = ht.getValue();
p && k.addClass("mobile");
E.setDataNode(ut);
V.setDisplay("none");
k.removeClass("editing").addClass("available_types");
for (l in C) C.hasOwnProperty(l) && (C[l] = new (p ? j : y)(Z, null, null, null, p ? {
name: l,
addClass: "float profile_form_edit_external " + l,
icon: S[l] + "_out"
} : {
name: l,
addClass: "profile_form_icon " + l,
icon: S[l],
title: v.external_login[l] || l,
tabIndex: 0
}));
Z.on("keyup", t);
Z.on(p ? "touchend" : "click", t);
D.on("focus", function() {
$ || k.disabled || h && i();
});
F.on("click", i);
M.on("click", s);
et.setLabelElement(J);
U.setErrorMessageElement(G).hideErrorMessage();
Y.setErrorMessageElement(X).hideErrorMessage();
et.setErrorMessageElement(it).hideErrorMessage();
k.autobind(rt, "value", e);
k.autobind(dt, "value", n);
k.autobind(ut, "value", a);
k.autobind(ct, "value", r);
if (o && o.onLanguage) {
o.onLanguage(d);
d();
}
k.autobind(ft, "value", function() {
u();
_();
});
k.autobind(st, "value", function() {
u();
});
}
function u() {
var t = !ft.getValue() && st.getValue() !== !1 && !k.disabled;
c = t;
Q.setDisplay(t ? "" : "none");
}
function d() {
k[o.rtl() ? "addClass" : "removeClass"]("rtl");
}
var c, h, f, p, g, m, $, b, w = i(41), x = i(51), v = i(99), y = i(160), j = i(161), C = {
facebook: void 0,
twitter: void 0,
google: void 0
}, S = {
facebook: "facebook",
twitter: "twitter",
google: "google_2016"
}, A = {
name: o(184),
email: o(185)
}, nt = {
name: U,
email: Y,
phone: et
}, ot = w.root.$("livechat").$("settings").$("login"), rt = ot.$("allowed_types"), st = ot.$("phone_display$bool"), at = 0, _t = w.root, lt = _t.$("livechat").$("ui"), ut = _t.$("livechat").$("profile"), dt = ut.$("logged_in$bool"), ct = ut.$("auth").$("type$string"), ht = lt.$("mobile$bool"), ft = lt.$("visitor").$("authenticated$bool");
k.submit = function() {
var t = U.getValue().trim(), e = Y.getValue().trim(), i = et.getValue().trim(), n = {};
if (!$ || t || e) {
n.name = t;
n.email = e;
}
c && (n.phone = i);
w.livechat.updateProfile(n);
f = !1;
_();
};
k.setHideLabel = function() {
m = !0;
_();
};
k.setDisabled = function(t) {
t = s(t);
k.disabled = t;
k[t ? "addClass" : "removeClass"]("disabled");
U.setDisabled(t);
Y.setDisabled(t);
u();
};
k.validate = function(t) {
for (var e = !0, i = [ U, Y ], n = 0, o = i.length; n < o; n++) i[n].validate(!!t && e) || (e = !1);
e ? I.removeClass("invalid") : I.addClass("invalid");
V.setDisplay(e ? "none" : "");
c && !et.validate(!!t && e) && (e = !1);
return e;
};
k.setDataNode = function(e) {
if (g != e) {
g && k.autounbind(g, "value", t);
g = e;
g && k.autobind(g, "value", t);
}
};
k.getValue = function() {
var t = {}, e = U.getValue();
x.isDefaultName(e) || (t.name = e);
t.email = Y.getValue();
t.phone = et.getValue();
return t;
};
k.setRequired = function(t) {
t = s(t);
U.setRequired(t);
Y.setRequired(t);
B.setText(t ? " *" : "");
q.setText(t ? " *" : "");
if (!t) {
var e = U.validate(!1);
e = Y.validate(!1) && e;
V.setDisplay(e ? "none" : "");
}
};
k.setPhoneRequired = function(t) {
t = s(t);
et.setRequired(t);
tt.setText(t ? " *" : "");
t || et.validate(!1);
};
l();
}();
for (var ot in nt) nt.hasOwnProperty(ot) && (k[ot] = nt[ot]);
k.fire && k.fire("init");
k.setStyle && k.setStyle(u);
k.setAttributes && k.setAttributes(c);
"function" == typeof k.addChildren ? k.addChildren(d) : n.addChildren(k, d);
if (k !== this) {
k.__jx__constructor = l;
k.__jx__native = !1;
}
return k;
}
var l;
t.prototype = a(e.__$$__jx_ui_Widget.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_Widget;
t.__jx__jcss = {
".label_logged_out": {},
".label_logged_in": {},
".fake_input": {
position: "relative",
overflow: "hidden",
transform: "translateZ(0)",
"*zoom": 1
},
".avatar": {
float: "left",
"width, height": "32px",
marginRight: "5px",
"&": "$$profileFormLoggedIn"
},
"&.rtl .avatar": {
float: "right",
marginRight: 0,
marginLeft: "5px"
},
".internal_placeholder": {
float: "left",
"vertical-align": "top",
cursor: "pointer"
},
"&.rtl .internal_placeholder": {
float: "right"
},
".profile_divider": {
"vertical-align": "top",
marginRight: "5px"
},
"&.rtl .profile_divider": {
marginRight: 0,
marginLeft: "5px"
},
".internal_placeholder, .profile_divider": {
lineHeight: "18px",
"*lineHeight": "18px !important"
},
".editing": {
".input_name": {},
".input_email": {},
".input_phone": {}
},
".edit_external": {
marginTop: "5px",
color: "$$menuHeaderColor",
marginBottom: "15px",
".edit_external_label": {
verticalAlign: "middle"
},
".edit_external_types": {
display: "inline-block",
verticalAlign: "middle",
".profile_form_edit_external": {
display: "inline-block"
}
}
},
"&.rtl .edit_external": {
".edit_external_types": {
".profile_form_edit_external": {
marginLeft: 0,
marginRight: "5px"
}
}
},
".logged_in_name": {
fontWeight: "bold"
},
".logged_in_name.buttons_pad": {
paddingRight: "40px"
},
".logged_in_name, .logged_in_email": {
display: "block",
whiteSpace: "nowrap",
overflow: "hidden",
textOverflow: "ellipsis"
},
"&.rtl .logged_in_name": {
paddingRight: 0
},
"&.rtl .logged_in_name.buttons_pad": {
paddingLeft: "40px"
},
".logged_in_actions": {
position: "absolute",
"top, right": 0,
color: "$$menuHeaderColor",
marginTop: "5px",
marginRight: "5px",
button: {
marginLeft: "5px",
"&:hover, &:focus": {
color: "$$menuColor"
}
},
".divider": {
fontSize: "$$fontSizeXS",
lineHeight: "1.5",
margin: "0 5px",
cursor: "default",
opacity: .5
}
},
"&.rtl .logged_in_actions": {
right: "auto",
left: 0
},
".floater": {
display: "block",
overflow: "hidden",
"*position": "relative !important",
".floater_inner": {
display: "table",
".floater_inner_seriously": {
display: "table-cell",
verticalAlign: "middle"
}
}
},
"&.internal_enabled": {
".floater": {
float: "right",
"*float": "right !important"
}
},
"&.rtl.internal_enabled": {
".floater": {
float: "left"
}
},
"&.logged_in, &.internal_disabled": {
".floater": {
".floater_inner": {
tableLayout: "fixed",
width: "100%",
height: "32px"
}
}
},
"&.logged_in": {
".fake_input": {
background: "$$formSubmittedBg",
borderRadius: "$$formSubmittedRadius",
borderWidth: "$$formSubmittedBorderWidth",
borderStyle: "$$formSubmittedBorderStyle",
borderColor: "$$formSubmittedBorderColor"
},
".floater": {
float: "none !important"
}
},
"&.logged_out.internal_disabled, &.logged_in": {
".fake_input": {}
},
".profile_form_icon": {
cursor: "pointer",
display: "inline-block",
marginLeft: "5px",
"height, fontSize": "17px",
lineHeight: "21px",
"*padding": "0 !important",
"*marginLeft": "5px !important"
},
"&.rtl .profile_form_icon": {
marginLeft: 0,
marginRight: "5px"
},
".field": {
marginBottom: "15px",
"&.last-child": {
marginBottom: 0
},
"&.profile_field": {
"*padding": "0 !important",
"&.invalid": {},
"&.zero_margin": {
marginBottom: "0"
}
}
},
".label": {
display: "block",
marginBottom: "5px",
fontWeight: "bold"
},
"&.mobile": {
".avatar": {
"width, height": "36px"
},
"&.available_types": {
".fake_input": {
".internal_placeholder": {
lineHeight: "25px"
},
".profile_divider": {
lineHeight: "44px",
marginRight: "10px"
}
},
".floater": {
position: "absolute",
top: 0,
right: "-2px",
height: "100%"
},
".profile_form_icon": {
"marginLeft, marginRight": 0,
width: "auto",
height: "46px",
padding: "13px 12px 10px",
borderWidth: "0 0 0 1px",
borderRadius: "0",
".icon_font": {
textAlign: "center"
},
"&.google": {
"paddingLeft, paddingRight": "8px"
}
},
"&.logged_in": {
".fake_input": {},
".floater": {
position: "relative",
"top, right, left": 0
}
}
},
".logged_in_name, .logged_in_email": {
paddingRight: "80px"
},
".logged_in_actions": {
margin: "0px",
height: "100%",
button: {
height: "100%",
padding: "0 5px"
}
},
".editing": {
".name_container, .email_container": {
position: "relative",
"input.invalid ~ .error_icon": {
display: "block"
}
}
},
".edit_external": {
marginBottom: "15px",
".edit_external_types": {
display: "block",
marginTop: "10px"
}
}
},
"&.rtl.mobile": {
".floater": {
right: "auto",
left: "-2px"
},
".profile_divider": {
marginRight: 0,
marginLeft: "10px"
},
".logged_in_name, .logged_in_email": {
paddingRight: 0,
paddingLeft: "80px"
},
"&.available_types": {
".profile_form_icon": {
borderWidth: "0 1px 0 0"
}
}
},
"&.disabled": {
".field": {
marginBottom: 0
},
".fake_input": {
border: "none",
background: "transparent"
},
".field_phone": {
display: "none"
}
}
};
_(t, "meshim_widget_widgets_form_Profile");
l = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(4), i(21), i(23), i(31), i(17), i(15), i(3));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t, e, i, r, _) {
if (!(this instanceof n)) return new n(t, e, i, r, _);
if (!n.__jx__jcss_generated) {
o.generate(this, n.prototype.__jx__fqname, n.__jx__jcss, null, n);
n.__jx__jcss_generated = !0;
}
_ || (_ = {});
_.tagName || (_.tagName = "div");
s.call(this, t, e, i, r, _);
a.__constructor.call(this);
}
var o = i(31), r = i(15), s = i(18), a = i(133);
n.__jx__jcss = {};
n.prototype = r(s.prototype);
n.prototype.__jx__super = a;
t.exports = n;
e(n, "meshim_widget_widgets_FakeInput");
return n;
}();
}).call(e, i(3));
}, function(t, e, i) {
(function(e, n, o, r, s) {
e.__$$__meshim_widget_widgets_Gravatar = i(149);
t.exports = function() {
function t(r, s, _, l, u) {
if (!(this instanceof t)) return new t(r, s, _, l, u);
s = s || n.generateID();
var d = [ e.__$$__meshim_widget_widgets_Gravatar, "", "", [], {
xmlns: "jx.ui.html",
"xmlns:mui": "meshim.ui",
"xmlns:widgets": "meshim.widget.widgets"
} ], c = d[0].call(this, r, s, null, n.mangleIDs(s, d[3]), d[4]), h = c || this;
n.set(s, h);
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var f = function() {
function t() {
h.setMemberId = e;
}
function e(t) {
s.test(t) ? h.setDataNode(a.$("settings").$("concierge")) : o.test(t) ? h.setDataNode(a.$("ui").$("cache_agents").$(t)) : r.test(t) ? h.setDataNode(a.$("profile")) : h.setDataNode(a.$("settings").$("concierge"));
return h;
}
var n = i(41), o = /^agent/i, r = /^visitor/i, s = /^agent:trigger$/, a = n.root.$("livechat");
t();
}();
for (var p in f) f.hasOwnProperty(p) && (h[p] = f[p]);
h.fire && h.fire("init");
h.setStyle && h.setStyle(_);
h.setAttributes && h.setAttributes(u);
"function" == typeof h.addChildren ? h.addChildren(l) : n.addChildren(h, l);
if (h !== this) {
h.__jx__constructor = a;
h.__jx__native = !1;
}
return h;
}
var a;
t.prototype = r(e.__$$__meshim_widget_widgets_Gravatar.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__meshim_widget_widgets_Gravatar;
t.__jx__jcss = {};
s(t, "meshim_widget_widgets_Avatar");
a = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(4), i(21), i(31), i(15), i(3));
}, function(t, e, i) {
(function(e, n, o, r, s, a) {
e.__$$__jx_ui_html_div = i(124);
t.exports = function() {
function t(s, a, l, u, d) {
if (!(this instanceof t)) return new t(s, a, l, u, d);
a = a || n.generateID();
var c = [ e.__$$__jx_ui_html_div, "", "", [], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui"
} ], h = c[0].call(this, s, a, null, n.mangleIDs(a, c[3]), c[4]), f = h || this;
n.set(a, f);
if (!t.__jx__jcss_generated) {
o.generate(s, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var p = function() {
function t() {
f.setImages = l;
f.setDataNode = n;
f.setMemberNode = o;
f.setGroupNode = s;
f.setHideAuthType = e;
}
function e(t) {
f[r(t) ? "addClass" : "removeClass"]("hide_auth_type");
return f;
}
function n(t) {
f.autounbind();
"agents" == t.name ? s(t) : o(t);
}
function o(t) {
var e = u([ t ]);
e.setNodes([ t ]);
}
function s(t) {
d && f.autounbind(d, "keys", a);
d = t;
d && f.autobind(d, "keys", a);
}
function a() {
for (var t = d.getKeys(), e = [], i = 0, n = Math.min(3, t.length); i < n; i++) e.push(d.$(t[i]));
_(e);
}
function _(t) {
var e = u(t);
e && e.setNodes(t);
}
function l(t) {
var e = u(t);
e && e.setImages(t);
}
function u(t) {
if (t instanceof Array && t.length) {
var e = Math.min(t.length, 4), i = b[e - 1];
if (e !== h) {
f.empty();
c = new i(f);
h = e;
}
return c;
}
}
var d, c, h, p = i(150), g = i(152), m = i(153), $ = i(154), b = [ p, g, m, $ ];
t();
}();
for (var g in p) p.hasOwnProperty(g) && (f[g] = p[g]);
f.fire && f.fire("init");
f.setStyle && f.setStyle(l);
f.setAttributes && f.setAttributes(d);
"function" == typeof f.addChildren ? f.addChildren(u) : n.addChildren(f, u);
if (f !== this) {
f.__jx__constructor = _;
f.__jx__native = !1;
}
return f;
}
var _;
t.prototype = s(e.__$$__jx_ui_html_div.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_html_div;
t.__jx__jcss = {
"**self": {
width: "60px",
height: "60px",
position: "relative",
overflow: "hidden",
borderWidth: "$$avatarBorderWidth",
borderStyle: "$$avatarBorderStyle",
borderColor: "$$avatarBorderColor",
borderRadius: "$$avatarRadius",
boxShadow: "$$avatarShadow",
".avatar": {
background: "#FFF"
},
"&.hide_auth_type": {
".auth_type": {
display: "none !important"
}
}
}
};
a(t, "meshim_widget_widgets_Gravatar");
_ = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(4), i(21), i(31), i(17), i(15), i(3));
}, function(t, e, i) {
(function(e, n, o, r, s) {
e.__$$__jx_ui_html_div = i(124);
e.__$$__meshim_widget_widgets_gravatar_GravatarImage = i(151);
t.exports = function() {
function t(r, s, a, _, l) {
if (!(this instanceof t)) return new t(r, s, a, _, l);
s = s || n.generateID();
var u = [ e.__$$__jx_ui_html_div, "", "", [ [ e.__$$__meshim_widget_widgets_gravatar_GravatarImage, "image", "", [], {
id: "image",
addClass: "avatar"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:mui": "meshim.ui",
"xmlns:gravatar": "meshim.widget.widgets.gravatar",
class: "gravatarOne"
} ], d = u[0].call(this, r, s, null, n.mangleIDs(s, u[3]), u[4]), c = d || this;
n.set(s, c);
var h = n.get(s + "__image");
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var f = function() {
function t(t) {
t instanceof Array && h.setSrc(t[0]);
}
function e(t) {
t instanceof Array && h.setDataNode(t[0]);
}
c.setImages = t;
c.setNodes = e;
}();
for (var p in f) f.hasOwnProperty(p) && (c[p] = f[p]);
c.fire && c.fire("init");
c.setStyle && c.setStyle(a);
c.setAttributes && c.setAttributes(l);
"function" == typeof c.addChildren ? c.addChildren(_) : n.addChildren(c, _);
if (c !== this) {
c.__jx__constructor = i;
c.__jx__native = !1;
}
return c;
}
var i;
t.prototype = r(e.__$$__jx_ui_html_div.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_html_div;
t.__jx__jcss = {
"**self": {
position: "relative",
width: "100%",
height: "100%",
".avatar": {
width: "100%",
height: "100%",
border: "0px none"
}
}
};
s(t, "meshim_widget_widgets_gravatar_GravatarOne");
i = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(4), i(21), i(31), i(15), i(3));
}, function(t, e, i) {
(function(e, n, o, r, s) {
e.__$$__jx_ui_Widget = i(18);
e.__$$__jx_ui_html_img = i(128);
e.__$$__meshim_widget_widgets_IconFont = i(98);
t.exports = function() {
function t(r, s, _, l, u) {
if (!(this instanceof t)) return new t(r, s, _, l, u);
s = s || n.generateID();
var d = [ e.__$$__jx_ui_Widget, "", "", [ [ e.__$$__jx_ui_html_img, "img", "", [], {
id: "img",
class: "img"
} ], [ e.__$$__meshim_widget_widgets_IconFont, "auth_type", "", [], {
id: "auth_type",
addClass: "auth_type"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:widgets": "meshim.widget.widgets"
} ], c = d[0].call(this, r, s, null, n.mangleIDs(s, d[3]), d[4]), h = c || this;
n.set(s, h);
var f = n.get(s + "__img"), p = n.get(s + "__auth_type");
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var g = function() {
function t() {
h.autobind($, "value", function(t) {
d && t != d && o();
});
}
function e(t) {
n();
l && h.autounbind(l, "value", o);
l = t;
l && h.autobind(l, "value", o);
}
function n() {
x = v = j = "";
p.setDisplay("none");
}
function o() {
if (l) {
switch (l.name) {
case "profile":
u = "visitor";
break;

case "concierge":
u = "concierge";
break;

default:
u = "agent";
}
var t = l.getValue() || {};
t.nick$string && (y = t.nick$string);
t.display_name$string && !m.isDefaultName(t.display_name$string) && r(t.display_name$string);
var e;
e = t.auth && t.auth.avatar$string ? t.auth.avatar$string : t.avatar_data$string ? t.avatar_data$string : t.avatar_path$string ? t.avatar_path$string : "";
s(e);
var i;
i = t.auth && "type$string" in t.auth ? t.auth.type$string : "";
a(i);
}
}
function r(t) {
if (t && t != x) {
h.setTitle(t);
x = t;
}
}
function s(t) {
var e = t || _();
if (e && e != v) {
f.setSrc(m.replaceFileHostname(e));
v = e;
}
}
function a(t) {
if (t !== j) {
p.removeClass(j);
j = t;
p.addClass(j);
p.setIcon(j);
p.setDisplay(j ? "" : "none");
}
}
function _() {
var t = $.getValue(), e = w.getValue() || {};
d = t;
var i;
switch (u) {
case "visitor":
i = e.visitor$string || c.AVATARS.VISITOR;
break;

case "concierge":
i = e.concierge$string || c.AVATARS.CONCIERGE;
break;

case "agent":
i = b.getValue() || e.agent$string || c.AVATARS.AGENT;
}
return i || c.AVATARS.DEFAULT;
}
var l, u, d, c = i(43), g = i(41), m = i(51), $ = g.root.$("livechat").$("settings").$("theme").$("name$string"), b = g.root.$("livechat").$("settings").$("concierge").$("avatar_path$string"), w = g.root.$("livechat").$("settings").$("theme"), x = "", v = "", y = "", j = "";
h.setDataNode = e;
t();
}();
for (var m in g) g.hasOwnProperty(m) && (h[m] = g[m]);
h.fire && h.fire("init");
h.setStyle && h.setStyle(_);
h.setAttributes && h.setAttributes(u);
"function" == typeof h.addChildren ? h.addChildren(l) : n.addChildren(h, l);
if (h !== this) {
h.__jx__constructor = a;
h.__jx__native = !1;
}
return h;
}
var a;
t.prototype = r(e.__$$__jx_ui_Widget.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_Widget;
t.__jx__jcss = {
"**self": {
position: "relative"
},
".img": {
"width, height": "100%"
},
".auth_type": {
position: "absolute",
"bottom, left": 0,
background: "#FFF",
"fontSize, width, height": "12px",
"line-height": "16px",
overflow: "hidden",
borderRadius: "2px",
"&.facebook": {
color: "$$facebook"
},
"&.twitter": {
color: "$$twitter"
},
"&.google": {
color: "$$google"
}
}
};
s(t, "meshim_widget_widgets_gravatar_GravatarImage");
a = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(4), i(21), i(31), i(15), i(3));
}, function(t, e, i) {
(function(e, n, o, r, s) {
e.__$$__jx_ui_html_div = i(124);
e.__$$__meshim_widget_widgets_gravatar_GravatarImage = i(151);
t.exports = function() {
function t(r, s, a, _, l) {
if (!(this instanceof t)) return new t(r, s, a, _, l);
s = s || n.generateID();
var u = [ e.__$$__jx_ui_html_div, "", "", [ [ e.__$$__meshim_widget_widgets_gravatar_GravatarImage, "image2", "", [], {
id: "image2",
addClass: "avatar avatar2"
} ], [ e.__$$__meshim_widget_widgets_gravatar_GravatarImage, "image1", "", [], {
id: "image1",
addClass: "avatar avatar1"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:mui": "meshim.ui",
"xmlns:gravatar": "meshim.widget.widgets.gravatar",
class: "gravatarTwo"
} ], d = u[0].call(this, r, s, null, n.mangleIDs(s, u[3]), u[4]), c = d || this;
n.set(s, c);
var h = n.get(s + "__image2"), f = n.get(s + "__image1");
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var p = function() {
function t(t) {
if (t instanceof Array) {
f.setSrc(t[0]);
h.setSrc(t[1]);
}
}
function e(t) {
if (t instanceof Array) {
f.setDataNode(t[0]);
h.setDataNode(t[1]);
}
}
c.setImages = t;
c.setNodes = e;
}();
for (var g in p) p.hasOwnProperty(g) && (c[g] = p[g]);
c.fire && c.fire("init");
c.setStyle && c.setStyle(a);
c.setAttributes && c.setAttributes(l);
"function" == typeof c.addChildren ? c.addChildren(_) : n.addChildren(c, _);
if (c !== this) {
c.__jx__constructor = i;
c.__jx__native = !1;
}
return c;
}
var i;
t.prototype = r(e.__$$__jx_ui_html_div.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_html_div;
t.__jx__jcss = {
"**self": {
position: "relative",
width: "100%",
height: "100%",
overflow: "hidden",
".avatar": {
width: "100%",
height: "100%"
},
".avatar1": {
position: "absolute",
top: "0",
left: "-33%",
borderTop: "0px none",
borderLeft: "0px none",
borderBottom: "0px none"
},
".avatar2": {
position: "absolute",
top: "0",
left: "33%",
border: "0px none"
}
}
};
s(t, "meshim_widget_widgets_gravatar_GravatarTwo");
i = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(4), i(21), i(31), i(15), i(3));
}, function(t, e, i) {
(function(e, n, o, r, s) {
e.__$$__jx_ui_html_div = i(124);
e.__$$__meshim_widget_widgets_gravatar_GravatarImage = i(151);
t.exports = function() {
function t(r, s, a, _, l) {
if (!(this instanceof t)) return new t(r, s, a, _, l);
s = s || n.generateID();
var u = [ e.__$$__jx_ui_html_div, "", "", [ [ e.__$$__meshim_widget_widgets_gravatar_GravatarImage, "image3", "", [], {
id: "image3",
addClass: "avatar avatar3"
} ], [ e.__$$__meshim_widget_widgets_gravatar_GravatarImage, "image2", "", [], {
id: "image2",
addClass: "avatar avatar2"
} ], [ e.__$$__meshim_widget_widgets_gravatar_GravatarImage, "image1", "", [], {
id: "image1",
addClass: "avatar avatar1"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:mui": "meshim.ui",
"xmlns:gravatar": "meshim.widget.widgets.gravatar",
class: "gravatarThree"
} ], d = u[0].call(this, r, s, null, n.mangleIDs(s, u[3]), u[4]), c = d || this;
n.set(s, c);
var h = n.get(s + "__image3"), f = n.get(s + "__image2"), p = n.get(s + "__image1");
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var g = function() {
function t(t) {
if (t instanceof Array) {
p.setSrc(t[0]);
f.setSrc(t[1]);
h.setSrc(t[2]);
}
}
function e(t) {
if (t instanceof Array) {
p.setDataNode(t[0]);
f.setDataNode(t[1]);
h.setDataNode(t[2]);
}
}
c.setImages = t;
c.setNodes = e;
}();
for (var m in g) g.hasOwnProperty(m) && (c[m] = g[m]);
c.fire && c.fire("init");
c.setStyle && c.setStyle(a);
c.setAttributes && c.setAttributes(l);
"function" == typeof c.addChildren ? c.addChildren(_) : n.addChildren(c, _);
if (c !== this) {
c.__jx__constructor = i;
c.__jx__native = !1;
}
return c;
}
var i;
t.prototype = r(e.__$$__jx_ui_html_div.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_html_div;
t.__jx__jcss = {
"**self": {
position: "relative",
width: "100%",
height: "100%",
overflow: "hidden",
".avatar1": {
position: "absolute",
top: "0",
left: "-33%",
width: "100%",
height: "100%",
borderLeft: "0px none",
borderTop: "0px none",
borderBottom: "0px none"
},
".avatar2": {
position: "absolute",
top: "0",
right: "-8%",
width: "50%",
height: "50%",
borderLeft: "0px none",
borderTop: "0px none",
borderRight: "0px none"
},
".avatar3": {
position: "absolute",
bottom: "0",
right: "-8%",
width: "50%",
height: "50%",
border: "0px none"
}
}
};
s(t, "meshim_widget_widgets_gravatar_GravatarThree");
i = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(4), i(21), i(31), i(15), i(3));
}, function(t, e, i) {
(function(e, n, o, r, s) {
e.__$$__jx_ui_html_div = i(124);
e.__$$__meshim_widget_widgets_gravatar_GravatarImage = i(151);
t.exports = function() {
function t(r, s, a, _, l) {
if (!(this instanceof t)) return new t(r, s, a, _, l);
s = s || n.generateID();
var u = [ e.__$$__jx_ui_html_div, "", "", [ [ e.__$$__meshim_widget_widgets_gravatar_GravatarImage, "image4", "", [], {
id: "image4",
addClass: "avatar avatar4"
} ], [ e.__$$__meshim_widget_widgets_gravatar_GravatarImage, "image3", "", [], {
id: "image3",
addClass: "avatar avatar3"
} ], [ e.__$$__meshim_widget_widgets_gravatar_GravatarImage, "image2", "", [], {
id: "image2",
addClass: "avatar avatar2"
} ], [ e.__$$__meshim_widget_widgets_gravatar_GravatarImage, "image1", "", [], {
id: "image1",
addClass: "avatar avatar1"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:mui": "meshim.ui",
"xmlns:gravatar": "meshim.widget.widgets.gravatar",
class: "gravatarFour"
} ], d = u[0].call(this, r, s, null, n.mangleIDs(s, u[3]), u[4]), c = d || this;
n.set(s, c);
var h = n.get(s + "__image4"), f = n.get(s + "__image3"), p = n.get(s + "__image2"), g = n.get(s + "__image1");
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var m = function() {
function t(t) {
if (t instanceof Array) {
g.setSrc(t[0]);
p.setSrc(t[1]);
f.setSrc(t[2]);
h.setSrc(t[3]);
}
}
function e(t) {
if (t instanceof Array) {
g.setDataNode(t[0]);
p.setDataNode(t[1]);
f.setDataNode(t[2]);
h.setDataNode(t[3]);
}
}
c.setImages = t;
c.setNodes = e;
}();
for (var $ in m) m.hasOwnProperty($) && (c[$] = m[$]);
c.fire && c.fire("init");
c.setStyle && c.setStyle(a);
c.setAttributes && c.setAttributes(l);
"function" == typeof c.addChildren ? c.addChildren(_) : n.addChildren(c, _);
if (c !== this) {
c.__jx__constructor = i;
c.__jx__native = !1;
}
return c;
}
var i;
t.prototype = r(e.__$$__jx_ui_html_div.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_html_div;
t.__jx__jcss = {
"**self": {
position: "relative",
width: "100%",
height: "100%",
overflow: "hidden",
lineHeight: "0px",
".avatar": {
position: "absolute",
width: "50%",
height: "50%"
},
".avatar1": {
top: 0,
left: 0,
borderTop: "0px none",
borderLeft: "0px none"
},
".avatar2": {
top: 0,
right: 0,
borderTop: "0px none",
borderRight: "0px none",
borderLeft: "0px none"
},
".avatar3": {
bottom: 0,
left: 0,
borderTop: "0px none",
borderBottom: "0px none",
borderLeft: "0px none"
},
".avatar4": {
bottom: 0,
right: 0,
border: "0px none"
}
}
};
s(t, "meshim_widget_widgets_gravatar_GravatarFour");
i = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(4), i(21), i(31), i(15), i(3));
}, function(t, e, i) {
(function(e, n, o, r, s) {
e.__$$__jx_ui_Button = i(120);
e.__$$__meshim_widget_widgets_IconFont = i(98);
t.exports = function() {
function t(r, s, _, l, u) {
if (!(this instanceof t)) return new t(r, s, _, l, u);
s = s || n.generateID();
var d = [ e.__$$__jx_ui_Button, "", "", [ [ e.__$$__meshim_widget_widgets_IconFont, "i", "", [], {
id: "i"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:widgets": "meshim.widget.widgets"
} ], c = d[0].call(this, r, s, null, n.mangleIDs(s, d[3]), d[4]), h = c || this;
n.set(s, h);
var f = n.get(s + "__i");
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var p = function() {
var t = i(97);
t.mobile(h);
var e;
h.setIcon = function(t) {
e && f.removeClass(e);
e = t;
e && f.addClass(e);
return f.setIcon.apply(f, arguments);
};
}();
for (var g in p) p.hasOwnProperty(g) && (h[g] = p[g]);
h.fire && h.fire("init");
h.setStyle && h.setStyle(_);
h.setAttributes && h.setAttributes(u);
"function" == typeof h.addChildren ? h.addChildren(l) : n.addChildren(h, l);
if (h !== this) {
h.__jx__constructor = a;
h.__jx__native = !1;
}
return h;
}
var a;
t.prototype = r(e.__$$__jx_ui_Button.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_Button;
t.__jx__jcss = {
"**self": {
background: "transparent",
border: "none",
color: "inherit",
".icon_font": {
display: "inline",
lineHeight: "inherit",
verticalAlign: "middle",
fontSize: "$$fontSizeL"
}
},
"&.mobile": {
".icon_font": {
position: "relative",
fontSize: "$$fontSizeXXL"
}
}
};
s(t, "meshim_widget_widgets_iconFont_Button");
a = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(4), i(21), i(31), i(15), i(3));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t, e, i, r, a) {
if (!(this instanceof n)) return new n(t, e, i, r, a);
if (!n.__jx__jcss_generated) {
o.generate(this, n.prototype.__jx__fqname, n.__jx__jcss, null, n);
n.__jx__jcss_generated = !0;
}
s.call(this, t, e, i, r, a);
}
var o = i(31), r = i(15), s = i(18);
n.__jx__jcss = {
"**self": {
marginTop: "$$marginS",
marginBottom: "$$margin",
color: "$$errorMessageColor",
fontWeight: "$$errorMessageFontWeight",
fontStyle: "$$errorMessageFontStyle"
}
};
n.prototype = r(s.prototype);
n.prototype.__jx__super = s;
t.exports = n;
e(n, "meshim_widget_widgets_ErrorMessage");
return n;
}();
}).call(e, i(3));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
var n = i(31), o = i(15), r = i(158), s = r, a = i(133);
r = function(t, e, i, o, _) {
if (!(this instanceof r)) return new r(t, e, i, o, _);
if (!r.__jx__jcss_generated) {
n.generate(this, r.prototype.__jx__fqname, r.__jx__jcss, null, r);
r.__jx__jcss_generated = !0;
}
s.call(this, t, e, i, o, _);
a.__constructor.call(this);
};
r.__jx__jcss = {};
r.prototype = o(s.prototype);
r.prototype.__jx__super = a;
t.exports = r;
e(r, "meshim_widget_widgets_EmailField");
return r;
}();
}).call(e, i(3));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t, e, i, o, s) {
if (!(this instanceof n)) return new n(t, e, i, o, s);
s || (s = {});
s.tagName || (s.tagName = "input");
s.type || (s.type = "email");
r.call(this, t, e, i, o, s);
}
var o = i(15), r = i(132);
n.prototype = o(r.prototype);
var s = r.prototype.getValue;
n.prototype.getValue = function() {
return (s.call(this) || "").trim();
};
t.exports = n;
e(n, "jx_ui_EmailField");
return n;
}();
}).call(e, i(3));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t, e, i, r, _) {
if (!(this instanceof n)) return new n(t, e, i, r, _);
if (!n.__jx__jcss_generated) {
o.generate(this, n.prototype.__jx__fqname, n.__jx__jcss, null, n);
n.__jx__jcss_generated = !0;
}
_ || (_ = {});
_.pattern || (_.pattern = "(^$|[0-9]+)");
_.type || (_.type = "tel");
s.call(this, t, e, i, r, _);
a.__constructor.call(this);
}
var o = i(31), r = i(15), s = i(132), a = i(133);
n.__jx__jcss = {};
n.prototype = r(s.prototype);
n.prototype.__jx__super = a;
t.exports = n;
e(n, "meshim_widget_widgets_PhoneField");
return n;
}();
}).call(e, i(3));
}, function(t, e, i) {
(function(e, n, o, r, s) {
e.__$$__meshim_widget_widgets_IconFont = i(98);
t.exports = function() {
function t(r, s, a, _, l) {
if (!(this instanceof t)) return new t(r, s, a, _, l);
s = s || n.generateID();
var u = [ e.__$$__meshim_widget_widgets_IconFont, "", "", [], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:widgets": "meshim.widget.widgets"
} ], d = u[0].call(this, r, s, null, n.mangleIDs(s, u[3]), u[4]), c = d || this;
n.set(s, c);
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var h = void 0;
for (var f in h) h.hasOwnProperty(f) && (c[f] = h[f]);
c.fire && c.fire("init");
c.setStyle && c.setStyle(a);
c.setAttributes && c.setAttributes(l);
"function" == typeof c.addChildren ? c.addChildren(_) : n.addChildren(c, _);
if (c !== this) {
c.__jx__constructor = i;
c.__jx__native = !1;
}
return c;
}
var i;
t.prototype = r(e.__$$__meshim_widget_widgets_IconFont.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__meshim_widget_widgets_IconFont;
t.__jx__jcss = {
"&.facebook": {
color: "$$facebook"
},
"&.twitter": {
color: "$$twitter"
},
"&.google": {
color: "$$google"
},
"&:hover, &:focus, &:active": {
"&.facebook": {
color: "$$facebookActive"
},
"&.twitter": {
color: "$$twitterActive"
},
"&.google": {
color: "$$googleActive"
}
}
};
s(t, "meshim_widget_widgets_iconFont_Auth");
i = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(4), i(21), i(31), i(15), i(3));
}, function(t, e, i) {
(function(e, n, o, r, s) {
e.__$$__meshim_widget_widgets_Button = i(162);
e.__$$__meshim_widget_widgets_IconFont = i(98);
t.exports = function() {
function t(r, s, a, _, l) {
if (!(this instanceof t)) return new t(r, s, a, _, l);
s = s || n.generateID();
var u = [ e.__$$__meshim_widget_widgets_Button, "", "", [ [ e.__$$__meshim_widget_widgets_IconFont, "i", "", [], {
id: "i",
addClass: "auth_icon_font"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:widgets": "meshim.widget.widgets"
} ], d = u[0].call(this, r, s, null, n.mangleIDs(s, u[3]), u[4]), c = d || this;
n.set(s, c);
var h = n.get(s + "__i");
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var f = function() {
c.setIcon = function() {
h.setIcon.apply(h, arguments);
};
}();
for (var p in f) f.hasOwnProperty(p) && (c[p] = f[p]);
c.fire && c.fire("init");
c.setStyle && c.setStyle(a);
c.setAttributes && c.setAttributes(l);
"function" == typeof c.addChildren ? c.addChildren(_) : n.addChildren(c, _);
if (c !== this) {
c.__jx__constructor = i;
c.__jx__native = !1;
}
return c;
}
var i;
t.prototype = r(e.__$$__meshim_widget_widgets_Button.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__meshim_widget_widgets_Button;
t.__jx__jcss = {
"**self": {
overflow: "hidden",
paddingTop: "10px",
paddingBottom: "6px",
background: "$$authButtonBg",
borderColor: "$$authButtonBorderColor",
boxShadow: "$$authButtonShadow",
"&.facebook": {
color: "$$facebook"
},
"&.twitter": {
color: "$$twitter"
},
"&.google": {
color: "$$google"
}
},
"&:hover, &:focus, &:active": {
".auth_icon_font": {
color: "#FFFFFF"
},
"&.facebook": {
background: "$$facebook"
},
"&.twitter": {
background: "$$twitter"
},
"&.google": {
background: "$$google"
}
},
"&.float": {
width: "30%",
margin: "0 3% 0 0"
},
"&.mobile": {
".auth_icon_font": {
textAlign: "center",
fontSize: "22px"
}
}
};
s(t, "meshim_widget_widgets_iconFont_AuthButton");
i = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(4), i(21), i(31), i(15), i(3));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
var n = i(31), o = i(23), r = i(15), s = i(120), a = s, _ = i(18), l = i(41), u = i(97);
s = function(t, e, i, r, _) {
function d() {
c.fixOverflowTitle();
}
if (!(this instanceof s)) return new s(t, e, i, r, _);
if (!s.__jx__jcss_generated) {
n.generate(this, s.prototype.__jx__fqname, s.__jx__jcss, null, s);
s.__jx__jcss_generated = !0;
}
_ || (_ = {});
_.type || (_.type = "button");
a.call(this, t, e, i, r, _);
u.mobile(this);
u.rtl(this);
var c = this;
if (r && 1 == r.length && ("string" == typeof r[0] || r[0].bind)) {
if (o && o.onLanguage) {
o.onLanguage(d);
this.onDestruction(function() {
o.unLanguage(d);
});
}
this.autobind(l.root.$("livechat").$("ui").$("theme_loaded$bool"), "value", function(t) {
t && c.fixOverflowTitle();
});
}
};
s.__jx__jcss = {
"**self": {
appearance: "none",
width: "48%",
overflow: "hidden",
textOverflow: "ellipsis",
whiteSpace: "nowrap",
color: "$$buttonColor",
background: "$$buttonBg",
"paddingTop, paddingBottom": "$$buttonPadding",
"paddingLeft, paddingRight": "$$buttonPaddingHorizontal",
borderWidth: "$$buttonBorderWidth",
borderStyle: "$$buttonBorderStyle",
borderColor: "$$buttonBorderColor",
borderRadius: "$$buttonRadius",
boxShadow: "$$buttonShadow",
fontWeight: "$$buttonFontWeight",
wordWrap: "normal",
"*overflow": "visible",
cursor: "pointer",
"&:hover, &:focus": {
color: "$$buttonHoverColor",
background: "$$buttonHoverBg",
borderColor: "$$buttonHoverBorderColor",
boxShadow: "$$buttonHoverShadow"
},
"&:active": {
color: "$$buttonActiveColor",
background: "$$buttonActiveBg",
borderColor: "$$buttonActiveBorderColor",
boxShadow: "$$buttonActiveShadow"
}
},
"&.secondary": {
color: "$$buttonSecColor",
background: "$$buttonSecBg",
borderColor: "$$buttonSecBorderColor",
boxShadow: "$$buttonSecShadow",
"&:hover, &:focus": {
color: "$$buttonSecHoverColor",
background: "$$buttonSecHoverBg",
borderColor: "$$buttonSecHoverBorderColor",
boxShadow: "$$buttonSecHoverShadow"
},
"&:active": {
color: "$$buttonSecActiveColor",
background: "$$buttonSecActiveBg",
borderColor: "$$buttonSecActiveBorderColor",
boxShadow: "$$buttonSecActiveShadow"
}
},
"&.disabled": {
opacity: "0.5",
cursor: "default",
"&:hover, &:focus": {
color: "$$buttonColor",
background: "$$buttonBg",
borderColor: "$$buttonBorderColor",
boxShadow: "$$buttonShadow"
}
},
"&.fit": {
width: "auto",
"paddingLeft, paddingRight": "$$buttonPadding"
},
"&.wide": {
width: "100%"
},
"&.short": {
"paddingTop, paddingBottom": "$$buttonShortPadding"
},
"&.short.mobile": {
"paddingTop, paddingBottom": "$$buttonPadding"
},
"&.short.mobile.short_mobile": {
"paddingTop, paddingBottom": "$$buttonShortPadding"
}
};
s.prototype = r(a.prototype);
var d = [ "fontFamily", "fontSize", "fontWeight", "fontStyle" ];
s.prototype.fixOverflowTitle = function() {
if ("en" != o.language) {
s.dummy || (s.dummy = new _(this.doc.body, null, null, null, {
position: "absolute",
visibility: "hidden"
}));
var t = this.getText(), e = this.getComputedStyle();
if (e) {
for (var i = 0, n = d.length; i < n; i++) s.dummy.style[d[i]] = e[d[i]];
s.dummy.setText(t);
var r = s.dummy.getWidth(), a = parseInt(e.width, 10) || 0 - (parseInt(e.paddingLeft, 10) || 0) - (parseInt(e.paddingRight, 10) || 0) - (parseInt(e.borderLeftWidth, 10) || 0) - (parseInt(e.borderRightWidth, 10) || 0);
this.setTitle(r > 0 && a > 0 && r > a ? t : "");
}
} else this.setTitle("");
};
s.prototype.__jx__super = a;
t.exports = s;
e(s, "meshim_widget_widgets_Button");
return s;
}();
}).call(e, i(3));
}, function(t, e, i) {
(function(e, n, o, r, s, a, _, l) {
e.__$$__jx_ui_Widget = i(18);
t.exports = function() {
function t(_, l, d, c, h) {
if (!(this instanceof t)) return new t(_, l, d, c, h);
l = l || n.generateID();
var f = [ e.__$$__jx_ui_Widget, "", "", [ [ e.__$$__jx_ui_Widget, "container", "", [], {
id: "container"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:mui": "meshim.ui",
"xmlns:widgets": "meshim.widget.widgets",
class: "generated_form"
} ], p = f[0].call(this, _, l, null, n.mangleIDs(l, f[3]), f[4]), g = p || this;
n.set(l, g);
var m = n.get(l + "__container");
if (!t.__jx__jcss_generated) {
o.generate(_, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var $ = function() {
function t() {
var t, i, s, l;
t = e.getValue();
if (!w.equal(n, t)) {
m.empty();
S = {};
A = {};
n = t;
var u, d, c, h, f;
for (s in t) if (t.hasOwnProperty(s)) {
i = t[s];
c = null;
if (C[i.name$string]) continue;
if (!j[i.type$string]) continue;
if (!i.name$string) continue;
if (!i.label$string) continue;
if (o && !i.value_user$string || "checkbox" == i.type$string && !i.checked$bool) continue;
u = A[i.name$string] = new _(m, null, null, null, {
className: "field field_" + i.type$string
});
u.label = d = new v(u, null, null, null, {
className: "label"
});
u.label_name = new v(d, null, null, [ b.get(e.$$(s + ".label$string")) ]);
u.label_required = new v(d, null, null, [ i.required$bool && !o ? " *" : "" ]);
u.input = S[i.name$string] = c = new j[i.type$string](u, null, null, null, {
name: i.name$string,
required: i.required$bool,
autoValidate: !0,
readOnly: o
});
(c.container || c).addClass("input input_" + i.type$string);
c && c.setLabelElement(d);
switch (i.type$string) {
case "checkbox_multiple":
case "radio":
i.options && c.setOptions(i.options);
break;

case "text":
case "email":
case "textarea":
i.placeholder$string && c.setPlaceholder(i.placeholder$string);
if (o) if (r.isIE <= 7) {
c.style.overflow = "visible";
c.style.height = 0;
} else a(function(t) {
return function() {
t.setMinHeight("0");
t.setHeight("0");
t.setHeight(t.getScrollHeight());
};
}(c));
break;

case "checkbox":
i.checked$bool && c.setChecked(i.checked$bool).setInitialChecked(i.checked$bool);
u.insertBefore(c.container || c, d);
o && c.setDisabled(!0);
break;

case "select":
for (l in i.options) if (i.options.hasOwnProperty(l)) {
f = new y(c, null, null, [ i.options[l].label$string || i.options[l].value$string ], {
value: i.options[l].value$string
});
(i.value$string == i.options[l].value$string || i.options[l].checked$bool) && f.setSelected(!0);
}
o && c.setDisabled(!0);
break;

case "department":
c.setSelectedIndex(0);
}
if (!o) {
u.error_message = h = new $(u, null, null, [ i.error_message$string || b.error_message[i.type$string] || b.error_message.default ], {
className: "error_message"
});
h.setUseDisplay(!0);
c && c.setErrorMessageElement(h).hideErrorMessage();
h.setVisible("none");
}
if (o && i.value_user$string) {
c.setValue && c.setValue(i.value_user$string || "");
c.setInitialValue && c.setInitialValue(i.value_user$string || "");
} else if (i.value$string) {
c.setValue && c.setValue(i.value$string);
c.setInitialValue && c.setInitialValue(i.value$string);
}
if (i.hidden$bool) {
u.setDisplay("none");
u.setRequired(!1);
}
}
var p = m.getLastChild();
p && p.addClass("last-child");
}
}
var e, n, o, _ = i(164), l = i(165), u = i(168), d = i(170), c = i(131), h = i(175), f = i(157), p = i(171), $ = i(156), b = i(99), w = i(61), x = i(166), v = i(104), y = i(174), j = {
text: c,
email: f,
textarea: r.isIE < 9 ? c : h,
checkbox: x,
select: p,
checkbox_multiple: l,
radio: u,
department: d
}, C = {
name: 1,
email: 1,
phone: 1
}, S = {}, A = {};
g.submitSelf = function() {
if (e) {
var t, i = {};
for (var o in n) if (n.hasOwnProperty(o)) {
if (n[o].hidden$bool) continue;
t = S[n[o].name$string];
if (!t) continue;
i[o] = {
value_user$string: t.getValue()
};
t.getChecked && (i[o].checked_user$bool = t.getChecked());
!t.getOptions || t instanceof d || (i[o].options = t.getOptions(!0));
}
e.update(i);
}
};
g.submit = function(t, e, i, o) {
if (t) {
var r, s, a = {};
for (s in n) if (n.hasOwnProperty(s)) {
if (n[s].hidden$bool) continue;
if (o && "department_id" == n[s].name$string) continue;
r = S[n[s].name$string];
if (!r) continue;
if (i) {
a[s] = {
value_user$string: r.getValue()
};
r.getChecked && (a[s].checked_user$bool = r.getChecked());
!r.getOptions || r instanceof d || (a[s].options = r.getOptions(!0));
} else {
a[s] = {
name$string: n[s].name$string,
value$string: r.getValue()
};
r.getChecked && (a[s].checked$bool = r.getChecked());
!r.getOptions || r instanceof d || (a[s].options = r.getOptions());
}
}
if (e) {
var _ = e.getValue();
for (s in _) if (_.hasOwnProperty(s)) {
if (!_[s] || !C[s]) continue;
a[s] = {
name$string: s,
value$string: _[s]
};
}
}
t.write(a);
}
};
g.setReadOnly = function(t) {
o = s(t);
g[o ? "addClass" : "removeClass"]("read_only");
return g;
};
g.setDataNode = function(i) {
if (e != i) {
e && g.autounbind(e, "value", t);
e = i;
e && g.autobind(e, "value", t);
}
};
g.populateSelf = function() {
if (e) {
var t, i = e.getValue();
for (var o in i) if (i.hasOwnProperty(o)) {
t = S[n[o].name$string];
if (!t) continue;
t.setValue(i[o].value_user$string);
t.setChecked && t.setChecked(i[o].checked_user$bool);
t.setOptions && t.setOptions(i[o].options, !0);
}
}
};
g.reset = function() {
if (e) {
var t, i = e.getValue();
for (var o in i) if (i.hasOwnProperty(o)) {
t = S[n[o].name$string];
if (!t) continue;
t.reset && t.reset();
}
}
};
g.getField = function(t) {
return A[t];
};
g.getInput = function(t) {
return S[t];
};
}();
for (var b in $) $.hasOwnProperty(b) && (g[b] = $[b]);
g.fire && g.fire("init");
g.setStyle && g.setStyle(d);
g.setAttributes && g.setAttributes(h);
"function" == typeof g.addChildren ? g.addChildren(c) : n.addChildren(g, c);
if (g !== this) {
g.__jx__constructor = u;
g.__jx__native = !1;
}
return g;
}
var u;
t.prototype = _(e.__$$__jx_ui_Widget.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_Widget;
t.__jx__jcss = {
"**self": {
"*zoom": 1
},
".input_text, .input_email, textarea, select": {
width: "100%"
},
".label, .error_message, .option_label": {
display: "block"
},
".input_checkbox, .input_input_radio, .input_input_checkbox": {
display: "inline-block",
float: "left",
clear: "both"
},
".field": {
marginBottom: "15px",
"&.field_radio .input, &.field_department .input": {
input: {
"width, height": "16px"
},
label: {
paddingLeft: "20px",
lineHeight: "16px"
},
"label.disabled": {
color: "#ccc",
"&": "$$inputDisabled"
}
},
"&.field_checkbox, &.field_checkbox_multiple .input": {
input: {
"width, height": "16px"
},
label: {
paddingLeft: "20px",
lineHeight: "15px"
}
},
"&.field_checkbox, &.field_checkbox_multiple, &.field_radio": {
"&.invalid": {}
}
},
".label": {
marginBottom: "5px",
fontWeight: "bold"
},
textarea: {
"minHeight, *height": "70px",
resize: "vertical"
},
".option_label": {
marginBottom: "5px",
"&:last-child": {
marginBottom: 0
}
},
".error_message": {
paddingBottom: "5px"
},
"&.read_only": {
".field_radio, .field_checkbox_multiple": {
".input_input_radio, .input_input_checkbox": {
display: "none"
}
},
textarea: {
overflow: "hidden"
},
".input_checkbox_multiple": {
label: {
display: "inline",
marginRight: "0.5em",
"&:after": {
content: "','"
},
"&.last-checked": {
marginRight: 0,
"&:after": {
content: "none"
}
}
}
},
".field": {
padding: "6px",
marginBottom: 0
},
".input_text, .input_email, textarea, .fake_input": {
border: "none",
padding: 0,
resize: "none",
background: "transparent"
},
select: {
padding: 0,
border: "none",
height: "auto",
background: "transparent"
},
".option_label": {
marginBottom: 0,
paddingLeft: "0 !important"
},
".label": {
display: "none"
},
button: {
position: "relative",
background: "transparent"
}
}
};
l(t, "meshim_widget_widgets_Form");
u = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(4), i(21), i(31), i(7), i(17), i(13), i(15), i(3));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t, e, i, o, r) {
if (!(this instanceof n)) return new n(t, e, i, o, r);
s.call(this, t, e, i, o, r);
}
var o = i(15), r = i(17), s = i(18);
n.prototype = o(s.prototype);
n.prototype.validate = function(t) {
var e = s.prototype.validate.call(this, t);
e ? this.removeClass("invalid") : this.addClass("invalid");
return e;
};
n.prototype.setRequired = function(t) {
t = r(t);
this.label_required && this.label_required.setText(t ? " *" : "");
this.input && this.input.setRequired(t);
!t && this.input && this.input.hideErrorMessage();
return this;
};
n.prototype.destroy = function() {
this.label = this.label_name = this.label_required = this.input = this.error_message = null;
return s.prototype.destroy.call(this);
};
t.exports = n;
e(n, "meshim_widget_widgets_form_Field");
return n;
}();
}).call(e, i(3));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t, e, i, o, r) {
if (!(this instanceof n)) return new n(t, e, i, o, r);
this.optionConstructor = s;
this.inputSuffix = "checkbox";
a.call(this, t, e, i, o, r);
}
var o = i(15), r = i(22), s = i(166), a = i(167);
n.prototype = o(a.prototype);
n.prototype.setValue = function(t) {
for (var e, i, n = r(t) ? t : t.split(","), o = 0, s = this.options.length; o < s; o++) {
e = !1;
for (var a = 0, _ = n.length; a < _; a++) if (this.options[o].getValue() == n[a]) {
this.options[o].setChecked(!0);
(this.options[o].container || this.options[o]).setDisplay("");
this.labels[o].setDisplay("").addClass("label_checked");
e = !0;
break;
}
if (e) i = o; else {
(this.options[o].container || this.options[o]).removeClass("last-checked");
this.labels[o].removeClass("last-checked");
this.options[o].setChecked(!1);
if (this.readOnly) {
(this.options[o].container || this.options[o]).setDisplay("none");
this.labels[o].setDisplay("none").removeClass("label_checked");
}
}
}
if (void 0 != i) {
(this.options[i].container || this.options[i]).addClass("last-checked");
this.labels[i].addClass("last-checked");
}
};
n.prototype.getValue = function() {
for (var t = [], e = 0, i = this.options.length; e < i; e++) this.options[e].getChecked() && t.push(this.options[e].getValue());
return t.join(",");
};
t.exports = n;
e(n, "meshim_widget_widgets_form_CheckBoxMultiple");
return n;
}();
}).call(e, i(3));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t, e, i, r, s) {
if (!(this instanceof n)) return new n(t, e, i, r, s);
s || (s = {});
s.tagName || (s.tagName = "input");
s.type || (s.type = "checkbox");
a.call(this, t, e, i, r, s);
this.on("click", function() {
this.onAutoValidate();
});
o.engineIE < 9 && this.on("click", function() {
this.fire("change");
});
}
var o = i(7), r = i(15), s = i(17), a = i(121);
n.prototype = r(a.prototype);
n.prototype.getChecked = function() {
return this.dom.checked;
};
n.prototype.setChecked = function(t) {
this.dom.checked = s(t);
return this;
};
n.prototype.toggleChecked = function() {
this.setChecked(!this.getChecked());
return this;
};
n.prototype.getInitialChecked = function() {
return o.engineIE <= 8 ? this._initialChecked : this.dom.getAttribute("checked");
};
n.prototype.setInitialChecked = function(t) {
o.engineIE <= 8 ? this._initialChecked = t : this.setAttribute("checked", t);
return this;
};
n.prototype.reset = function() {
this.setChecked(this.getInitialChecked()).setValidity(!0);
a.prototype.reset.call(this);
};
n.prototype.validate = function(t) {
var e = !this.dom.required || this.getChecked();
!e && t && this.focus();
this.setValidity(e);
return e;
};
t.exports = n;
e(n, "jx_ui_CheckBox");
return n;
}();
}).call(e, i(3));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t, e, i, o, r) {
if (!(this instanceof n)) return new n(t, e, i, o, r);
r || (r = {});
r.tagName = "div";
this.options = [];
this.labels = [];
a.call(this, t, e, i, o, r);
this.on("click", function() {
this.validate();
});
}
var o = i(15), r = i(17), s = i(104), a = i(121);
n.prototype = o(a.prototype);
n.prototype.getRequired = function() {
return this.required;
};
n.prototype.setRequired = function(t) {
this.required = r(t);
return this;
};
n.prototype.setReadOnly = function(t) {
this.readOnly = r(t);
return a.prototype.setReadOnly.call(this, t);
};
n.prototype.setOptions = function(t, e) {
this.empty();
this.options.length = this.labels.length = 0;
var i, n, o = this.getName();
for (var r in t) if (t.hasOwnProperty(r)) {
i = new this.optionConstructor(this, null, null, null, {
name: o,
value: t[r].value$string,
checked: t[r].checked$bool,
initialChecked: t[r].checked$bool,
disabled: this.readOnly,
display: this.readOnly && !t[r].checked$bool ? "none" : "",
className: "input_input_" + this.inputSuffix
});
(i.container || i).addClass("input");
n = new s(this, null, null, [ t[r].label$string || t[r].value$string ], {
className: "option_label",
display: this.readOnly && !t[r].checked$bool ? "none" : ""
});
e && i.setChecked(t[r].checked_user$bool);
i.setLabelElement(n);
this.options.push(i);
this.labels.push(n);
}
return this;
};
n.prototype.getOptions = function(t) {
for (var e = {}, i = t ? "checked_user$bool" : "checked$bool", n = 0, o = this.options.length; n < o; n++) {
e[n] = {};
e[n][i] = this.options[n].getChecked();
}
return e;
};
n.prototype.focus = function() {
this.options[0] && this.options[0].focus();
return this;
};
n.prototype.validate = function(t) {
if (this.required) {
for (var e = 0, i = this.options.length; e < i; e++) if (this.options[e].getChecked()) {
this.hideErrorMessage();
return !0;
}
t && this.options[0] && this.options[0].focus();
this.showErrorMessage();
return !1;
}
this.hideErrorMessage();
return !0;
};
n.prototype.reset = function() {
for (var t = 0, e = this.options.length; t < e; t++) this.options[t].reset();
};
t.exports = n;
e(n, "meshim_widget_widgets_form_InputMultiple");
return n;
}();
}).call(e, i(3));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t, e, i, o, a) {
if (!(this instanceof n)) return new n(t, e, i, o, a);
this.optionConstructor = r;
this.inputSuffix = "radio";
s.call(this, t, e, i, o, a);
}
var o = i(15), r = i(169), s = i(167);
n.prototype = o(s.prototype);
n.prototype.setValue = function(t) {
for (var e = 0, i = this.options.length; e < i; e++) if (this.options[e].getValue() == t) {
this.options[e].setChecked(!0);
(this.options[e].container || this.options[e]).setDisplay("");
this.labels[e].setDisplay("").addClass("label_checked");
} else {
this.options[e].setChecked(!1);
if (this.readOnly) {
(this.options[e].container || this.options[e]).setDisplay("none");
this.labels[e].setDisplay("none").removeClass("label_checked");
}
}
};
n.prototype.getValue = function() {
for (var t = 0, e = this.options.length; t < e; t++) if (this.options[t].getChecked()) return this.options[t].getValue();
};
t.exports = n;
e(n, "meshim_widget_widgets_form_RadioButtonMultiple");
return n;
}();
}).call(e, i(3));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t, e, i, r, _) {
if (!(this instanceof n)) return new n(t, e, i, r, _);
_ || (_ = {});
_.tagName || (_.tagName = "input");
_.type || (_.type = "radio");
s.call(this, t, e, i, r, _);
if (o.bugs.noBoxSizing) {
this.parentNode.removeChild(t instanceof a ? this : this.dom);
this.dom = t.doc.createElement("<" + _.tagName + ' type="' + _.type + '" name="' + (_.name || "") + '"/>');
this.dom.jx_wrapper = this;
this.style = this.dom.style;
this.parentNode.appendChild(t instanceof a ? this : this.dom);
this.setStyle(i);
this.setAttributes(_);
this.addClass(this.__jx__fqname);
}
}
var o = i(7), r = i(15), s = i(166), a = i(19);
n.prototype = r(s.prototype);
t.exports = n;
e(n, "jx_ui_RadioButton");
return n;
}();
}).call(e, i(3));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t, e, i, r, a) {
if (!(this instanceof n)) return new n(t, e, i, r, a);
if (!n.__jx__jcss_generated) {
s.generate(this, n.prototype.__jx__fqname, n.__jx__jcss, null, n);
n.__jx__jcss_generated = !0;
}
a || (a = {});
a.prompt = a.prompt || String.fromCharCode(160);
c.call(this, t, e, i, r, a);
this.inputSuffix = "select";
this.departments_label_path = "livechat.settings.forms.pre_chat_form.form.2.label$string";
this.default_departments_label = h.descendsObj(d, this.departments_label_path);
this.$departments = u.root.$("livechat").$("departments");
this.$departments_ui = u.root.$("livechat").$("ui").$("departments").$("options");
this.$profile_department_id = u.root.$("livechat").$("profile").$("department_id$int");
this.$departments_label = u.root.$$(this.departments_label_path);
this.$filter_enabled = u.root.$("livechat").$("ui").$("departments").$("filter_enabled$bool");
this.$hide_when_offline = u.root.$("livechat").$("settings").$("chat_button").$("hide_when_offline$bool");
this.prev_value = null;
this.avail_departments = {};
var _ = this;
this.autobind(this.$departments, "value", function() {
_.setOptions();
});
this.autobind(this.$departments_ui, "value", function() {
_.setOptions();
});
this.autobind(this.$filter_enabled, "value", function() {
_.setOptions();
});
this.autobind(this.$hide_when_offline, "value", function() {
_.setOptions();
});
this.autobind(this.$profile_department_id, "value", function(t) {
o.call(_, t);
});
this.autobind(this.$departments_label, "value", function() {
_.updateBlankOption();
});
this.onDestruction(function() {
if (_.blank_option) {
_.blank_option.destroy();
_.blank_option = null;
}
});
this.on("change", function() {
this.userSelected = !0;
});
this.reset();
}
function o(t) {
this.profile_department = t;
this.updateSelectedDepartment();
}
function r(t) {
function e(t, e) {
return t.name$string < e.name$string ? -1 : t.name$string > e.name$string ? 1 : 0;
}
var i = [], n = [];
for (var o in t) t.hasOwnProperty(o) && t.hasOwnProperty(o) && ("offline" == t[o].status$string ? n.push({
id$int: o,
name$string: t[o].name$string,
status$string: "offline"
}) : i.push({
id$int: o,
name$string: t[o].name$string,
status$string: "online"
}));
i.sort(e);
n.sort(e);
return i.concat(n);
}
var s = i(31), a = i(15), _ = i(17), l = i(23), u = i(41), d = i(46), c = i(171), h = i(51), f = i(99), p = i(174);
n.__jx__jcss = {};
n.prototype = a(c.prototype);
n.prototype.__jx__super = c;
n.prototype.validate = function() {
if (this.isBlank) {
this.setValidity(!0);
return !0;
}
return c.prototype.validate.call(this);
};
n.prototype.reset = function() {
var t = this.$profile_department_id.getValue();
t && this.avail_departments[t] ? this.setValue(t) : this.setSelectedIndex(0);
this.userSelected = !1;
};
n.prototype.setHide = function(t) {
this.isHide = _(t);
this.setOptions();
};
n.prototype.setDisableWhenOffline = function(t) {
this.overrideDisable = !_(t);
this.setOptions();
};
n.prototype.isHidden = function() {
return this.isBlank || this.isHide;
};
n.prototype.setRequired = function() {
var t = c.prototype.setRequired.apply(this, arguments);
this.updateBlankOption();
return t;
};
n.prototype.updateBlankOption = function() {
if (this.blank_option) if (this.getRequired()) this.children[0] == this.blank_option && this.removeChild(this.blank_option); else {
this.blank_option.setText(f.get(this.$departments_label) == this.default_departments_label ? f.pre_chat_offline_form.department_any : "â€”");
this.children[0] !== this.blank_option && this.insertBefore(this.blank_option, this.children[0]);
}
};
n.prototype.setOptions = function() {
if (this.$departments) {
var t = this.$departments.getValue(), e = this.$departments_ui.getValue(), i = this.$filter_enabled.getValue(), n = this.$hide_when_offline.getValue(), o = {}, s = "";
if (t) if (null !== this.prev_value) {
s = this.prev_value;
this.prev_value = null;
} else s = this.getValue(); else this.prev_value = this.getValue();
this.isBlank = !0;
for (var a in t) if (t.hasOwnProperty(a)) {
if (i && !(e && e[a] && e[a].display$bool)) continue;
if (t[a]) {
this.isBlank = !1;
o[a] = t[a];
}
}
if (this.isBlank || this.isHide) (this.container || this).parentNode.setDisplay("none"); else {
(this.container || this).parentNode.setDisplay("");
this.empty();
var _, u = this.getName();
this.blank_option = _ = new p(this, null, null, null, {
name: "",
value: "",
className: "input_input_" + this.inputSuffix
});
(_.container || _).addClass("input");
this.avail_departments = o;
o = r(o);
for (var d = 0, c = o.length; d < c; d++) {
var h = "online" == o[d].status$string;
_ = new p(this, null, null, [ o[d].name$string + (h ? "" : " (" + l(202) + ")") ], {
name: u,
value: o[d].id$int,
disabled: !this.overrideDisable && n && !h,
className: "input_input_" + this.inputSuffix
});
(_.container || _).addClass("input");
s != _.getValue() || _.getDisabled() || this.setValue(s);
}
this.updateBlankOption();
this.updateSelectedDepartment();
}
}
};
n.prototype.updateSelectedDepartment = function() {
var t = this.profile_department;
t && parseInt(this.getValue(), 10) !== t && (this.userSelected || this.avail_departments[t] && this.setValue(t));
};
t.exports = n;
e(n, "meshim_widget_widgets_form_DepartmentSelect");
return n;
}();
}).call(e, i(3));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t, e, i, r, s) {
if (!(this instanceof n)) return new n(t, e, i, r, s);
if (!n.__jx__jcss_generated) {
o.generate(this, n.prototype.__jx__fqname, n.__jx__jcss, null, n);
n.__jx__jcss_generated = !0;
}
s || (s = {});
s.tagName || (s.tagName = "select");
a.call(this, t, e, i, r, s);
if (this.container) {
this.container.addClass(this.__jx__fqname);
this.iconFont = new l(this.container, null, null, null, {
addClass: "select_icon",
icon: "arrow_down"
});
this.container.insertBefore(this.iconFont, this.container.getFirstChild());
u.mobile(this.container);
u.rtl(this.container);
}
_.__constructor.call(this);
}
var o = i(31), r = i(15), s = i(17), a = i(172), _ = i(133), l = i(98), u = i(97);
n.__jx__jcss = {
"&.mobile.invalid, &.rtl.mobile.invalid": {
"paddingRight, paddingLeft": "$$inputPadding"
},
".select_placeholder": {
overflow: "hidden",
whiteSpace: "nowrap",
textOverflow: "ellipsis"
},
".select_icon": {
float: "right",
marginTop: "3px"
},
"&.rtl .select_icon": {
float: "left"
},
"&.mobile": {
".select_placeholder": {
lineHeight: "26px"
},
".select_icon": {
marginTop: "8px"
}
}
};
n.prototype = r(a.prototype);
n.prototype.__jx__super = _;
n.prototype.setValidity = function(t) {
if (this.container) {
t = s(t);
this.container[t ? "removeClass" : "addClass"]("invalid");
}
return a.prototype.setValidity.apply(this, arguments);
};
t.exports = n;
e(n, "meshim_widget_widgets_Select");
return n;
}();
}).call(e, i(3));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t, e, i, a, _) {
if (!(this instanceof n)) return new n(t, e, i, a, _);
_ || (_ = {});
_.tagName = null;
_.position = "relative";
if (o.bugs.noBoxSizing) {
l.call(this, t, e, i, a, _);
this.addClass("select_ie6");
} else {
this.container = new u(t, null, null, null, _);
this.container.addClass("select_container");
this.container.removeAttribute("tabindex");
var d = this;
this.container.destroy = function() {
d.destroy();
};
this.container.empty = function() {
d.empty();
};
this.button = new u(this.container, null, null, null, {});
this.button.addClass("select_button");
this.placeholder = new u(this.container, null, null, null, {});
this.placeholder.addClass("select_placeholder");
_.tagName = "select";
_.opacity = "0";
_.position = "absolute";
_.width = "100%";
_.height = "100%";
_.top = "0";
_.left = "0";
_.margin = _.marginLeft = _.marginRight = _.marginTop = _.marginBottom = "0";
o.engineIE < 9 && (_.filter = "alpha(opacity=0)");
l.call(this, this.container, e, i, a, _);
o.isIE ? r(function() {
d.dom && d.updatePlaceholder();
}) : this.updatePlaceholder();
this.on("change", function() {
this.updatePlaceholder();
});
this.on("keyup", function() {
this.updatePlaceholder();
});
this.on("focus", function() {
this.container.addClass("focus");
});
this.on("blur", function() {
this.container.removeClass("focus");
});
this._updatePlaceholder = function() {
d.updatePlaceholder();
};
s && s.onLanguage && s.onLanguage(this._updatePlaceholder);
}
}
var o = i(7), r = i(13), s = i(23), a = i(15), _ = i(17), l = i(173), u = i(18);
n.prototype = a(l.prototype);
n.prototype.appendChild = function(t) {
var e = !this.getOptions().length;
l.prototype.appendChild.call(this, t);
if (e && this.getOptions().length) {
this.setSelectedIndex(0);
var i = this;
r(function() {
i.dom && i.updatePlaceholder();
});
}
};
n.prototype.getPrefix = function() {
return this.prefix;
};
n.prototype.setPrefix = function(t) {
this.prefix = t;
return this;
};
var d = " ";
n.prototype.getPrefixSeparator = function() {
return this.prefixSeparator;
};
n.prototype.setPrefixSeparator = function(t) {
this.prefixSeparator = t;
return this;
};
n.prototype.updatePlaceholder = function() {
if (!this.container || !this.dom) return this;
var t = this.getSelectedIndex();
if (t < 0 && this.prompt) {
this.placeholder.setText(this.prompt);
return this;
}
var e = this.getOptions()[t], i = "";
this.prefix && (i += this.prefix + (this.prefixSeparator || "" === this.prefixSeparator ? this.prefixSeparator : d));
e && (i += "function" == typeof e.getPlaceholder && e.getPlaceholder() || "function" == typeof e.getLabel && e.getLabel() || e.getText());
this.placeholder.setText(i);
return this;
};
n.prototype.getPrompt = function() {
return this.prompt;
};
n.prototype.setPrompt = function(t) {
this.prompt = t;
this.setSelectedIndex(-1);
return this;
};
n.prototype.setValue = function(t) {
l.prototype.setValue.call(this, t);
this.updatePlaceholder();
return this;
};
n.prototype.setSelectedIndex = function(t) {
l.prototype.setSelectedIndex.call(this, t);
this.updatePlaceholder();
return this;
};
n.prototype.show = function() {
this.container ? this.container.show() : l.prototype.show.call(this);
};
n.prototype.hide = function() {
this.container ? this.container.hide() : l.prototype.hide.call(this);
};
n.prototype.setDisabled = function(t) {
this.container && (_(t) ? this.container.addClass("disabled") : this.container.removeClass("disabled"));
return l.prototype.setDisabled.call(this, t);
};
n.prototype.createLabel = function(t) {
this.container && (this.parentNode = this.container.parentNode);
l.prototype.createLabel.call(this, t);
this.container && (this.parentNode = this.container);
};
n.prototype.createErrorMessage = function(t) {
this.container && (this.parentNode = this.container.parentNode);
l.prototype.createErrorMessage.call(this, t);
this.container && (this.parentNode = this.container);
};
n.prototype.destroy = function() {
s && s.unLanguage && s.unLanguage(this._updatePlaceholder);
l.prototype.destroy.call(this);
if (this.container) {
l.prototype.empty.call(this.container);
this.container.empty = null;
l.prototype.destroy.call(this.container);
this.container = this.button = this.placeholder = null;
}
};
n.prototype.empty = function() {
l.prototype.empty.call(this);
this.updatePlaceholder();
};
n.prototype.reset = function() {
if (!this.container) return l.prototype.reset.call(this);
for (var t = this.getOptions(), e = 0, i = t.length; e < i; e++) if (t[e].getSelected()) {
this.setSelectedIndex(e);
this.updatePlaceholder();
return this;
}
this.setSelectedIndex(-1);
this.updatePlaceholder();
return this;
};
t.exports = n;
e(n, "jx_ui_PrettySelect");
return n;
}();
}).call(e, i(3));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t, e, i, o, s) {
if (!(this instanceof n)) return new n(t, e, i, o, s);
this.navStack = null;
s || (s = {});
s.tagName || (s.tagName = "select");
r.call(this, t, e, i, o, s);
this.addClass("select");
this.onDestruction(function() {
this.navStack = null;
});
}
var o = i(15), r = i(121);
n.prototype = o(r.prototype);
n.prototype.getSelectedIndex = function() {
return this.dom.selectedIndex;
};
n.prototype.setSelectedIndex = function(t) {
this.dom.selectedIndex = t;
return this;
};
n.prototype.getOptions = function() {
for (var t = [], e = this.dom.options.length, i = 0; i < e; i++) t.push(this.dom.options[i].jx_wrapper);
return t;
};
n.prototype.setValue = function(t) {
this.setSelectedIndex(-1);
return r.prototype.setValue.call(this, t);
};
n.prototype.reset = function() {
for (var t = this.getOptions(), e = 0, i = t.length; e < i; e++) if (t[e].getSelected()) {
this.setSelectedIndex(e);
return this;
}
this.setSelectedIndex(0);
return this;
};
t.exports = n;
e(n, "jx_ui_Select");
return n;
}();
}).call(e, i(3));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t, e, i, o, r) {
if (!(this instanceof n)) return new n(t, e, i, o, r);
r || (r = {});
r.tagName || (r.tagName = "option");
s.call(this, t, e, i, o, r);
}
var o = i(15), r = i(17), s = i(121);
n.prototype = o(s.prototype);
n.prototype.getLabel = function() {
return this.dom.label;
};
n.prototype.setLabel = function(t) {
this.dom.label = t;
return this;
};
n.prototype.getSelected = function() {
return this.dom.defaultSelected;
};
n.prototype.setSelected = function(t) {
this.dom.defaultSelected = r(t);
return this;
};
n.prototype.getPlaceholder = function() {
return this.placeholder;
};
n.prototype.setPlaceholder = function(t) {
this.placeholder = t;
return this;
};
t.exports = n;
e(n, "jx_ui_Option");
return n;
}();
}).call(e, i(3));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
var n = i(31), o = i(15), r = i(176), s = r, a = i(133);
r = function(t, e, i, o, _) {
if (!(this instanceof r)) return new r(t, e, i, o, _);
if (!r.__jx__jcss_generated) {
n.generate(this, r.prototype.__jx__fqname, r.__jx__jcss, null, r);
r.__jx__jcss_generated = !0;
}
s.call(this, t, e, i, o, _);
a.__constructor.call(this);
};
r.__jx__jcss = {};
r.prototype = o(s.prototype);
r.prototype.__jx__super = a;
t.exports = r;
e(r, "meshim_widget_widgets_TextArea");
return r;
}();
}).call(e, i(3));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t, e, i, o, s) {
if (!(this instanceof n)) return new n(t, e, i, o, s);
s || (s = {});
s.tagName || (s.tagName = "textarea");
r.call(this, t, e, i, o, s);
}
var o = i(15), r = i(132);
n.prototype = o(r.prototype);
n.prototype.setCols = function(t) {
this.dom.cols = t;
return this;
};
n.prototype.getCols = function() {
return this.dom.cols;
};
n.prototype.setRows = function(t) {
this.dom.rows = t;
return this;
};
n.prototype.getRows = function() {
return this.dom.rows;
};
n.prototype.setResize = function(t) {
"resize" in this.style && (this.style.resize = t);
};
n.prototype.getInitialValue = function() {
return this._initialValue;
};
n.prototype.setInitialValue = function(t) {
this._initialValue = t && (t.toString ? t.toString() : t);
return this;
};
t.exports = n;
e(n, "jx_ui_TextArea");
return n;
}();
}).call(e, i(3));
}, function(t, e, i) {
(function(e, n, o, r, s) {
e.__$$__jx_ui_Widget = i(18);
t.exports = function() {
function t(r, s, _, l, u) {
if (!(this instanceof t)) return new t(r, s, _, l, u);
s = s || n.generateID();
var d = [ e.__$$__jx_ui_Widget, "", "", [], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
addClass: "bottom"
} ], c = d[0].call(this, r, s, null, n.mangleIDs(s, d[3]), d[4]), h = c || this;
n.set(s, h);
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var f = function() {
function t() {
e.mobile(h);
e.windowSize(h, "bottom_");
}
var e = i(97);
t();
}();
for (var p in f) f.hasOwnProperty(p) && (h[p] = f[p]);
h.fire && h.fire("init");
h.setStyle && h.setStyle(_);
h.setAttributes && h.setAttributes(u);
"function" == typeof h.addChildren ? h.addChildren(l) : n.addChildren(h, l);
if (h !== this) {
h.__jx__constructor = a;
h.__jx__native = !1;
}
return h;
}
var a;
t.prototype = r(e.__$$__jx_ui_Widget.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_Widget;
t.__jx__jcss = {
"**self": {
position: "absolute",
"bottom, left": 0,
width: "100%",
textAlign: "center",
"*overflow": "hidden",
paddingTop: "$$margin",
paddingBottom: 0,
height: "$$bottomHeight",
borderWidth: "$$bottomBorderWidth",
borderStyle: "$$bottomBorderStyle",
borderColor: "$$bottomBorderColor",
"&.bottom_padding_bottom": {
paddingBottom: "$$margin",
height: "$$bottomHeightBottomPadding"
},
"&.bottom_small": {
"paddingLeft, paddingRight": "10px"
},
"&.bottom_medium": {
"paddingLeft, paddingRight": "20px"
},
"&.bottom_large": {
"paddingLeft, paddingRight": "50px"
}
},
"&.note": {
height: "auto",
fontSize: "$$fontSizeXS",
padding: "$$margin",
borderWidth: "$$bottomNoteBorderWidth",
borderStyle: "$$bottomNoteBorderStyle",
borderColor: "$$bottomNoteBorderColor"
},
"&.padding_bottom": {
height: "$$bottomHeightBottomPadding"
},
"&.mobile": {
position: "relative",
padding: "$$margin",
height: "auto"
}
};
s(t, "meshim_widget_widgets_Bottom");
a = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(4), i(21), i(31), i(15), i(3));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t, e, i, r, _) {
if (!(this instanceof n)) return new n(t, e, i, r, _);
if (!n.__jx__jcss_generated) {
o.generate(this, n.prototype.__jx__fqname, n.__jx__jcss, null, n);
n.__jx__jcss_generated = !0;
}
s.call(this, t, e, i, r, _);
var l = a.root.$("connection").$("message$string"), u = this;
u.autobind(l, "value", function(t) {
u.setDisabled(!!t);
});
}
var o = i(31), r = i(15), s = i(179), a = i(41);
n.__jx__jcss = {};
n.prototype = r(s.prototype);
n.prototype.__jx__super = s;
t.exports = n;
e(n, "meshim_widget_widgets_ConnAwareSubmit");
return n;
}();
}).call(e, i(3));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t, e, i, s, _) {
if (!(this instanceof n)) return new n(t, e, i, s, _);
if (!n.__jx__jcss_generated) {
o.generate(this, n.prototype.__jx__fqname, n.__jx__jcss, null, n);
n.__jx__jcss_generated = !0;
}
_ || (_ = {});
_.tagName || (_.tagName = "input");
_.type || (_.type = "submit");
a.call(this, t, e, i, s, _);
this.setValue(this._value);
var l = this;
this._setValue = function() {
l.setValue(l._value);
};
r && r.onLanguage && r.onLanguage(this._setValue);
}
var o = i(31), r = i(23), s = i(15), a = i(162);
n.__jx__jcss = {
"**self": {}
};
n.prototype = s(a.prototype);
n.prototype.__jx__super = a;
n.prototype.setValue = function(t) {
this._value = t;
return a.prototype.setValue.call(this, t);
};
n.prototype.destroy = function() {
r && r.unLanguage && r.unLanguage(this._setValue);
a.prototype.destroy.call(this);
};
t.exports = n;
e(n, "meshim_widget_widgets_Submit");
return n;
}();
}).call(e, i(3));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
var n = i(10), o = i(22), r = i(11), s = function() {
function t() {
if (l || u) return !0;
var t, e = window[window.GoogleAnalyticsObject || "ga"];
if (n(e)) {
u = e;
t = !0;
}
if (window._gaq && window._gat) {
l = window._gaq;
d = window._gat;
t = !0;
}
return t;
}
function e(t) {
var e;
t == h.NEW && u ? n(u.getAll) && (e = u.getAll()) : t == h.OLD && d && (n(d._getTrackers) ? e = d._getTrackers() : n(d._getTrackerByName) && (e = [ d._getTrackerByName() ]));
return o(e) ? e : [];
}
function i(t, e, i, n) {
try {
s(t, e, i, n);
} catch (t) {}
}
function s(e, i, n, o) {
if (t() && e) {
u && a(e, i, n, o);
l && _(e, i, n, o);
}
}
function a(t, i, o, s) {
c = e(h.NEW);
var a = {
hitType: "event",
eventCategory: o || f,
eventAction: t
};
r(i, !0) || (a.eventLabel = i);
r(s, !0) || (a.eventValue = s);
if (c.length) for (var _ = 0, l = c.length; _ < l; _++) n(c[_].send) && c[_].send("event", a); else u("send", a);
}
function _(t, i, o, s) {
c = e(h.OLD);
l.push(function() {
for (var e = 0, a = c.length; e < a; e++) if (n(c[e]._trackEvent)) {
r(i, !0) && (i = void 0);
r(s, !0) && (s = void 0);
c[e]._trackEvent(o || f, t, i, s);
}
});
}
var l, u, d, c, h = {
OLD: "ga.js",
NEW: "analytics.js"
}, f = "Zopim Livechat", p = {
trackEvent: i
};
return p;
}();
t.exports = s;
e(s, "meshim_widget_controllers_GoogleAnalytics");
return s;
}();
}).call(e, i(3));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t, e, i) {
var n = o(e, i);
t.addChildren(n);
}
function o(t, e) {
t += "";
a(e) || (e = [ e ]);
var i, n, o = [], _ = [ t ];
for (i = 0, n = e.length; i < n; i++) _ = s(_, e[i]);
for (i = 0, n = _.length; i < n; i++) o[i] = r(_[i]);
return o;
}
function r(t) {
if ("string" == typeof t) return t;
var e, i = t.children, n = [];
e = l.extend({}, t.attributes, t.tagName ? {
tagName: t.tagName
} : null);
if (i) for (var o = 0, s = i.length; o < s; o++) n[o] = r(i[o]); else n = null;
return [ t.jxmlConstructor || _, null, null, n, e ];
}
function s(t, e) {
var i = [];
t = t.slice();
for (var n = 0; n < t.length; n++) {
var o, r = t[n];
if ("string" == typeof r) {
o = e(r);
a(o) ? i = i.concat(o) : i.push(o);
} else {
r.children && (r.children = s(r.children, e));
i.push(r);
}
}
return i;
}
var a = i(22), _ = i(18), l = i(61), u = {
appendTo: n,
toJXMLElements: o,
parseChildrenText: s
};
t.exports = u;
e(u, "meshim_common_StringParser");
return u;
}();
}).call(e, i(3));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function i(t) {
for (var e, i = /\r?\n/g, n = 0, o = []; null !== (e = i.exec(t)); ) {
var r = e[0], s = i.lastIndex - r.length;
s > n && o.push(t.substring(n, s));
o.push({
tagName: "br"
});
n = i.lastIndex;
}
n < t.length && o.push(t.substring(n));
return o;
}
t.exports = i;
e(i, "meshim_common_stringParser_BRParser");
return i;
}();
}).call(e, i(3));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t) {
for (var e, i = o.search.hurl, n = 0, s = []; null !== (e = i.exec(t)); ) {
var a = e[0].trim(), _ = i.lastIndex - a.length;
_ > n && s.push(t.substring(n, _));
s.push({
jxmlConstructor: r,
attributes: {
href: a
},
children: [ a ]
});
n = i.lastIndex;
}
n < t.length && s.push(t.substring(n));
return s;
}
var o = i(45), r = i(184);
t.exports = n;
e(n, "meshim_common_stringParser_URLWithProtocolParser");
return n;
}();
}).call(e, i(3));
}, function(t, e, i) {
(function(e, n, o, r, s, a) {
e.__$$__jx_ui_html_a = i(96);
t.exports = function() {
function t(s, a, _, l, u) {
if (!(this instanceof t)) return new t(s, a, _, l, u);
a = a || n.generateID();
var d = [ e.__$$__jx_ui_html_a, "", "", [], {
xmlns: "jx.ui.html"
} ], c = d[0].call(this, s, a, null, n.mangleIDs(a, d[3]), d[4]), h = c || this;
n.set(a, h);
if (!t.__jx__jcss_generated) {
o.generate(s, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var f = function() {
function t() {
h.setAttribute("rel", "noreferrer");
h.setAttribute("target", "_blank");
r.isIE && h.on("click", e);
}
function e(t) {
t && t.preventDefault();
var e, i;
e = h.getAttribute("href");
if (e) {
i = window.open();
i.opener = null;
i.location.href = e;
}
}
t();
}();
for (var p in f) f.hasOwnProperty(p) && (h[p] = f[p]);
h.fire && h.fire("init");
h.setStyle && h.setStyle(_);
h.setAttributes && h.setAttributes(u);
"function" == typeof h.addChildren ? h.addChildren(l) : n.addChildren(h, l);
if (h !== this) {
h.__jx__constructor = i;
h.__jx__native = !1;
}
return h;
}
var i;
t.prototype = s(e.__$$__jx_ui_html_a.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_html_a;
t.__jx__jcss = {};
a(t, "meshim_common_stringParser_SafeAnchor");
i = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(4), i(21), i(31), i(7), i(15), i(3));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t) {
for (var e, i, n = o.search.url, l = 0, u = []; null !== (i = n.exec(t)); ) {
var d = i[0].trim(), c = i[2], h = n.lastIndex - d.length;
if (o.tld.test(c)) {
h > l && u.push(t.substring(l, h));
var f = r.parseURL("//" + d).hostname;
e = f === a ? _ : "http://";
u.push({
jxmlConstructor: s,
attributes: {
href: e + d
},
children: [ d ]
});
l = n.lastIndex;
}
}
l < t.length && u.push(t.substring(l));
return u;
}
var o = i(45), r = i(186), s = i(184), a = window.location.hostname, _ = window.location.protocol + "//";
t.exports = n;
e(n, "meshim_common_stringParser_URLWithoutProtocolParser");
return n;
}();
}).call(e, i(3));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
var i = {
parseURL: function(t) {
var e = window.document.createElement("a");
e.href = t;
return {
hostname: e.hostname,
pathname: e.pathname,
protocol: e.protocol,
search: e.search,
hash: e.hash,
port: e.port
};
}
};
t.exports = i;
e(i, "meshim_common_URLUtils");
return i;
}();
}).call(e, i(3));
}, function(t, e, i) {
(function(e, n, o, r, s, a, _) {
e.__$$__meshim_widget_widgets_ChatWindowContent = i(142);
e.__$$__meshim_widget_widgets_ScrollableFrame = i(144);
e.__$$__meshim_widget_widgets_Body = i(188);
e.__$$__jx_ui_Widget = i(18);
e.__$$__meshim_widget_widgets_form_Profile = i(146);
e.__$$__meshim_widget_widgets_Form = i(163);
e.__$$__meshim_widget_widgets_Button = i(162);
t.exports = function() {
function t(a, _, u, d, c) {
if (!(this instanceof t)) return new t(a, _, u, d, c);
_ = _ || n.generateID();
var h = o(165), f = [ e.__$$__meshim_widget_widgets_ChatWindowContent, "", "", [ [ e.__$$__meshim_widget_widgets_ScrollableFrame, "", "", [ [ e.__$$__meshim_widget_widgets_Body, "message", "", [], {
id: "message"
} ], [ e.__$$__jx_ui_Widget, "", "", [ [ e.__$$__meshim_widget_widgets_form_Profile, "", "", [], {
hideLabel: "",
disabled: "true"
} ], [ e.__$$__meshim_widget_widgets_Form, "form", "", [], {
id: "form",
readOnly: "true"
} ] ], {
addClass: "form_container"
} ], [ e.__$$__jx_ui_Widget, "", "", [ [ e.__$$__meshim_widget_widgets_Button, "another", "", [ h ], {
id: "another",
addClass: "wide"
} ] ], {
addClass: "controls"
} ] ], {} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:widgets": "meshim.widget.widgets"
} ], p = f[0].call(this, a, _, null, n.mangleIDs(_, f[3]), f[4]), g = p || this;
n.set(_, g);
var m = n.get(_ + "__message"), $ = n.get(_ + "__form"), b = n.get(_ + "__another");
if (!t.__jx__jcss_generated) {
r.generate(a, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var w = function() {
function t() {
$.setDataNode(a);
g.autobind(l, "value", function() {
m.setText(n.get(l));
});
g.autobind(d, "value", function(t) {
1 != t || _.getValue() || s(function() {
d.update(0);
});
});
b.on("click", function() {
d.update(0);
});
}
var e = i(41), n = i(99), o = e.root.$("livechat"), r = o.$("settings").$("forms").$("offline_form"), a = r.$("form"), _ = r.$("form_submitted"), l = r.$("post_submit_message$string"), u = o.$("ui").$("chat_window").$("pre_chat_offline_form"), d = u.$("stack_index$int");
t();
}();
for (var x in w) w.hasOwnProperty(x) && (g[x] = w[x]);
g.fire && g.fire("init");
g.setStyle && g.setStyle(u);
g.setAttributes && g.setAttributes(c);
"function" == typeof g.addChildren ? g.addChildren(d) : n.addChildren(g, d);
if (g !== this) {
g.__jx__constructor = l;
g.__jx__native = !1;
}
return g;
}
var l;
t.prototype = a(e.__$$__meshim_widget_widgets_ChatWindowContent.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__meshim_widget_widgets_ChatWindowContent;
t.__jx__jcss = {
".form_container": {
background: "$$formSubmittedBg",
borderRadius: "$$formSubmittedRadius",
borderWidth: "$$formSubmittedBorderWidth",
borderStyle: "$$formSubmittedBorderStyle",
borderColor: "$$formSubmittedBorderColor"
},
".profile_form": {},
".generated_form": {
marginBottom: "5px"
},
".controls": {
marginTop: "15px",
marginBottom: "10px"
}
};
_(t, "meshim_widget_components_chatWindow_preChatOfflineForm_PostSubmit");
l = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(4), i(21), i(23), i(31), i(13), i(15), i(3));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t, e, i, r, a) {
if (!(this instanceof n)) return new n(t, e, i, r, a);
if (!n.__jx__jcss_generated) {
o.generate(this, n.prototype.__jx__fqname, n.__jx__jcss, null, n);
n.__jx__jcss_generated = !0;
}
s.call(this, t, e, i, r, a);
}
var o = i(31), r = i(15), s = i(18);
n.__jx__jcss = {
"**self": {
lineHeight: "1.2",
marginBottom: "$$marginL"
},
"&.short": {
marginBottom: "0"
}
};
n.prototype = r(s.prototype);
n.prototype.__jx__super = s;
t.exports = n;
e(n, "meshim_widget_widgets_Body");
return n;
}();
}).call(e, i(3));
}, function(t, e, i) {
(function(e, n, o, r, s, a, _) {
e.__$$__meshim_widget_widgets_ChatWindowContent = i(142);
e.__$$__meshim_widget_widgets_ScrollableFrame = i(144);
e.__$$__jx_ui_Widget = i(18);
e.__$$__meshim_widget_widgets_Header = i(190);
e.__$$__jx_ui_Label = i(104);
e.__$$__meshim_widget_widgets_form_DepartmentSelect = i(170);
e.__$$__meshim_widget_widgets_Bottom = i(177);
e.__$$__meshim_widget_widgets_Button = i(162);
t.exports = function() {
function t(a, _, u, d, c) {
if (!(this instanceof t)) return new t(a, _, u, d, c);
_ = _ || n.generateID();
var h = o(166), f = o(167), p = o(168), g = [ e.__$$__meshim_widget_widgets_ChatWindowContent, "", "", [ [ e.__$$__meshim_widget_widgets_ScrollableFrame, "", "", [ [ e.__$$__jx_ui_Widget, "department_picker", "", [ [ e.__$$__meshim_widget_widgets_Header, "", "", [ [ e.__$$__jx_ui_Label, "", "", [ h ], {} ] ], {} ], [ e.__$$__meshim_widget_widgets_form_DepartmentSelect, "department", "", [], {
id: "department",
addClass: "department",
disableWhenOffline: "false"
} ] ], {
id: "department_picker"
} ], [ e.__$$__meshim_widget_widgets_Header, "", "", [ [ e.__$$__jx_ui_Label, "", "", [ f ], {} ], [ e.__$$__jx_ui_Label, "", "", [], {
text: " "
} ], [ e.__$$__jx_ui_Label, "timezone_container", "", [], {
id: "timezone_container",
addClass: "timezone_container"
} ] ], {} ], [ e.__$$__jx_ui_Widget, "days", "", [], {
id: "days"
} ] ], {} ], [ e.__$$__meshim_widget_widgets_Bottom, "", "", [ [ e.__$$__meshim_widget_widgets_Button, "back", "", [ p ], {
id: "back",
addClass: "wide"
} ] ], {} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:widgets": "meshim.widget.widgets",
absPaddingBottom: "bottomHeight"
} ], m = g[0].call(this, a, _, null, n.mangleIDs(_, g[3]), g[4]), $ = m || this;
n.set(_, $);
var b = n.get(_ + "__department_picker"), w = n.get(_ + "__department"), x = n.get(_ + "__timezone_container"), v = n.get(_ + "__days"), y = n.get(_ + "__back");
if (!t.__jx__jcss_generated) {
r.generate(a, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var j = function() {
function t() {
$.autobind(A, "value", function(t) {
if (a != t) {
a = t;
n();
}
});
$.autobind(k, "value", function(t) {
if (_ != t) {
_ = t;
n();
}
});
$.autobind(C, "value", function(t) {
if (t) {
t = r(t);
x.setText("(" + t + ")");
}
});
$.autobind(I, "value", e);
$.autobind(N, "value", e);
$.autobind(B, "value", function(t) {
l = t;
e();
});
$.autobind(T, "value", function(t) {
if (u != t) {
u = t;
n();
}
});
$.autobind(g, "value", function(t) {
if (t) {
w.setValue(t);
e();
}
});
w.on("change", e);
y.on("click", function() {
m.update(0);
});
}
function e() {
if (l) {
var t = w.isHidden() ? g.getValue() : w.getValue();
if ("account" === l) d = I.getValue(); else {
var e = N.getValue();
d = t ? e && e[t] && e[t].schedule || I.getValue() : e && e.overall && e.overall.schedule;
}
n();
}
}
function n() {
if (a && u && d && l) {
b.setDisplay("account" == l ? "none" : "");
w.setHide("account" == l);
var t, e = D[_] || D.daily, i = [];
for (var n in e) if (e.hasOwnProperty(n)) if (s(e[n])) i.push({
enabled$bool: d[e[n][0]].enabled$bool,
periods: d[e[n][0]].periods,
days: [ e[n][1] ]
}); else {
t = !1;
for (var r = 0, c = i.length; r < c; r++) if (o(i[r], d[e[n]])) {
i[r].days.push(e[n]);
t = !0;
break;
}
t || i.push({
enabled$bool: d[e[n]].enabled$bool,
periods: d[e[n]].periods,
days: [ e[n] ]
});
}
v.empty();
for (var h = 0, p = i.length; h < p; h++) new f(v).setData(i[h]);
}
}
function o(t, e) {
if (!t.enabled$bool && !e.enabled$bool) return !0;
if (t.enabled$bool == e.enabled$bool) {
var i, n = t.periods, o = e.periods, r = 0, s = 0;
for (i in n) if (n.hasOwnProperty(i)) {
if (n[i].start$int !== (o[i] && o[i].start$int) || n[i].end$int !== (o[i] && o[i].end$int)) return;
r++;
}
for (i in o) o.hasOwnProperty(i) && s++;
if (r == s) return !0;
}
}
function r(t) {
return t.replace(/_/g, " ");
}
var a, _, l, u, d, c = i(41), h = i(99), f = i(191), p = c.root.$("livechat"), g = p.$("profile").$("department_id$int"), m = p.$("ui").$("chat_window").$("pre_chat_offline_form").$("stack_index$int"), j = p.$("settings"), C = j.$("timezone$string"), S = j.$("operating_hours"), A = S.$("enabled$bool"), k = S.$("mode$string"), I = S.$("schedule"), N = S.$("dept_schedules"), B = S.$("type$string"), T = S.$("display_notice$bool"), D = {
weekday_weekend: [ [ 1, h.datetime.weekday ], [ 0, h.datetime.weekend ] ],
daily: [ 1, 2, 3, 4, 5, 6, 0 ]
};
t();
}();
for (var C in j) j.hasOwnProperty(C) && ($[C] = j[C]);
$.fire && $.fire("init");
$.setStyle && $.setStyle(u);
$.setAttributes && $.setAttributes(c);
"function" == typeof $.addChildren ? $.addChildren(d) : n.addChildren($, d);
if ($ !== this) {
$.__jx__constructor = l;
$.__jx__native = !1;
}
return $;
}
var l;
t.prototype = a(e.__$$__meshim_widget_widgets_ChatWindowContent.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__meshim_widget_widgets_ChatWindowContent;
t.__jx__jcss = {
".timezone_container": {
fontWeight: "normal"
},
".department": {
marginBottom: "20px"
}
};
_(t, "meshim_widget_components_chatWindow_preChatOfflineForm_OperatingHours");
l = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(4), i(21), i(23), i(31), i(22), i(15), i(3));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t, e, i, r, a) {
if (!(this instanceof n)) return new n(t, e, i, r, a);
if (!n.__jx__jcss_generated) {
o.generate(this, n.prototype.__jx__fqname, n.__jx__jcss, null, n);
n.__jx__jcss_generated = !0;
}
s.call(this, t, e, i, r, a);
}
var o = i(31), r = i(15), s = i(188);
n.__jx__jcss = {
"**self": {
fontWeight: "bold"
}
};
n.prototype = r(s.prototype);
n.prototype.__jx__super = s;
t.exports = n;
e(n, "meshim_widget_widgets_Header");
return n;
}();
}).call(e, i(3));
}, function(t, e, i) {
(function(e, n, o, r, s, a) {
e.__$$__jx_ui_Widget = i(18);
e.__$$__meshim_widget_widgets_Header = i(190);
e.__$$__meshim_widget_widgets_Body = i(188);
t.exports = function() {
function t(s, a, l, u, d) {
if (!(this instanceof t)) return new t(s, a, l, u, d);
a = a || n.generateID();
var c = [ e.__$$__jx_ui_Widget, "", "", [ [ e.__$$__meshim_widget_widgets_Header, "days_el", "", [], {
id: "days_el",
addClass: "short"
} ], [ e.__$$__meshim_widget_widgets_Body, "periods_el", "", [], {
id: "periods_el"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:widgets": "meshim.widget.widgets"
} ], h = c[0].call(this, s, a, null, n.mangleIDs(a, c[3]), c[4]), f = h || this;
n.set(a, f);
var p = n.get(a + "__days_el"), g = n.get(a + "__periods_el");
if (!t.__jx__jcss_generated) {
o.generate(s, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var m = function() {
function t(t) {
for (var e = 0, i = t.length; e < i; e++) r(t[e]) && (t[e] = u[t[e]]);
return t;
}
function e(t) {
for (var e, i, n, o = [], r = 0, s = t.length; r < s; r++) {
if ("number" != typeof t[r]) return t;
e = t[r];
i = t[r - 1];
n = t[r + 1];
r > t[r] && (e += l);
r - 1 > t[r - 1] && (i += l);
r + 1 > t[r + 1] && (n += l);
if (r && i == e - 1) {
if (r != s - 1 && n == e + 1) continue;
o.push(" â€” ", t[r]);
} else {
r && o.push(", ");
o.push(t[r]);
}
}
return o;
}
var n = i(51), o = i(99), s = i(192), a = i(104), _ = i(18), l = 7, u = o.datetime.days, d = "12", c = 0, h = 1440;
f.setData = function(i) {
if (i && i.days) {
p.empty();
var r = i.days;
if (r.length == l) p.setText(o.datetime.everyday); else {
r = t(e(r));
for (var u = 0, f = r.length; u < f; u++) new a(p, null, null, null, {
text: r[u]
});
}
g.empty();
var m, $ = i.periods;
if (i.enabled$bool) {
if ($) for (var b in $) if ($.hasOwnProperty(b)) if ($[b].start$int === c && $[b].end$int === h) {
m = new _(g);
m.setText(o.datetime.all_day);
} else {
m = new s(g);
m.setStart(n.formatMinutesAsHours($[b].start$int, d));
m.setEnd(n.formatMinutesAsHours($[b].end$int, d));
}
} else g.setText(o.pre_chat_offline_form.operating_hours.closed);
}
};
}();
for (var $ in m) m.hasOwnProperty($) && (f[$] = m[$]);
f.fire && f.fire("init");
f.setStyle && f.setStyle(l);
f.setAttributes && f.setAttributes(d);
"function" == typeof f.addChildren ? f.addChildren(u) : n.addChildren(f, u);
if (f !== this) {
f.__jx__constructor = _;
f.__jx__native = !1;
}
return f;
}
var _;
t.prototype = s(e.__$$__jx_ui_Widget.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_Widget;
t.__jx__jcss = {};
a(t, "meshim_widget_components_chatWindow_preChatOfflineForm_operatingHours_Group");
_ = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(4), i(21), i(31), i(24), i(15), i(3));
}, function(t, e, i) {
(function(e, n, o, r, s, a) {
e.__$$__jx_ui_Widget = i(18);
t.exports = function() {
function t(s, a, l, u, d) {
if (!(this instanceof t)) return new t(s, a, l, u, d);
a = a || n.generateID();
var c = [ e.__$$__jx_ui_Widget, "", "", [], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui"
} ], h = c[0].call(this, s, a, null, n.mangleIDs(a, c[3]), c[4]), f = h || this;
n.set(a, f);
if (!t.__jx__jcss_generated) {
o.generate(s, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var p = function() {
function t() {
f.setStart = e;
f.setEnd = n;
if (r && r.onLanguage) {
r.onLanguage(o);
f.onDestruction(function() {
r.unLanguage(o);
});
}
}
function e(t) {
s = t;
o();
}
function n(t) {
a = t;
o();
}
function o() {
var t = l.replace("<start_time>", s || "").replace("<end_time>", a || "");
f.setText(t);
}
var s, a, _ = i(99), l = _.pre_chat_offline_form.operating_hours.period;
t();
}();
for (var g in p) p.hasOwnProperty(g) && (f[g] = p[g]);
f.fire && f.fire("init");
f.setStyle && f.setStyle(l);
f.setAttributes && f.setAttributes(d);
"function" == typeof f.addChildren ? f.addChildren(u) : n.addChildren(f, u);
if (f !== this) {
f.__jx__constructor = _;
f.__jx__native = !1;
}
return f;
}
var _;
t.prototype = s(e.__$$__jx_ui_Widget.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_Widget;
t.__jx__jcss = {};
a(t, "meshim_widget_components_chatWindow_preChatOfflineForm_operatingHours_Period");
_ = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(4), i(21), i(31), i(23), i(15), i(3));
}, function(t, e, i) {
(function(e, n, o, r, s, a, _) {
e.__$$__meshim_widget_widgets_ChatWindowPanel = i(92);
e.__$$__meshim_widget_widgets_ChatWindowDisconnectedToast = i(136);
e.__$$__meshim_widget_components_chatWindow_chatPanel_File = i(194);
e.__$$__meshim_widget_widgets_ChatWindowContent = i(142);
e.__$$__jx_ui_Widget = i(18);
e.__$$__meshim_widget_components_chatWindow_chatPanel_ChatPanelHeader = i(195);
e.__$$__meshim_widget_components_chatWindow_chatPanel_ChatLogContainer = i(213);
e.__$$__meshim_widget_components_chatWindow_chatPanel_ChatTextArea = i(249);
e.__$$__meshim_widget_widgets_Branding = i(93);
e.__$$__meshim_widget_widgets_Button = i(162);
t.exports = function() {
function t(a, _, u, d, c) {
if (!(this instanceof t)) return new t(a, _, u, d, c);
_ = _ || n.generateID();
var h = [ e.__$$__meshim_widget_widgets_ChatWindowPanel, "", "", [ [ e.__$$__meshim_widget_widgets_ChatWindowDisconnectedToast, "", "", [], {
addClass: "disconnected_toast"
} ], [ e.__$$__meshim_widget_components_chatWindow_chatPanel_File, "", "", [], {} ], [ e.__$$__meshim_widget_widgets_ChatWindowContent, "chat_panel_container", "", [ [ e.__$$__jx_ui_Widget, "served_by_container", "", [ [ e.__$$__meshim_widget_components_chatWindow_chatPanel_ChatPanelHeader, "", "", [], {} ] ], {
id: "served_by_container",
class: "served_by_container"
} ], [ e.__$$__meshim_widget_components_chatWindow_chatPanel_ChatLogContainer, "chat_log", "", [], {
id: "chat_log",
addClass: "chat_log"
} ], [ e.__$$__meshim_widget_components_chatWindow_chatPanel_ChatTextArea, "chat_text_area", "", [], {
id: "chat_text_area",
addClass: "chat_text_area"
} ], [ e.__$$__meshim_widget_widgets_Branding, "", "", [], {
addClass: "chat_panel_branding",
hideOnDesktop: "true"
} ], [ e.__$$__meshim_widget_widgets_Button, "scroll_top_btn", "", [], {
id: "scroll_top_btn",
class: "scroll_top_btn"
} ] ], {
id: "chat_panel_container",
class: "chat_panel_container",
absPaddingTop: "chatPanelProfileCardContainerHeight"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:widgets": "meshim.widget.widgets",
"xmlns:chatPanel": "meshim.widget.components.chatWindow.chatPanel",
titleBar: "",
actionBar: "default",
hideBrandingMobile: "true"
} ], f = h[0].call(this, a, _, null, n.mangleIDs(_, h[3]), h[4]), p = f || this;
n.set(_, p);
var g = n.get(_ + "__chat_panel_container"), m = n.get(_ + "__served_by_container"), $ = n.get(_ + "__chat_log"), b = n.get(_ + "__chat_text_area"), w = n.get(_ + "__scroll_top_btn");
if (!t.__jx__jcss_generated) {
o.generate(a, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var x = function() {
function t() {
z.mobile(p);
z.rtl(p);
p.autobind(tt, "value", function(t) {
if (t && t.height$int) {
it = t.height$int;
A();
}
});
V.onAnimationEnd(p, p, function() {
if (T) {
y(!0);
B = null;
$.getScrollTop() && v() ? T = !1 : setTimeout(function() {
y(!0);
T = !1;
}, G);
} else if (B) {
$.setScrollTop(B);
$.getScrollTop() == B ? B = null : setTimeout(function() {
$.setScrollTop(B);
B = null;
}, G);
}
et && it || e();
});
V.onTransitionEnd(p, g, function(t) {
t.target.jx_wrapper == g && ct && y(!0);
});
p.autobind(ot, "value", e);
p.autobind(nt, "value", e);
p.autobind(st, "value", function(t) {
I = t;
o();
_();
a();
});
p.autobind(at, "value", function(t) {
N = t;
o();
_();
a();
});
lt && !dt && r.window.on("focus", a);
p.autobind(X, "value", function() {
ct = v();
});
p.autobind(X, "keys", function(t) {
t && t.length && (I && N == p.getName() ? ft() : T = !0);
});
p.autobind(Q, "value", function(t) {
t && I && N == p.getName() ? s(y) : T = !0;
});
p.autobind(Z, "value", function(t) {
t && ct && s(y);
});
p.on("show", l);
V.onTransitionEnd(p, p, u);
p.autobind(rt, "value", d);
if (dt) {
g.setAbsPaddingTop();
$.defaultPlacement.insertBefore(m, $.defaultPlacement.getFirstChild());
new q(w, null, null, null, {
className: "scroll_top_icon",
icon: "arrow_up"
});
w.on("click", function() {
w.setDisplay("none");
window.scrollTo(0, 0);
});
r.window.on("resize", function() {
c();
h();
});
r.window.on("orientationchange", function() {
c();
h();
});
r.window.on("scroll", function() {
c();
x();
h();
});
p.on("show", function() {
x();
});
r.window.on("resize", ht);
r.window.on("orientationchange", ht);
p.autobind(X, "keys", ht);
p.on("show", ht);
b.on("click", function() {
window.setTimeout(function() {
y();
}, 200);
});
M.isChromeIOSMobile && (p.style.paddingBottom = "42px");
}
}
function e() {
k(!0);
s(n, p, "once");
}
function n() {
if (p.dom) {
b.updateStyles();
S();
$.updateScrollStyles();
}
}
function o() {
I && N == p.getName() && e();
}
function a() {
dt || H.testSafariFocusBug() || I && N == p.getName() && b.focus();
}
function _() {
if (I && N == p.getName()) {
if (T) {
y(!0);
$.getScrollTop() && v() ? T = !1 : U && !V.isIE || setTimeout(function() {
y(!0);
T = !1;
}, G);
B = null;
} else if (B) {
$.setScrollTop(B);
$.getScrollTop() == B ? B = null : U && !V.isIE || setTimeout(function() {
$.setScrollTop(B);
B = null;
}, G);
}
} else B = $.getScrollTop();
}
function l() {
s(y);
p.un("show", l);
S();
}
function u() {
window.setTimeout(y, 300);
V.unTransitionEnd(p, p, u);
S();
}
function d(t) {
m.setDisplay(t ? "block" : "none");
!t || dt ? g.setAbsPaddingTop() : g.setAbsPaddingTop("chatPanelProfileCardContainerHeight");
}
function c() {
b.setStyle("width:" + (p.getWidth() - 2) + "px");
}
function h() {
O && window.clearTimeout(O);
O = window.setTimeout(function() {
window.innerHeight >= 120 && window.scrollY > p.titleBar.getHeight() ? w.setDisplay("block") : w.setDisplay("none");
}, 100);
}
function f() {
var t, e, i;
$.setChatLogMarginTop("0px");
t = p.titleBar.getHeight() + m.getHeight() + b.getHeight();
e = $.getScrollHeight() - m.getHeight();
i = window.document.documentElement.clientHeight - t;
if (e < i) {
p.style.height = "100%";
e > 0 ? $.setChatLogMarginTop(i - 31 - e + "px") : $.setChatLogMarginTop(i - e + "px");
} else {
p.style.height = "auto";
$.setChatLogMarginTop("10px");
}
}
function x() {
E && window.clearTimeout(E);
E = window.setTimeout(function() {
v() ? b.setStyle("position:absolute; left: 0px;") : b.setStyle("position:fixed; left:" + Math.round((window.innerWidth - p.getWidth()) / 2 + 1) + "px;");
}, 50);
}
function v() {
return dt ? window.scrollY + window.innerHeight >= p.getScrollHeight() : $.getScrollTop() + $.getHeight() >= $.getScrollHeight();
}
function y(t) {
if (p.dom) if (dt) {
t ? window.scrollTo(0, p.getScrollHeight()) : s(function() {
window.scrollTo(0, p.getScrollHeight());
});
window.setTimeout(function() {
x();
}, 100);
} else t ? $.setScrollTop($.getScrollHeight()) : j();
}
function j() {
if (!P && !v()) {
L = +new Date();
W = $.getScrollTop();
$.getScrollHeight() - $.getHeight() - W <= mt ? $.setScrollTop($.getScrollHeight()) : P = window.setInterval(C, gt);
}
}
function C() {
if (v()) {
window.clearInterval(P);
P = null;
} else {
var t = +new Date();
if (t >= L + pt) {
$.setScrollTop($.getScrollHeight());
window.clearInterval(P);
P = null;
} else $.setScrollTop(W + (t - L) / pt * ($.getScrollHeight() - W));
}
}
function S() {
var t = b.getComputedStyle();
if (t) {
et = (parseInt(t.paddingTop, 10) || 0) + (parseInt(t.paddingBottom, 10) || 0) + ((parseInt(t.borderTopWidth, 10) || 0) + (dt ? 0 : 1)) + ((parseInt(t.borderBottomWidth, 10) || 0) + (dt ? 0 : 1));
A();
}
}
function A() {
D && window.clearTimeout(D);
k(D);
D = window.setTimeout(k, 500);
}
function k(t) {
D && window.clearTimeout(D);
D = null;
if (p.dom && it) {
t || (ct = v());
g.setStyle("padding-bottom", it + et + "px");
ct && y(dt && "" === tt.$("value$string").getValue());
}
}
var I, N, B, T, D, E, O, P, L, W, R = i(59), F = i(41), M = i(56), V = i(51), H = i(254), z = i(97), q = i(98), U = V.isStyleSupported("animation"), G = 200, Y = F.root.$("livechat"), X = Y.$("channel").$("log"), K = Y.$("ui").$("chat_window"), Z = K.$("typing_info").$("agent_typing$bool"), Q = K.$("file_upload_scroll$bool"), J = K.$("chat_panel"), tt = J.$("textarea"), et = 0, it = 0, nt = Y.$("ui").$("theme_loaded$bool"), ot = Y.$("settings").$("theme").$("chat_window").$("size$string"), rt = Y.$("ui").$("chat_window").$("display_profile_card$bool"), st = K.$("display$bool"), at = K.$("main_stack_name$string"), _t = Y.$("ui").$("popout$bool"), lt = _t.getValue(), ut = Y.$("ui").$("mobile$bool"), dt = ut.getValue(), ct = !0, ht = R.debounce(f, 200), ft = R.debounce(y, 100), pt = 200, gt = 16, mt = 200;
t();
}();
for (var v in x) x.hasOwnProperty(v) && (p[v] = x[v]);
p.fire && p.fire("init");
p.setStyle && p.setStyle(u);
p.setAttributes && p.setAttributes(c);
"function" == typeof p.addChildren ? p.addChildren(d) : n.addChildren(p, d);
if (p !== this) {
p.__jx__constructor = l;
p.__jx__native = !1;
}
return p;
}
var l;
t.prototype = a(e.__$$__meshim_widget_widgets_ChatWindowPanel.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__meshim_widget_widgets_ChatWindowPanel;
t.__jx__jcss = {
".chat_panel_container": {
position: "relative",
"width, height": "100%",
zIndex: 20,
transition: "padding 0.1s ease-in-out",
"*overflow": "visible !important",
".served_by_container": {
position: "absolute",
"top, left": 0,
width: "100%",
padding: "$$paddingXL",
height: "$$chatPanelProfileCardContainerHeight",
background: "$$chatPanelProfileCardContainerBackground",
borderWidth: "$$chatPanelProfileCardContainerBorderWidth",
borderStyle: "$$chatPanelProfileCardContainerBorderStyle",
borderColor: "$$chatPanelProfileCardContainerBorderColor"
},
".chat_text_area": {
position: "absolute",
bottom: 0,
left: 0,
width: "100%"
},
".chat_log": {
".scrollable_inner": {
padding: 0
}
}
},
".disconnected_toast": {
top: "25%"
},
".scroll_top_btn": {
position: "fixed",
top: "20px",
left: "50%",
width: "60px",
height: "40px",
marginLeft: "-30px",
padding: "0px",
zIndex: "1000",
display: "none",
".scroll_top_icon": {
lineHeight: "44px",
textAlign: "center",
fontSize: "16px"
}
},
"&.mobile": {
".served_by_container": {
position: "relative",
padding: "10px",
height: "auto"
},
".chat_panel_container": {
".chat_log": {
marginBottom: "30px"
}
},
".chat_panel_branding": {
display: "block",
position: "absolute",
padding: "5px",
bottom: "45px",
margin: "0",
zIndex: "30"
},
".disconnected_toast": {
top: "60px"
}
},
"&.mobile.ltr": {
".chat_panel_branding": {
left: "10px"
}
},
"&.mobile.rtl": {
".chat_panel_branding": {
right: "10px"
}
}
};
_(t, "meshim_widget_components_chatWindow_ChatPanel");
l = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(4), i(21), i(31), i(6), i(13), i(15), i(3));
}, function(t, e, i) {
(function(e, n, o, r, s, a, _, l) {
e.__$$__meshim_widget_widgets_Toast = i(138);
e.__$$__jx_ui_html_div = i(124);
t.exports = function() {
function t(_, l, d, c, h) {
if (!(this instanceof t)) return new t(_, l, d, c, h);
l = l || n.generateID();
var f = [ e.__$$__meshim_widget_widgets_Toast, "", "", [ [ e.__$$__jx_ui_html_div, "message", "", [], {
id: "message"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:widgets": "meshim.widget.widgets"
} ], p = f[0].call(this, _, l, null, n.mangleIDs(l, f[3]), f[4]), g = p || this;
n.set(l, g);
var m = n.get(l + "__message");
if (!t.__jx__jcss_generated) {
o.generate(_, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var $ = function() {
function t() {
l.onTransitionEnd(g, g, e);
b && s.window.on("click", e);
g.onDestruction(function() {
b && s.window.un("click", e);
});
g.autobind($, "value", function(t) {
if (t) {
"size" == t ? m.setText(d[t].replace("<size>", c)) : m.setText(d[t] || d.default);
p && window.clearTimeout(p);
f && g.removeClass("fade_out");
g.setDisplay("");
f && g.dom.offsetHeight;
f && a(function() {
g.addClass("fade_out");
});
p = window.setTimeout(e, h);
} else e();
});
}
function e() {
g.setDisplay("none");
}
var n = i(41), o = i(55), _ = i(43), l = i(51), u = i(99), d = u.file_upload.error, c = o.prettySize(_.FILE_UPLOAD_MAX, {
base2: !0
}), h = 3100, f = l.isStyleSupported("transition");
r.isFF && (f = !1);
var p, $ = n.root.$("livechat").$("ui").$("chat_window").$("chat_panel").$("file_toast").$("error$string"), b = n.root.$("livechat").$("ui").$("popout$bool");
t();
}();
for (var b in $) $.hasOwnProperty(b) && (g[b] = $[b]);
g.fire && g.fire("init");
g.setStyle && g.setStyle(d);
g.setAttributes && g.setAttributes(h);
"function" == typeof g.addChildren ? g.addChildren(c) : n.addChildren(g, c);
if (g !== this) {
g.__jx__constructor = u;
g.__jx__native = !1;
}
return g;
}
var u;
t.prototype = _(e.__$$__meshim_widget_widgets_Toast.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__meshim_widget_widgets_Toast;
t.__jx__jcss = {
"**self": {
position: "absolute",
zIndex: "1000",
top: "50%",
left: "50%",
width: "160px",
height: "auto",
marginTop: "-32px",
marginLeft: "-80px",
padding: "10px",
textAlign: "center",
fontWeight: "bold",
transition: "opacity 0.5s linear 2.5s",
opacity: 1,
"&": "$$fileToast",
"&.fade_out": {
opacity: 0
}
}
};
l(t, "meshim_widget_components_chatWindow_chatPanel_File");
u = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(4), i(21), i(31), i(7), i(6), i(13), i(15), i(3));
}, function(t, e, i) {
(function(e, n, o, r, s, a) {
e.__$$__jx_ui_html_div = i(124);
e.__$$__jx_ui_html_table = i(106);
e.__$$__jx_ui_html_tbody = i(107);
e.__$$__jx_ui_html_tr = i(108);
e.__$$__jx_ui_html_td = i(109);
e.__$$__jx_ui_ViewStack = i(90);
e.__$$__meshim_widget_widgets_AgentProfileCard = i(196);
e.__$$__meshim_widget_widgets_MultiProfilesCard = i(201);
t.exports = function() {
function t(s, a, l, u, d) {
if (!(this instanceof t)) return new t(s, a, l, u, d);
a = a || n.generateID();
var c = [ e.__$$__jx_ui_html_div, "", "", [ [ e.__$$__jx_ui_html_table, "", "", [ [ e.__$$__jx_ui_html_tbody, "", "", [ [ e.__$$__jx_ui_html_tr, "", "", [ [ e.__$$__jx_ui_html_td, "", "", [ [ e.__$$__jx_ui_ViewStack, "stack", "", [ [ e.__$$__meshim_widget_widgets_AgentProfileCard, "agent_card", "", [], {
id: "agent_card",
addClass: "card"
} ], [ e.__$$__meshim_widget_widgets_MultiProfilesCard, "multi_agents_card", "", [], {
id: "multi_agents_card",
addClass: "card cursor_pointer"
} ] ], {
id: "stack"
} ] ], {
pseudo: "served_by_cell"
} ], [ e.__$$__jx_ui_html_td, "rating_cell", "", [], {
pseudo: "rating_cell",
id: "rating_cell",
class: "display_none"
} ] ], {} ] ], {} ] ], {
class: "profile_table"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:widgets": "meshim.widget.widgets"
} ], h = c[0].call(this, s, a, null, n.mangleIDs(a, c[3]), c[4]), f = h || this;
n.set(a, f);
var p = n.get(a + "__stack"), g = n.get(a + "__agent_card"), m = n.get(a + "__multi_agents_card"), $ = n.get(a + "__rating_cell");
if (!t.__jx__jcss_generated) {
o.generate(s, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var b = function() {
function t() {
p.on("instantiate", function(t) {
var e = p.children[t];
e.onGravatarClick = n;
e.onContentClick = n;
0 === t ? g = e : m = e;
});
p.setIndex(0);
f.autobind(y, "keys", e);
f.autobind(A, "value", o);
f.autobind(j, "value", o);
f.autobind(k, "value", o);
B && f.addClass("mobile");
}
function e() {
var t = y.getKeys().length;
if (t > 1) {
if (1 === p.getIndex()) return;
p.setIndex(1);
g.setDataNode(null);
m.setDataNode(y);
} else {
if (0 !== p.getIndex()) {
p.setIndex(0);
m.setDataNode(null);
}
var e;
if (1 === t) {
e = y.$(y.getKeys()[0]);
g.addClass("cursor_pointer");
} else {
e = S;
g.removeClass("cursor_pointer");
}
g.setDataNode(e);
}
}
function n() {
N.getValue() && l.resetUnreadCount();
y.getKeys().length && I.update("agent_list");
}
function o() {
var t = r(A.getValue()), e = r(j.getValue()), i = r(k.getValue());
s(t && e && i);
}
function s(t) {
if (t) {
w || a();
$.removeClass("display_none");
} else $.addClass("display_none");
}
function a() {
w = new b($).setPseudo("rating_bar");
w.setDataNode(C);
w.setSize("small");
w.on("change", _);
}
function _(t) {
T && u.scrollToBottom();
C && h.writeNode(C, t);
var e = "chat_panel", i = {
good: "Good",
bad: "Bad"
};
c.trackEvent("Chat_Rating_" + (i[t] || "Removed"), e);
}
var l = i(87), u = i(202), d = i(41), c = i(180), h = i(51), b = i(204), w = null, x = d.root.$("livechat"), v = x.$("channel"), y = x.$("agents"), j = v.$("served$bool"), C = v.$("rating$string"), S = x.$("settings").$("concierge"), A = x.$("settings").$("rating").$("enabled$bool"), k = x.$("settings").$("theme").$("chat_window").$("profile_card").$("display_rating$bool"), I = x.$("ui").$("chat_window").$("main_stack_name$string"), N = x.$("ui").$("popout$bool"), B = x.$("ui").$("mobile$bool").getValue(), T = x.$("ui").$("mobile_overlay$bool").getValue();
t();
}();
for (var w in b) b.hasOwnProperty(w) && (f[w] = b[w]);
f.fire && f.fire("init");
f.setStyle && f.setStyle(l);
f.setAttributes && f.setAttributes(d);
"function" == typeof f.addChildren ? f.addChildren(u) : n.addChildren(f, u);
if (f !== this) {
f.__jx__constructor = _;
f.__jx__native = !1;
}
return f;
}
var _;
t.prototype = s(e.__$$__jx_ui_html_div.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_html_div;
t.__jx__jcss = {
"**self": {
height: "100%",
".profile_table": {
width: "100%"
},
".card": {
".avatar_cell": {
width: "50px",
verticalAlign: "bottom",
".profile_avatar": {
position: "absolute",
bottom: "0",
"width, height": "50px",
borderWidth: "$$chatPanelProfileCardAvatarBorderWidth",
borderStyle: "$$chatPanelProfileCardAvatarBorderStyle",
borderColor: "$$chatPanelProfileCardAvatarBorderColor",
borderRadius: "$$chatPanelProfileCardAvatarRadius",
boxShadow: "$$chatPanelProfileCardAvatarShadow"
}
},
".content_cell": {
padding: "0 10px",
verticalAlign: "middle",
width: "100%",
height: "32px",
".profile_name, .profile_title": {
overflow: "hidden",
width: "100%",
whiteSpace: "nowrap"
}
}
},
".rating_cell": {
width: "52px",
verticalAlign: "middle"
},
".cursor_pointer": {
cursor: "pointer"
},
".display_none": {
display: "none"
}
},
"&.mobile": {
".card": {
".avatar_cell": {
width: "40px",
verticalAlign: "middle",
".profile_avatar": {
position: "relative",
"width, height": "40px"
}
},
".content_cell": {
verticalAlign: "middle",
".profile_name": {
marginTop: "3px"
}
}
},
".rating_cell": {
width: "88px"
}
}
};
a(t, "meshim_widget_components_chatWindow_chatPanel_ChatPanelHeader");
_ = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(4), i(21), i(31), i(17), i(15), i(3));
}, function(t, e, i) {
(function(e, n, o, r, s, a) {
e.__$$__meshim_widget_widgets_ProfileCard = i(197);
t.exports = function() {
function t(s, a, l, u, d) {
if (!(this instanceof t)) return new t(s, a, l, u, d);
a = a || n.generateID();
var c = [ e.__$$__meshim_widget_widgets_ProfileCard, "", "", [], {
xmlns: "meshim.widget.widgets"
} ], h = c[0].call(this, s, a, null, n.mangleIDs(a, c[3]), c[4]), f = h || this;
n.set(a, f);
if (!t.__jx__jcss_generated) {
o.generate(s, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var p = function() {
function t(t) {
n.call(f, t);
if (t && t !== l) {
var e = t.$("title$string"), i = new a(e, u);
f.setTitleNode(i);
}
}
function e() {
n = f.setDataNode || function() {};
f.setDataNode = t;
}
var n, o = r(207), s = i(41), a = i(200), _ = i(42), l = s.root.$$("livechat.settings.concierge"), u = new _("title$string");
u.update(o);
e();
}();
for (var g in p) p.hasOwnProperty(g) && (f[g] = p[g]);
f.fire && f.fire("init");
f.setStyle && f.setStyle(l);
f.setAttributes && f.setAttributes(d);
"function" == typeof f.addChildren ? f.addChildren(u) : n.addChildren(f, u);
if (f !== this) {
f.__jx__constructor = _;
f.__jx__native = !1;
}
return f;
}
var _;
t.prototype = s(e.__$$__meshim_widget_widgets_ProfileCard.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__meshim_widget_widgets_ProfileCard;
t.__jx__jcss = {};
a(t, "meshim_widget_widgets_AgentProfileCard");
_ = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(4), i(21), i(31), i(23), i(15), i(3));
}, function(t, e, i) {
(function(e, n, o, r, s) {
e.__$$__jx_ui_html_div = i(124);
e.__$$__jx_ui_html_table = i(106);
e.__$$__jx_ui_html_tbody = i(107);
e.__$$__jx_ui_html_tr = i(108);
e.__$$__jx_ui_html_td = i(109);
e.__$$__meshim_widget_widgets_Gravatar = i(149);
e.__$$__meshim_widget_widgets_profileCard_MemberName = i(198);
e.__$$__meshim_widget_widgets_profileCard_TitleHolder = i(199);
t.exports = function() {
function t(r, s, _, l, u) {
if (!(this instanceof t)) return new t(r, s, _, l, u);
s = s || n.generateID();
var d = [ e.__$$__jx_ui_html_div, "", "", [ [ e.__$$__jx_ui_html_table, "", "", [ [ e.__$$__jx_ui_html_tbody, "", "", [ [ e.__$$__jx_ui_html_tr, "", "", [ [ e.__$$__jx_ui_html_td, "", "", [ [ e.__$$__meshim_widget_widgets_Gravatar, "gravatar", "", [], {
id: "gravatar",
addClass: "profile_avatar"
} ] ], {
class: "avatar_cell"
} ], [ e.__$$__jx_ui_html_td, "content_cell", "", [ [ e.__$$__meshim_widget_widgets_profileCard_MemberName, "name_holder", "", [], {
id: "name_holder",
addClass: "profile_name"
} ], [ e.__$$__meshim_widget_widgets_profileCard_TitleHolder, "title_holder", "", [], {
id: "title_holder",
addClass: "profile_title"
} ] ], {
pseudo: "content_cell",
id: "content_cell"
} ] ], {} ] ], {} ] ], {
class: "profile_table"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:widget": "meshim.widget"
} ], c = d[0].call(this, r, s, null, n.mangleIDs(s, d[3]), d[4]), h = c || this;
n.set(s, h);
var f = n.get(s + "__gravatar"), p = n.get(s + "__content_cell"), g = n.get(s + "__name_holder"), m = n.get(s + "__title_holder");
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var $ = function() {
function t() {
f.on("click", function() {
h.onGravatarClick && h.onGravatarClick();
});
p.on("click", function() {
h.onContentClick && h.onContentClick();
});
u.getValue() && h.addClass("mobile");
h.autobind(_, "value", function(t) {
h[t ? "removeClass" : "addClass"]("no_avatar");
});
h.autobind(l, "value", function(t) {
h[t ? "removeClass" : "addClass"]("no_title_name");
});
h.setDataNode = e;
h.setTitleNode = n;
}
function e(t) {
f.setMemberNode(t);
if (t) {
o = t.$("display_name$string");
g.setDataNode(o);
r = t.$("title$string");
n(r);
} else {
g.setDataNode(null);
n(null);
}
}
function n(t) {
r = t;
m.setDataNode(r);
}
var o, r, s = i(41), a = s.root.$("livechat"), _ = a.$("settings").$("theme").$("chat_window").$("profile_card").$("display_avatar$bool"), l = a.$("settings").$("theme").$("chat_window").$("profile_card").$("display_title_name$bool"), u = a.$("ui").$("mobile$bool");
t();
}();
for (var b in $) $.hasOwnProperty(b) && (h[b] = $[b]);
h.fire && h.fire("init");
h.setStyle && h.setStyle(_);
h.setAttributes && h.setAttributes(u);
"function" == typeof h.addChildren ? h.addChildren(l) : n.addChildren(h, l);
if (h !== this) {
h.__jx__constructor = a;
h.__jx__native = !1;
}
return h;
}
var a;
t.prototype = r(e.__$$__jx_ui_html_div.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_html_div;
t.__jx__jcss = {
"**self": {
width: "100%",
position: "relative",
".profile_table": {
width: "100%",
tableLayout: "fixed",
fontSize: "100%",
borderSpacing: "0px",
borderCollapse: "collapse",
td: {
padding: "0px"
}
},
".profile_avatar": {
width: "32px",
height: "32px",
borderWidth: "$$profileCardAvatarBorderWidth",
borderStyle: "$$profileCardAvatarBorderStyle",
borderColor: "$$profileCardAvatarBorderColor",
borderRadius: "$$profileCardAvatarRadius",
boxShadow: "$$profileCardAvatarShadow"
},
".profile_name": {
fontWeight: "bold",
color: "$$profileCardNameColor"
},
".profile_title": {
color: "$$profileCardTitleColor"
},
".profile_name, .profile_title": {
lineHeight: "1.2"
}
},
"**self.no_avatar .profile_table": {
".avatar_cell": {
display: "none"
},
".content_cell": {
paddingLeft: "0px"
}
},
"**self.no_title_name .profile_table": {
".content_cell": {
visibility: "hidden"
}
},
"**self.mobile": {
".profile_table": {
height: "100%"
}
}
};
s(t, "meshim_widget_widgets_ProfileCard");
a = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(4), i(21), i(31), i(15), i(3));
}, function(t, e, i) {
(function(e, n, o, r, s) {
e.__$$__jx_ui_html_div = i(124);
t.exports = function() {
function t(r, s, _, l, u) {
if (!(this instanceof t)) return new t(r, s, _, l, u);
s = s || n.generateID();
var d = [ e.__$$__jx_ui_html_div, "", "", [], {
xmlns: "jx.ui.html",
"xmlns:widget": "meshim.widget",
"xmlns:mui": "meshim.ui"
} ], c = d[0].call(this, r, s, null, n.mangleIDs(s, d[3]), d[4]), h = c || this;
n.set(s, h);
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var f = function() {
function t() {
h.setText(o.get(n));
}
function e(e) {
if (n !== e) {
n && h.autounbind(n, "value", t);
n = e;
n && h.autobind(n, "value", t);
}
}
var n, o = i(99);
h.setDataNode = e;
}();
for (var p in f) f.hasOwnProperty(p) && (h[p] = f[p]);
h.fire && h.fire("init");
h.setStyle && h.setStyle(_);
h.setAttributes && h.setAttributes(u);
"function" == typeof h.addChildren ? h.addChildren(l) : n.addChildren(h, l);
if (h !== this) {
h.__jx__constructor = a;
h.__jx__native = !1;
}
return h;
}
var a;
t.prototype = r(e.__$$__jx_ui_html_div.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_html_div;
t.__jx__jcss = {
"**self": {
whiteSpace: "inherit",
overflow: "hidden",
textOverflow: "ellipsis",
fontWeight: "bold",
lineHeight: "1.2",
paddingBottom: "2px"
}
};
s(t, "meshim_widget_widgets_profileCard_MemberName");
a = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(4), i(21), i(31), i(15), i(3));
}, function(t, e, i) {
(function(e, n, o, r, s) {
e.__$$__jx_ui_html_div = i(124);
t.exports = function() {
function t(r, s, _, l, u) {
if (!(this instanceof t)) return new t(r, s, _, l, u);
s = s || n.generateID();
var d = [ e.__$$__jx_ui_html_div, "", "", [], {
xmlns: "jx.ui.html",
"xmlns:widget": "meshim.widget",
"xmlns:mui": "meshim.ui"
} ], c = d[0].call(this, r, s, null, n.mangleIDs(s, d[3]), d[4]), h = c || this;
n.set(s, h);
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var f = function() {
function t() {
h.setText(o.get(n));
}
function e(e) {
if (n !== e) {
n && h.autounbind(n, "value", t);
n = e;
n && h.autobind(n, "value", t);
}
}
var n, o = i(99);
h.setDataNode = e;
}();
for (var p in f) f.hasOwnProperty(p) && (h[p] = f[p]);
h.fire && h.fire("init");
h.setStyle && h.setStyle(_);
h.setAttributes && h.setAttributes(u);
"function" == typeof h.addChildren ? h.addChildren(l) : n.addChildren(h, l);
if (h !== this) {
h.__jx__constructor = a;
h.__jx__native = !1;
}
return h;
}
var a;
t.prototype = r(e.__$$__jx_ui_html_div.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_html_div;
t.__jx__jcss = {
"**self": {
whiteSpace: "inherit",
overflow: "hidden",
textOverflow: "ellipsis",
paddingBottom: "2px"
}
};
s(t, "meshim_widget_widgets_profileCard_TitleHolder");
a = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(4), i(21), i(31), i(15), i(3));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n() {
var t = [].slice.call(arguments);
if (t.length < 1) throw "Invalid chain: <empty>";
var e = null;
"string" == typeof t[t.length - 1] && (e = t.pop());
s.call(this, "chained$value");
this._chain = t;
this._default_primitive = e;
this._leafNodeValueCheck = o(this._leafNodeValueCheck, this);
}
function o(t, e) {
return function() {
t.apply(e, arguments);
};
}
var r = i(15), s = i(42), a = n.prototype = r(s.prototype);
a.bindValue = function() {
if (0 === this.listeners_value.length) for (var t = this._chain.length; t--; ) this._chain[t].bindValue(this._leafNodeValueCheck);
s.prototype.bindValue.apply(this, arguments);
};
a.unbindValue = function() {
s.prototype.unbindValue.apply(this, arguments);
if (0 === this.listeners_value.length) for (var t = this._chain.length; t--; ) this._chain[t].unbindValue(this._leafNodeValueCheck);
};
a.getChainedValue = function() {
for (var t = 0, e = this._chain.length; t < e; t++) {
var i = this._chain[t].getValue();
if (i) return i;
}
return this._default_primitive;
};
a._leafNodeValueCheck = function() {
this.update(this.getChainedValue());
};
t.exports = n;
e(n, "meshim_common_ChainedValueDataNode");
return n;
}();
}).call(e, i(3));
}, function(t, e, i) {
(function(e, n, o, r, s) {
e.__$$__jx_ui_html_div = i(124);
e.__$$__jx_ui_html_table = i(106);
e.__$$__jx_ui_html_tbody = i(107);
e.__$$__jx_ui_html_tr = i(108);
e.__$$__jx_ui_html_td = i(109);
e.__$$__meshim_widget_widgets_Gravatar = i(149);
e.__$$__meshim_widget_widgets_profileCard_MemberName = i(198);
t.exports = function() {
function t(r, s, _, l, u) {
if (!(this instanceof t)) return new t(r, s, _, l, u);
s = s || n.generateID();
var d = [ e.__$$__jx_ui_html_div, "", "", [ [ e.__$$__jx_ui_html_table, "", "", [ [ e.__$$__jx_ui_html_tbody, "", "", [ [ e.__$$__jx_ui_html_tr, "", "", [ [ e.__$$__jx_ui_html_td, "", "", [ [ e.__$$__meshim_widget_widgets_Gravatar, "gravatar", "", [], {
id: "gravatar",
pseudo: "profile_avatar"
} ] ], {
pseudo: "avatar_cell"
} ], [ e.__$$__jx_ui_html_td, "content_cell", "", [ [ e.__$$__meshim_widget_widgets_profileCard_MemberName, "agent0", "", [], {
id: "agent0",
addClass: "profile_name"
} ], [ e.__$$__meshim_widget_widgets_profileCard_MemberName, "agent1", "", [], {
id: "agent1",
addClass: "profile_name"
} ] ], {
pseudo: "content_cell",
id: "content_cell"
} ] ], {} ] ], {} ] ], {
class: "profile_table"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:widgets": "meshim.widget.widgets"
} ], c = d[0].call(this, r, s, null, n.mangleIDs(s, d[3]), d[4]), h = c || this;
n.set(s, h);
var f = n.get(s + "__gravatar"), p = n.get(s + "__content_cell"), g = n.get(s + "__agent0"), m = n.get(s + "__agent1");
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var $ = function() {
function t() {
h.setDataNode = e;
f.on("click", function() {
h.onGravatarClick && h.onGravatarClick();
});
p.on("click", function() {
h.onContentClick && h.onContentClick();
});
l.getValue() && h.addClass("mobile");
h.autobind(a, "value", function(t) {
h[t ? "removeClass" : "addClass"]("no_avatar");
});
h.autobind(_, "value", function(t) {
h[t ? "removeClass" : "addClass"]("no_title_name");
});
}
function e(t) {
if (o) {
if (o === t) return;
h.autounbind(o, "keys", n);
}
o = t;
if (o) {
f.setGroupNode(t);
h.autobind(o, "keys", n);
}
}
function n() {
var t = o.getKeys();
g.setDataNode(t.length <= 0 ? null : o.$(t[0]).$("display_name$string"));
m.setDataNode(t.length <= 1 ? null : o.$(t[1]).$("display_name$string"));
}
var o, r = i(41), s = r.root.$("livechat"), a = s.$("settings").$("theme").$("chat_window").$("profile_card").$("display_avatar$bool"), _ = s.$("settings").$("theme").$("chat_window").$("profile_card").$("display_title_name$bool"), l = s.$("ui").$("mobile$bool");
t();
}();
for (var b in $) $.hasOwnProperty(b) && (h[b] = $[b]);
h.fire && h.fire("init");
h.setStyle && h.setStyle(_);
h.setAttributes && h.setAttributes(u);
"function" == typeof h.addChildren ? h.addChildren(l) : n.addChildren(h, l);
if (h !== this) {
h.__jx__constructor = a;
h.__jx__native = !1;
}
return h;
}
var a;
t.prototype = r(e.__$$__jx_ui_html_div.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_html_div;
t.__jx__jcss = {
"**self": {
width: "100%",
position: "relative",
".profile_table": {
width: "100%",
tableLayout: "fixed",
fontSize: "100%",
borderSpacing: "0px",
borderCollapse: "collapse",
td: {
padding: "0px"
}
},
".profile_avatar": {
width: "32px",
height: "32px",
"&": "$$profileCardAvatar"
}
},
"**self.mobile": {
".profile_table": {
height: "100%"
}
},
"**self.no_avatar .profile_table": {
".avatar_cell": {
display: "none"
},
".content_cell": {
paddingLeft: "0px"
}
},
"**self.no_title_name .profile_table": {
".content_cell": {
visibility: "hidden"
}
}
};
s(t, "meshim_widget_widgets_MultiProfilesCard");
a = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(4), i(21), i(31), i(15), i(3));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n() {
w = H.root;
x = w.$("livechat");
v = x.$("ui").$("chat_button");
y = x.$("ui").$("chat_window");
S = x.$("channel").$("typing");
k = x.$("channel").$("log");
j = y.$("chat_panel");
C = j.$("textarea");
A = j.$("scrollable");
I = x.$("ui").$("chat_button").$("button_clicked$bool");
N = y.$("display$bool");
B = y.$("main_stack_name$string");
R.window.on("resize", c);
k.on("keys", d);
I.on("value", p);
E = 0;
L = !1;
W = !1;
O = !0;
}
function o(t) {
C.update({
value$string: t
});
if (t) {
T || _();
clearTimeout(D);
D = setTimeout(l, z);
} else if (T !== !1) {
D = clearTimeout(D);
l();
}
}
function r() {
return E <= 5;
}
function s(t, e) {
if (O) {
t = t || q.SMOOTH;
var i = A.$(t).getValue() || 0, n = {};
n[t] = i + 1;
A.update(n);
if (void 0 === e) {
clearTimeout(P);
P = setTimeout(function() {
s(t, !0);
}, 250);
}
}
}
function a(t) {
r() && s(t);
}
function _() {
T = !0;
S.write({
typing$bool: !0
});
V.setUserChoice(!0);
}
function l() {
T = !1;
S.write({
typing$bool: !1
});
}
function u(t) {
var e = t.trim();
if (e) {
H.livechat.sendChatMsg({
msg: e
});
o("");
s(q.SMOOTH);
}
}
function d() {
a(q.SMOOTH);
}
function c() {
E = void 0;
s(q.INSTANT);
}
function h(t) {
E = t;
L && (W = !0);
O && A.$("scrolled_to_bottom$bool").update(r());
W && g();
U();
}
function f() {
s(q.SMOOTH);
}
function p() {
s(q.INSTANT);
}
function g() {
O && r() && "chat_panel" === B.getValue() && N.getValue() === !0 && 0 !== v.$("unread_count$int").getValue() && M.resetUnreadCount();
}
function m() {
L = !0;
g();
}
function $() {
L = !1;
}
function b() {
D = clearTimeout(D);
P = clearTimeout(P);
k.un("keys", d);
I.un("value", p);
w = x = v, y = j = C = S = A = k = I = N = B = T = E = O = L = W = void 0;
}
var w, x, v, y, j, C, S, A, k, I, N, B, T, D, E, O, P, L, W, R = i(6), F = i(59), M = i(87), V = i(203), H = i(41), z = 12e4, q = {
SMOOTH: "smooth_scroll_count$int",
INSTANT: "instant_scroll_count$int"
}, U = F.debounce(function() {
W = !1;
}, 80), G = {
TYPING_TIMEOUT: z,
SCROLL_TYPES: q,
init: n,
scrollToBottom: s,
userFocusTextArea: f,
userInputValue: o,
userChangeOrientation: c,
userClickChatButton: p,
userDistFromBottom: h,
userSendMessage: u,
userReceiveMessage: d,
userTouchStart: m,
userTouchEnd: $,
resetState: b
};
t.exports = G;
e(G, "meshim_widget_controllers_ChatPanelController");
return G;
}();
}).call(e, i(3));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n() {
c = b.root;
h = c.$("livechat").$("settings").$("cookie_law");
f = h.$("enabled$bool");
p = c.$("livechat").$("profile");
g = p.$("allow_cookies$bool");
var t = $.getAllowCookieLaw();
"boolean" == typeof t && p.write({
allow_cookies$bool: t
});
}
function o() {
var t = "Zendesk Chat", e = c.$("connection").$("status$string").getValue();
e ? window.console && window.console.log && window.console.log(t + ": Cookie Law mode must be enabled immediately after embedding script") : h.write({
enabled$bool: !0
});
}
function r(t) {
t = m(t);
var e = a(), i = _();
if (t !== e) {
$.setAllowCookieLaw(t);
p.write({
allow_cookies$bool: t
});
var n = s();
if (n) {
t === !1 && b.livechat.clearAll();
t !== i && b.livechat.reconnect();
}
}
}
function s() {
var t = f.getValue();
return !!t;
}
function a() {
return g.getValue();
}
function _() {
var t = a();
return "boolean" != typeof t || t;
}
function l() {
var t = s(), e = _();
return t && e === !1;
}
function u() {
var t = a();
"boolean" != typeof t && r(!1);
}
function d() {
if (x.isCookieDenied()) {
var t = w.cookie_law.request_use_cookies_golion + "\n\n" + w.cookie_law.privacy_policy + ": https://www.zendesk.com/privacy";
if (window.confirm(t)) {
x.setUserChoice(!0);
return !0;
}
return !1;
}
return !0;
}
var c, h, f, p, g, m = i(17), $ = i(47), b = i(41), w = i(99), x = {
init: n,
enableCookieLaw: o,
setUserChoice: r,
isCookieDenied: l,
setDefaultImplicitConsent: u,
requestPermission: d
};
t.exports = x;
e(x, "meshim_widget_controllers_CookieLaw");
return x;
}();
}).call(e, i(3));
}, function(t, e, i) {
(function(e, n, o, r, s) {
e.__$$__jx_ui_Widget = i(18);
e.__$$__meshim_widget_widgets_ratingBar_emoticon_Emoticon = i(205);
e.__$$__meshim_widget_widgets_ratingBar_thumb_Thumb = i(211);
t.exports = function() {
function t(r, s, a, _, l) {
if (!(this instanceof t)) return new t(r, s, a, _, l);
s = s || n.generateID();
var u = [ e.__$$__jx_ui_Widget, "", "", [ [ e.__$$__meshim_widget_widgets_ratingBar_emoticon_Emoticon, "emoticon_rating_options", "", [], {
id: "emoticon_rating_options",
addClass: "button_bar",
visible: "none"
} ], [ e.__$$__meshim_widget_widgets_ratingBar_thumb_Thumb, "thumb_rating_options", "", [], {
id: "thumb_rating_options",
addClass: "button_bar",
visible: "none"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:widgets": "meshim.widget.widgets"
} ], d = u[0].call(this, r, s, null, n.mangleIDs(s, u[3]), u[4]), c = d || this;
n.set(s, c);
var h = n.get(s + "__emoticon_rating_options"), f = n.get(s + "__thumb_rating_options");
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var p = function() {
function t() {
c.setDataNode = e;
c.getValue = i;
c.setValue = n;
c.setSize = a;
s();
u.on("change", r);
}
function e(t) {
_ && c.autounbind(_, "value", o);
_ = t;
_ && c.autobind(_, "value", o);
}
function i() {
return d;
}
function n(t) {
d = t;
u.setValue(t);
u.updateTitle(d);
}
function o(t) {
d !== t && n(t);
}
function r() {
var t = u.getValue();
d === t && (t = null);
n(t);
c.fire("change", t);
}
function s() {
l = "thumb";
if ("thumb" === l) {
f.show();
h.hide();
u = f;
} else if ("emoticon" === l) {
f.hide();
h.show();
u = h;
} else {
f.hide();
h.hide();
u = null;
}
}
function a(t) {
u.addClass(t);
}
var _, l, u, d;
t();
}();
for (var g in p) p.hasOwnProperty(g) && (c[g] = p[g]);
c.fire && c.fire("init");
c.setStyle && c.setStyle(a);
c.setAttributes && c.setAttributes(l);
"function" == typeof c.addChildren ? c.addChildren(_) : n.addChildren(c, _);
if (c !== this) {
c.__jx__constructor = i;
c.__jx__native = !1;
}
return c;
}
var i;
t.prototype = r(e.__$$__jx_ui_Widget.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_Widget;
t.__jx__jcss = {
"**self": {
position: "relative",
".button_bar": {
width: "100%",
textAlign: "center"
}
}
};
s(t, "meshim_widget_widgets_RatingBar");
i = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(4), i(21), i(31), i(15), i(3));
}, function(t, e, i) {
(function(e, n, o, r, s, a) {
e.__$$__meshim_widget_widgets_ButtonBar = i(206);
e.__$$__meshim_widget_widgets_ratingBar_emoticon_Good = i(208);
e.__$$__meshim_widget_widgets_ratingBar_emoticon_Bad = i(210);
t.exports = function() {
function t(s, a, l, u, d) {
if (!(this instanceof t)) return new t(s, a, l, u, d);
a = a || n.generateID();
var c = [ e.__$$__meshim_widget_widgets_ButtonBar, "", "", [ [ e.__$$__meshim_widget_widgets_ratingBar_emoticon_Good, "good_option", "", [], {
id: "good_option",
addClass: "rating_button"
} ], [ e.__$$__meshim_widget_widgets_ratingBar_emoticon_Bad, "bad_option", "", [], {
id: "bad_option",
addClass: "rating_button"
} ] ], {
noMangle: "true",
"xmlns:widgets": "meshim.widget.widgets"
} ], h = c[0].call(this, s, a, null, n.mangleIDs(a, c[3]), c[4]), f = h || this;
n.set(a, f);
var p = n.get(a + "__good_option"), g = n.get(a + "__bad_option");
if (!t.__jx__jcss_generated) {
o.generate(s, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var m = function() {
function t() {
f.updateTitle = e;
p.setValue(s.GOOD);
g.setValue(s.BAD);
n();
o.mobile(f);
}
function e(t) {
if (t === s.GOOD) {
p.setTitle(a.REMOVE);
g.setTitle(a.BAD);
} else if (t === s.BAD) {
g.setTitle(a.REMOVE);
p.setTitle(a.GOOD);
} else n();
}
function n() {
p.setTitle(a.GOOD);
g.setTitle(a.BAD);
}
var o = i(97), s = {
GOOD: "good",
BAD: "bad"
}, a = {
GOOD: r(211),
BAD: r(212),
REMOVE: r(213)
};
t();
}();
for (var $ in m) m.hasOwnProperty($) && (f[$] = m[$]);
f.fire && f.fire("init");
f.setStyle && f.setStyle(l);
f.setAttributes && f.setAttributes(d);
"function" == typeof f.addChildren ? f.addChildren(u) : n.addChildren(f, u);
if (f !== this) {
f.__jx__constructor = _;
f.__jx__native = !1;
}
return f;
}
var _;
t.prototype = s(e.__$$__meshim_widget_widgets_ButtonBar.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__meshim_widget_widgets_ButtonBar;
t.__jx__jcss = {
".rating_button": {
borderRadius: "50%",
".rating_icon": {
display: "inline"
},
"&.active": {
backgroundColor: "$$chatRatingsEmoticonActive",
cursor: "pointer"
}
},
"&.small": {
".rating_button": {
"width, height": "24px",
border: "1px solid $$chatRatingsEmoticonColor",
padding: "6px 3px 3px",
".rating_icon": {
lineHeight: 1.1
},
"&:first-child": {
marginRight: "3px"
}
}
},
"&.big": {
".rating_button": {
"width, height": "50px",
border: "2px solid $$chatRatingsEmoticonColor",
fontSize: "25px",
paddingTop: "14px",
"&:first-child": {
marginRight: "10px"
}
}
},
"&.desktop": {
".rating_button.active:hover": {
backgroundColor: "$$chatRatingsEmoticonHover"
}
},
"&.mobile": {
"&.small .rating_button": {
"width, height": "40px",
fontSize: "18px",
padding: "12px 3px 3px",
"&:first-child": {
marginRight: "5px"
}
},
"&.big": {
".rating_button": {
"width, height": "62px",
fontSize: "26px",
paddingTop: "20px"
}
}
}
};
a(t, "meshim_widget_widgets_ratingBar_emoticon_Emoticon");
_ = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(4), i(21), i(31), i(23), i(15), i(3));
}, function(t, e, i) {
(function(e, n, o, r, s) {
e.__$$__jx_ui_ButtonBar = i(207);
t.exports = function() {
function t(r, s, a, _, l) {
if (!(this instanceof t)) return new t(r, s, a, _, l);
s = s || n.generateID();
var u = [ e.__$$__jx_ui_ButtonBar, "", "", [], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:widgets": "meshim.widget.widgets",
selectable: "false"
} ], d = u[0].call(this, r, s, null, n.mangleIDs(s, u[3]), u[4]), c = d || this;
n.set(s, c);
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var h = void 0;
for (var f in h) h.hasOwnProperty(f) && (c[f] = h[f]);
c.fire && c.fire("init");
c.setStyle && c.setStyle(a);
c.setAttributes && c.setAttributes(l);
"function" == typeof c.addChildren ? c.addChildren(_) : n.addChildren(c, _);
if (c !== this) {
c.__jx__constructor = i;
c.__jx__native = !1;
}
return c;
}
var i;
t.prototype = r(e.__$$__jx_ui_ButtonBar.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_ButtonBar;
t.__jx__jcss = {
".option": {
cursor: "pointer",
display: "inline-block",
textAlign: "center",
"&:first-child": {},
"&:last-child": {},
"&.active": {
cursor: "default"
},
"&:hover": {},
"&.disabled": {
cursor: "default",
"&.active": {
cursor: "default"
},
"&:hover": {
cursor: "default"
}
}
}
};
s(t, "meshim_widget_widgets_ButtonBar");
i = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(4), i(21), i(31), i(15), i(3));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t, e, i, o, r) {
if (!(this instanceof n)) return new n(t, e, i, o, r);
this.navStack = null;
l.call(this, t, e, i, o, r);
this.addClass("button_bar");
r.initialValue && this.setValue(r.initialValue);
this.on("click", function(t) {
var e = t && t.target && t.target.jx_wrapper;
if (e && e !== this) {
for (;e.parentNode && e.parentNode != this; ) e = e.parentNode;
if (!this.getDisabled() && !e.getDisabled()) {
var i = e.getValue();
if ("" !== i && null != i) {
this.setValue(i);
this.fire("change");
}
}
}
});
this.onDestruction(function() {
this.navStack = null;
});
}
var o = i(15), r = i(22), s = i(17), a = i(24), _ = i(120), l = i(18), u = i(19);
n.prototype = o(l.prototype);
n.prototype.appendChild = function(t) {
var e = this.children.length;
r(t) && this.attributes && !s(this.attributes.noMangle) && (t[0] = _);
u.prototype.appendChild.call(this, t);
if (r(t)) {
this.children[e].addClass("option");
a(this.tabIndex) && this.children[e].setTabIndex(this.tabIndex + e);
}
};
n.prototype.setNoMangle = function(t) {
this.attributes.noMangle = s(t);
};
n.prototype.setValue = function(t) {
for (var e = 0, i = this.children.length; e < i; e++) if (this.children[e].getValue() == t) {
this.dom.value = this.children[e].getValue();
this.children[e].addClass("active");
} else this.children[e].removeClass("active");
};
n.prototype.getInitialValue = function() {
return this._initialValue;
};
n.prototype.setInitialValue = function(t) {
this._initialValue = t;
};
n.prototype.reset = function() {
this.setValue(this.getInitialValue());
};
n.prototype.setLabel = function(t, e) {
for (var i = 0, n = this.children.length; i < n; i++) this.children[i].getValue() == t && this.children[i].setText(e);
};
n.prototype.getTabIndex = function() {
return this.tabIndex;
};
n.prototype.setTabIndex = function(t) {
this.tabIndex = parseInt(t, 10) || 0;
for (var e = 0, i = this.children.length; e < i; e++) this.children[e].setTabIndex(this.tabIndex + e);
return this;
};
t.exports = n;
e(n, "jx_ui_ButtonBar");
return n;
}();
}).call(e, i(3));
}, function(t, e, i) {
(function(e, n, o, r, s) {
e.__$$__meshim_widget_widgets_ratingBar_emoticon_Button = i(209);
e.__$$__jx_ui_html_span = i(119);
e.__$$__meshim_widget_widgets_IconFont = i(98);
t.exports = function() {
function t(r, s, a, _, l) {
if (!(this instanceof t)) return new t(r, s, a, _, l);
s = s || n.generateID();
var u = [ e.__$$__meshim_widget_widgets_ratingBar_emoticon_Button, "", "", [ [ e.__$$__jx_ui_html_span, "", "", [ [ e.__$$__meshim_widget_widgets_IconFont, "", "", [], {
icon: "happy",
addClass: "rating_icon"
} ] ], {
placement: "default_value",
discardPlacement: "true"
} ], [ e.__$$__jx_ui_html_span, "", "", [ [ e.__$$__meshim_widget_widgets_IconFont, "", "", [], {
icon: "happier",
addClass: "rating_icon"
} ] ], {
placement: "selected_value",
discardPlacement: "true"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:widgets": "meshim.widget.widgets"
} ], d = u[0].call(this, r, s, null, n.mangleIDs(s, u[3]), u[4]), c = d || this;
n.set(s, c);
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var h = void 0;
for (var f in h) h.hasOwnProperty(f) && (c[f] = h[f]);
c.fire && c.fire("init");
c.setStyle && c.setStyle(a);
c.setAttributes && c.setAttributes(l);
"function" == typeof c.addChildren ? c.addChildren(_) : n.addChildren(c, _);
if (c !== this) {
c.__jx__constructor = i;
c.__jx__native = !1;
}
return c;
}
var i;
t.prototype = r(e.__$$__meshim_widget_widgets_ratingBar_emoticon_Button.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__meshim_widget_widgets_ratingBar_emoticon_Button;
t.__jx__jcss = {};
s(t, "meshim_widget_widgets_ratingBar_emoticon_Good");
i = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(4), i(21), i(31), i(15), i(3));
}, function(t, e, i) {
(function(e, n, o, r, s) {
e.__$$__jx_ui_html_span = i(119);
t.exports = function() {
function t(r, s, _, l, u) {
if (!(this instanceof t)) return new t(r, s, _, l, u);
s = s || n.generateID();
var d = [ e.__$$__jx_ui_html_span, "", "", [ [ e.__$$__jx_ui_html_span, "", "", [], {
class: "default_value",
container: "default_value"
} ], [ e.__$$__jx_ui_html_span, "", "", [], {
class: "selected_value",
container: "selected_value"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:widgets": "meshim.widget.widgets"
} ], c = d[0].call(this, r, s, null, n.mangleIDs(s, d[3]), d[4]), h = c || this;
n.set(s, h);
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var f = function() {
function t() {
var t = n.root.$("livechat").$("ui").$("mobile$bool");
h.autobind(t, "value", function(t) {
t || h.addClass("desktop");
});
}
var e = i(51), n = i(41);
e.hoverFix(h);
t();
}();
for (var p in f) f.hasOwnProperty(p) && (h[p] = f[p]);
h.fire && h.fire("init");
h.setStyle && h.setStyle(_);
h.setAttributes && h.setAttributes(u);
"function" == typeof h.addChildren ? h.addChildren(l) : n.addChildren(h, l);
if (h !== this) {
h.__jx__constructor = a;
h.__jx__native = !1;
}
return h;
}
var a;
t.prototype = r(e.__$$__jx_ui_html_span.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_html_span;
t.__jx__jcss = {
"**self": {
width: "50%",
display: "inline-block",
".default_value": {
display: "inline"
},
".selected_value": {
display: "none"
},
"&.desktop.hover, &.desktop:hover, &.active": {
".default_value": {
display: "none"
},
".selected_value": {
display: "inline"
}
}
}
};
s(t, "meshim_widget_widgets_ratingBar_emoticon_Button");
a = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(4), i(21), i(31), i(15), i(3));
}, function(t, e, i) {
(function(e, n, o, r, s) {
e.__$$__meshim_widget_widgets_ratingBar_emoticon_Button = i(209);
e.__$$__jx_ui_html_span = i(119);
e.__$$__meshim_widget_widgets_IconFont = i(98);
t.exports = function() {
function t(r, s, a, _, l) {
if (!(this instanceof t)) return new t(r, s, a, _, l);
s = s || n.generateID();
var u = [ e.__$$__meshim_widget_widgets_ratingBar_emoticon_Button, "", "", [ [ e.__$$__jx_ui_html_span, "", "", [ [ e.__$$__meshim_widget_widgets_IconFont, "", "", [], {
icon: "sad",
addClass: "rating_icon"
} ] ], {
placement: "default_value",
discardPlacement: "true"
} ], [ e.__$$__jx_ui_html_span, "", "", [ [ e.__$$__meshim_widget_widgets_IconFont, "", "", [], {
icon: "sadder",
addClass: "rating_icon"
} ] ], {
placement: "selected_value",
discardPlacement: "true"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:widgets": "meshim.widget.widgets"
} ], d = u[0].call(this, r, s, null, n.mangleIDs(s, u[3]), u[4]), c = d || this;
n.set(s, c);
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var h = void 0;
for (var f in h) h.hasOwnProperty(f) && (c[f] = h[f]);
c.fire && c.fire("init");
c.setStyle && c.setStyle(a);
c.setAttributes && c.setAttributes(l);
"function" == typeof c.addChildren ? c.addChildren(_) : n.addChildren(c, _);
if (c !== this) {
c.__jx__constructor = i;
c.__jx__native = !1;
}
return c;
}
var i;
t.prototype = r(e.__$$__meshim_widget_widgets_ratingBar_emoticon_Button.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__meshim_widget_widgets_ratingBar_emoticon_Button;
t.__jx__jcss = {};
s(t, "meshim_widget_widgets_ratingBar_emoticon_Bad");
i = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(4), i(21), i(31), i(15), i(3));
}, function(t, e, i) {
(function(e, n, o, r, s, a) {
e.__$$__meshim_widget_widgets_ButtonBar = i(206);
e.__$$__meshim_widget_widgets_ratingBar_thumb_Button = i(212);
t.exports = function() {
function t(s, a, l, u, d) {
if (!(this instanceof t)) return new t(s, a, l, u, d);
a = a || n.generateID();
var c = [ e.__$$__meshim_widget_widgets_ButtonBar, "", "", [ [ e.__$$__meshim_widget_widgets_ratingBar_thumb_Button, "good_option", "", [], {
id: "good_option",
type: "thumbs_up",
addClass: "rating_button"
} ], [ e.__$$__meshim_widget_widgets_ratingBar_thumb_Button, "bad_option", "", [], {
id: "bad_option",
type: "thumbs_down",
addClass: "rating_button"
} ] ], {
noMangle: "true",
"xmlns:widgets": "meshim.widget.widgets"
} ], h = c[0].call(this, s, a, null, n.mangleIDs(a, c[3]), c[4]), f = h || this;
n.set(a, f);
var p = n.get(a + "__good_option"), g = n.get(a + "__bad_option");
if (!t.__jx__jcss_generated) {
o.generate(s, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var m = function() {
function t() {
f.updateTitle = e;
p.setValue(s.GOOD);
g.setValue(s.BAD);
n();
o.mobile(f);
}
function e(t) {
if (t === s.GOOD) {
p.setTitle(a.REMOVE);
g.setTitle(a.BAD);
} else if (t === s.BAD) {
g.setTitle(a.REMOVE);
p.setTitle(a.GOOD);
} else n();
}
function n() {
p.setTitle(a.GOOD);
g.setTitle(a.BAD);
}
var o = i(97), s = {
GOOD: "good",
BAD: "bad"
}, a = {
GOOD: r(208),
BAD: r(209),
REMOVE: r(210)
};
t();
}();
for (var $ in m) m.hasOwnProperty($) && (f[$] = m[$]);
f.fire && f.fire("init");
f.setStyle && f.setStyle(l);
f.setAttributes && f.setAttributes(d);
"function" == typeof f.addChildren ? f.addChildren(u) : n.addChildren(f, u);
if (f !== this) {
f.__jx__constructor = _;
f.__jx__native = !1;
}
return f;
}
var _;
t.prototype = s(e.__$$__meshim_widget_widgets_ButtonBar.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__meshim_widget_widgets_ButtonBar;
t.__jx__jcss = {
".rating_button": {
".rating_icon": {
display: "inline-block",
verticalAlign: "middle"
},
color: "$$chatRatingsThumbLight",
"&.active": {
backgroundColor: "$$chatRatingsThumbActive",
border: "1px solid $$chatRatingsThumbBGHover",
borderRadius: "5px",
color: "$$chatRatingsThumbDark",
cursor: "pointer"
}
},
"&.small": {
".rating_button": {
"width, height": "24px",
fontSize: "18px",
".rating_icon": {
lineHeight: "22px",
paddingLeft: "1px"
},
"&:first-child": {
marginRight: "3px"
}
}
},
"&.big": {
".rating_button": {
"width, height": "50px",
fontSize: "40px",
".rating_icon": {
lineHeight: "48px"
},
"&:first-child": {
marginRight: "10px"
}
}
},
"&.desktop": {
".rating_button.active:hover": {
color: "$$chatRatingsThumbLight"
}
},
"&.mobile": {
"&.small .rating_button": {
"width, height": "40px",
fontSize: "25px",
padding: "6px 3px 3px",
"&:first-child": {
marginRight: "5px"
}
},
"&.big": {
".rating_button": {
"width, height": "62px",
fontSize: "40px",
paddingTop: "12px"
}
}
}
};
a(t, "meshim_widget_widgets_ratingBar_thumb_Thumb");
_ = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(4), i(21), i(31), i(23), i(15), i(3));
}, function(t, e, i) {
(function(e, n, o, r, s) {
e.__$$__jx_ui_html_span = i(119);
e.__$$__meshim_widget_widgets_IconFont = i(98);
t.exports = function() {
function t(r, s, _, l, u) {
if (!(this instanceof t)) return new t(r, s, _, l, u);
s = s || n.generateID();
var d = [ e.__$$__jx_ui_html_span, "", "", [ [ e.__$$__meshim_widget_widgets_IconFont, "thumbs", "", [], {
id: "thumbs",
addClass: "rating_icon"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:widgets": "meshim.widget.widgets"
} ], c = d[0].call(this, r, s, null, n.mangleIDs(s, d[3]), d[4]), h = c || this;
n.set(s, h);
var f = n.get(s + "__thumbs");
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var p = function() {
function t() {
var t = n.root.$("livechat").$("ui").$("mobile$bool");
h.autobind(t, "value", function(t) {
t || h.addClass("desktop");
});
}
var e = i(51), n = i(41);
h.setType = function(t) {
switch (t) {
case "thumbs_up":
f.setIcon("thumbsup");
break;

case "thumbs_down":
f.setIcon("thumbsdown");
break;

default:
f.setDisplay("none");
}
};
e.hoverFix(h);
t();
}();
for (var g in p) p.hasOwnProperty(g) && (h[g] = p[g]);
h.fire && h.fire("init");
h.setStyle && h.setStyle(_);
h.setAttributes && h.setAttributes(u);
"function" == typeof h.addChildren ? h.addChildren(l) : n.addChildren(h, l);
if (h !== this) {
h.__jx__constructor = a;
h.__jx__native = !1;
}
return h;
}
var a;
t.prototype = r(e.__$$__jx_ui_html_span.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_html_span;
t.__jx__jcss = {
"**self": {
width: "50%",
display: "inline-block",
border: "1px solid transparent",
".default_value": {
display: "inline"
},
"&.desktop.hover, &.desktop:hover": {
color: "$$chatRatingsThumbDark"
}
}
};
s(t, "meshim_widget_widgets_ratingBar_thumb_Button");
a = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(4), i(21), i(31), i(15), i(3));
}, function(t, e, i) {
(function(e, n, o, r, s) {
e.__$$__meshim_widget_widgets_ScrollableFrame = i(144);
e.__$$__jx_ui_Widget = i(18);
e.__$$__meshim_widget_components_chatWindow_chatPanel_FastInitChatLog = i(214);
e.__$$__meshim_widget_widgets_chatLogRenderer_TypingRenderer = i(247);
e.__$$__meshim_widget_components_chatWindow_chatPanel_QueueMessage = i(248);
t.exports = function() {
function t(r, s, a, _, l) {
if (!(this instanceof t)) return new t(r, s, a, _, l);
s = s || n.generateID();
var u = [ e.__$$__meshim_widget_widgets_ScrollableFrame, "", "", [ [ e.__$$__jx_ui_Widget, "chat_log_wrapper", "", [ [ e.__$$__meshim_widget_components_chatWindow_chatPanel_FastInitChatLog, "", "", [], {} ], [ e.__$$__meshim_widget_widgets_chatLogRenderer_TypingRenderer, "", "", [], {
addClass: "group_head"
} ], [ e.__$$__meshim_widget_components_chatWindow_chatPanel_QueueMessage, "", "", [], {
addClass: "queue_message"
} ] ], {
id: "chat_log_wrapper",
class: "chat_log_wrapper"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:jx": "jx.controls",
"xmlns:widgets": "meshim.widget.widgets",
"xmlns:chatPanel": "meshim.widget.components.chatWindow.chatPanel"
} ], d = u[0].call(this, r, s, null, n.mangleIDs(s, u[3]), u[4]), c = d || this;
n.set(s, c);
var h = n.get(s + "__chat_log_wrapper");
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var f = function() {
function t() {
c.setChatLogMarginTop = e;
}
function e(t) {
h.setStyle("marginTop", t);
}
t();
}();
for (var p in f) f.hasOwnProperty(p) && (c[p] = f[p]);
c.fire && c.fire("init");
c.setStyle && c.setStyle(a);
c.setAttributes && c.setAttributes(l);
"function" == typeof c.addChildren ? c.addChildren(_) : n.addChildren(c, _);
if (c !== this) {
c.__jx__constructor = i;
c.__jx__native = !1;
}
return c;
}
var i;
t.prototype = r(e.__$$__meshim_widget_widgets_ScrollableFrame.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__meshim_widget_widgets_ScrollableFrame;
t.__jx__jcss = {
".group_head": {
marginTop: "$$margin"
},
".chat_log_wrapper": {
margin: "$$chatLogMargin"
},
".queue_message": {
marginTop: "10px"
}
};
s(t, "meshim_widget_components_chatWindow_chatPanel_ChatLogContainer");
i = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(4), i(21), i(31), i(15), i(3));
}, function(t, e, i) {
(function(e, n, o, r, s) {
e.__$$__jx_ui_Widget = i(18);
t.exports = function() {
function t(r, s, _, l, u) {
if (!(this instanceof t)) return new t(r, s, _, l, u);
s = s || n.generateID();
var d = [ e.__$$__jx_ui_Widget, "", "", [], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:jx": "jx.controls"
} ], c = d[0].call(this, r, s, null, n.mangleIDs(s, d[3]), d[4]), h = c || this;
n.set(s, h);
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var f = function() {
function t() {
h.autobind(p, "value", function(t) {
if (o != t) {
o = t;
e();
}
});
h.autobind(g, "value", function(t) {
if (r != t) {
r = t;
e();
}
});
}
function e() {
if ("fast_init" == o) {
if (!s) {
s = new l(h);
s.setDataNode(c);
h.autobind(d, "value", n);
h.fire("fast_log_appended");
}
} else if ("registered" == r || "reattached" == r) {
if (s instanceof l) {
h.autounbind(d, "value", n);
s.destroy();
}
s = !0;
if (!a) {
a = new l(h);
a.setDataNode(d);
h.fire("chat_log_appended");
}
}
}
function n(t) {
if (t) {
var e;
for (var i in t) if (t.hasOwnProperty(i)) {
e = t[i];
if (!e) continue;
if (e.unverified$bool && !e.nick$string) {
e.nick$string = "visitor:local";
c.$(i).update(e);
}
}
}
}
var o, r, s, a, _ = i(41), l = i(215), u = _.root.$("livechat"), d = u.$("channel").$("log"), c = u.$("temp").$("prev_log"), f = _.root.$("connection"), p = f.$("message$string"), g = f.$("status$string");
t();
}();
for (var p in f) f.hasOwnProperty(p) && (h[p] = f[p]);
h.fire && h.fire("init");
h.setStyle && h.setStyle(_);
h.setAttributes && h.setAttributes(u);
"function" == typeof h.addChildren ? h.addChildren(l) : n.addChildren(h, l);
if (h !== this) {
h.__jx__constructor = a;
h.__jx__native = !1;
}
return h;
}
var a;
t.prototype = r(e.__$$__jx_ui_Widget.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_Widget;
t.__jx__jcss = {};
s(t, "meshim_widget_components_chatWindow_chatPanel_FastInitChatLog");
a = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(4), i(21), i(31), i(15), i(3));
}, function(t, e, i) {
(function(e, n, o, r, s) {
e.__$$__jx_ui_Widget = i(18);
e.__$$__jx_controls_List = i(216);
t.exports = function() {
function t(r, s, _, l, u) {
if (!(this instanceof t)) return new t(r, s, _, l, u);
s = s || n.generateID();
var d = [ e.__$$__jx_ui_Widget, "", "", [ [ e.__$$__jx_controls_List, "list", "", [], {
id: "list"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:jx": "jx.controls",
"xmlns:widgets": "meshim.widget.widgets",
"xmlns:renderer": "meshim.widget.widgets.chatLogRenderer"
} ], c = d[0].call(this, r, s, null, n.mangleIDs(s, d[3]), d[4]), h = c || this;
n.set(s, h);
var f = n.get(s + "__list");
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var p = function() {
function t() {
h.autobind(_, "value", function(t) {
n && h.removeClass("chat_log_" + n);
n = t;
n && h.addClass("chat_log_" + n);
});
h.autobind(l, "value", function(t) {
if (t && o != t) {
o = t;
h.setDataNode(e);
}
});
f.setRenderer(s);
}
var e, n, o, r = i(41), s = i(219), a = r.root.$("livechat"), _ = a.$("settings").$("theme").$("chat_window").$("size$string"), l = a.$("settings").$("theme").$("message_type$string");
h.setDataNode = function(t) {
if (t) {
e = t;
f.setDataNode(e);
}
};
t();
}();
for (var g in p) p.hasOwnProperty(g) && (h[g] = p[g]);
h.fire && h.fire("init");
h.setStyle && h.setStyle(_);
h.setAttributes && h.setAttributes(u);
"function" == typeof h.addChildren ? h.addChildren(l) : n.addChildren(h, l);
if (h !== this) {
h.__jx__constructor = a;
h.__jx__native = !1;
}
return h;
}
var a;
t.prototype = r(e.__$$__jx_ui_Widget.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_Widget;
t.__jx__jcss = {
"**self": {
position: "relative"
},
".visitor .chat_bubble": {
background: "$$chatLogVisitorBubbleBg",
borderWidth: "$$chatLogVisitorBubbleBorderWidth",
borderStyle: "$$chatLogVisitorBubbleBorderStyle",
borderColor: "$$chatLogVisitorBubbleBorderColor",
".arrow_border": {
borderColor: "$$chatLogVisitorBubbleBorderColor"
},
".arrow_background": {
borderColor: "$$chatLogVisitorBubbleBg"
},
".image_file_border": {
borderColor: "$$chatLogVisitorBubbleBorderColor"
},
".generic_file_border": {
borderColor: "$$chatLogVisitorBubbleBorderColor"
}
},
".agent .chat_bubble": {
background: "$$chatLogAgentBubbleBg",
borderWidth: "$$chatLogAgentBubbleBorderWidth",
borderStyle: "$$chatLogAgentBubbleBorderStyle",
borderColor: "$$chatLogAgentBubbleBorderColor",
".arrow_border": {
borderColor: "$$chatLogAgentBubbleBorderColor"
},
".arrow_background": {
borderColor: "$$chatLogAgentBubbleBg"
},
".image_file_border": {
borderColor: "$$chatLogAgentBubbleBorderColor"
},
".generic_file_border": {
borderColor: "$$chatLogAgentBubbleBorderColor"
}
},
".log_avatar": {
borderWidth: "$$chatLogAvatarBorderWidth",
borderStyle: "$$chatLogAvatarBorderStyle",
borderColor: "$$chatLogAvatarBorderColor",
borderRadius: "$$chatLogAvatarRadius",
boxShadow: "$$chatLogAvatarShadow"
},
".group_head, .card, .group_children.bubble_avatar, .group_children.bubble": {
marginTop: "$$margin"
},
a: {
color: "inherit"
},
".card": {
"marginLeft, marginRight": "auto"
},
"&.chat_log_small": {
".card": {}
},
"&.chat_log_medium": {
".card": {
maxWidth: "220px"
}
},
"&.chat_log_large": {
".card": {
maxWidth: "260px"
}
}
};
s(t, "meshim_widget_components_chatWindow_chatPanel_ChatLog");
a = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(4), i(21), i(31), i(15), i(3));
}, function(t, e, i) {
(function(e, n, o, r, s, a) {
e.__$$__div = i(217);
t.exports = function() {
function t(s, a, l, u, d) {
if (!(this instanceof t)) return new t(s, a, l, u, d);
a = a || n.generateID();
var c = [ e.__$$__div, "", "", [ [ e.__$$__div, "template", "", [ [ e.__$$__div, "", "", [], {} ] ], {
id: "template",
container: "default",
display: "none"
} ], [ e.__$$__div, "content", "", [], {
id: "content"
} ] ], {} ], h = c[0].call(this, s, a, null, n.mangleIDs(a, c[3]), c[4]), f = h || this;
n.set(a, f);
var p = n.get(a + "__template"), g = n.get(a + "__content");
if (!t.__jx__jcss_generated) {
o.generate(s, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
f.defaultPlacement = p;
var m = function() {
function t(t) {
S && f.autounbind(S, "keys", o);
S = t;
e();
f.autobind(S, "keys", o);
}
function e() {
g.empty();
I = {};
T = [];
if (D) {
D = 0;
f.fire("jx:list:length", D);
}
}
function o(t, e) {
var i = t.length + e.length > 2;
i && f.removeChild(g);
var n, o, r, a, _ = D;
for (o = 0; o < t.length; o++) {
n = t[o];
if (!(n in I)) {
var l = O(g), u = S.$(n);
I[n] = l;
D++;
C.applySetDataNode(l);
r = A ? w(n) : n;
a = y(r, l);
l.setAttribute("jx:list:rowID", n);
l.setDataNode(u);
s(a);
}
}
for (o = 0; o < e.length; o++) {
n = e[o];
if (n in I) {
r = A ? w(n, !0) : n;
a = v(r);
delete N[r];
I[n] === P && (P = null);
I[n].destroy();
delete I[n];
s(a);
D--;
}
}
i && f.appendChild(g);
_ != D && f.fire("jx:list:length", D);
t.length && f.fire("jx:list:added", t);
}
function s(t) {
if (!(t < 0) && T[t]) {
var e, i, n = T[t], o = I[n];
if (o) {
if (T[t + 1]) {
o.setAttribute("jx:list:nextID", T[t + 1]);
e = I[T[t + 1]];
e.setAttribute("jx:list:prevID", n);
o.fire("update.neighbour", {
next: T[t + 1]
});
e.fire("update.neighbour", {
prev: n
});
} else {
o.removeAttribute("jx:list:nextID");
o.fire("update.neighbour", {
next: null
});
}
if (T[t - 1]) {
o.setAttribute("jx:list:prevID", T[t - 1]);
i = I[T[t - 1]];
i.setAttribute("jx:list:nextID", n);
o.fire("update.neighbour", {
prev: T[t - 1]
});
i.fire("update.neighbour", {
next: n
});
} else {
o.removeAttribute("jx:list:prevID");
o.fire("update.neighbour", {
prev: null
});
}
}
}
}
function a(t) {
for (;t.parentNode && t != f; ) {
var e = t.getAttribute("jx:list:nextID");
if (e) return e;
t = t.parentNode;
}
}
function _(t) {
for (;t.parentNode && t != f; ) {
var e = t.getAttribute("jx:list:prevID");
if (e) return e;
t = t.parentNode;
}
}
function l(t) {
for (;t.parentNode && t != f; ) {
var e = t.getAttribute("jx:list:rowID");
if (e) return e;
t = t.parentNode;
}
}
function u() {
var t, e, i = [];
for (t in I) if (I.hasOwnProperty(t)) {
e = I[t].getAttribute("jx:list:rowID");
e && i.push(e);
}
return i;
}
function d(t) {
var e = I[t];
if (e) return e.jx_wrapper || e;
}
function c(t) {
h(t.target);
}
function h(t) {
var e, i;
if (r(t)) {
i = t;
e = I[i];
} else if ("number" == typeof t) {
e = g.childNodes[t];
e && (i = e.getAttribute("jx:list:rowID"));
} else {
e = t;
for (;e.parentNode && e != g; ) {
i = e.getAttribute("jx:list:rowID");
if (i) {
e.jx_wrapper && (e = e.jx_wrapper);
break;
}
e = e.parentNode;
}
}
if (e && e != P) {
m();
P = e.jx_wrapper || e;
P.addClass("active");
P.fire("jx:list:selected");
f.fire("jx:list:select", i);
}
}
function m() {
P && P.removeClass("active");
P && P.fire("jx:list:deselected");
P = null;
}
function $(t, e) {
if (A != t || k != e) {
k = e;
A = t;
if (A) {
if (!E) {
f.autobind(S, "value", x);
E = !0;
}
} else {
if (E) {
f.autounbind(S, "value", x);
E = !1;
}
k = !1;
}
N = {};
B = {};
D > 1 && b();
}
}
function b() {
var t, e, i;
g.innerHTML = "";
T = [];
for (e in I) if (I.hasOwnProperty(e)) {
t = A ? w(e) : e;
i = y(t, I[e]);
B[e] = t;
N[t] = e;
s(i);
}
}
function w(t, e) {
return e ? B[t] : (S.$(t).getValue(A) + "\0" + t).replace(/ /g, "").toLowerCase();
}
function x(t) {
if (A) {
var e, i, n, o, r, a;
for (n in t) if (t.hasOwnProperty(n)) {
i = t[n];
if (B[n] && i && i[A]) {
e = I[n];
g.removeChild(e);
r = B[n];
o = w(n);
delete N[r];
a = v(r);
s(a);
N[o] = n;
B[n] = o;
a = y(o, e, i[A]);
s(a);
}
}
}
}
function v(t) {
var e = j(T, t);
if (e < 0) {
console.log("Could not find " + t + " in List");
return e;
}
T.splice(e, 1);
return e;
}
function y(t, e) {
var i = (-j(T, t) >> 0) - 1;
i < 0 && "undefined" != typeof console && "log" in console && console.log(t + " is already in List");
T.splice(i, 0, t);
k && (i = T.length - i - 1);
g.insertBefore(e.dom || e, g.childNodes[i] || null);
return i;
}
function j(t, e) {
for (var i, n, o = t.length, r = 0, s = o - 1; r <= s; ) {
i = (r + s) / 2 >> 0;
n = t[i];
if (n < e) r = i + 1; else {
if (!(n > e)) return i;
s = i - 1;
}
}
return -(r + 1);
}
var C = i(218);
f.setDataNode = t;
f.setRenderer = function(t) {
O = t;
};
f.getID = l;
f.getNextID = a;
f.getPrevID = _;
f.getRowIDs = u;
f.getByID = d;
f.clearList = e;
f.select = h;
f.deselect = m;
f.setSort = $;
var S, A, k, I = {}, N = {}, B = {}, T = [], D = 0, E = !1, O = function(t) {
if (p.lastChild.__jx__native) {
var e = p.lastChild.cloneNode(!0);
n.extend(e, !0);
return e;
}
return p.lastChild.__jx__constructor(t);
}, P = null;
g.on("click", c);
}();
for (var $ in m) m.hasOwnProperty($) && (f[$] = m[$]);
f.fire && f.fire("init");
f.setStyle && f.setStyle(l);
f.setAttributes && f.setAttributes(d);
"function" == typeof f.addChildren ? f.addChildren(u) : n.addChildren(f, u);
if (f !== this) {
f.__jx__constructor = _;
f.__jx__native = !1;
}
return f;
}
var _;
t.prototype = s(e.__$$__div.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__div;
t.__jx__jcss = {};
a(t, "jx_controls_List");
_ = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(4), i(21), i(31), i(20), i(15), i(3));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
var n = i(21), o = n.nativeGenerator("div");
t.exports = o;
e(o, "div");
return o;
}();
}).call(e, i(3));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function i(t) {
var e, i;
if (t.leaf) {
e = this;
e.autobind(t, "value", function(t) {
"value" in e ? e.value = t : e.setText(t);
});
} else {
e = this.firstChild;
for (;e; ) {
if (e.getAttribute) {
i = e.getAttribute("name");
i ? e.setDataNode(t.descend(i)) : e.setDataNode(t);
}
e = e.nextSibling;
}
}
}
function n(t) {
if (!t.setDataNode) {
t.setDataNode = i;
for (var e = t.firstChild; e; ) {
n(e);
e = e.nextSibling;
}
}
}
var o = {
applySetDataNode: n
};
t.exports = o;
e(o, "jx_data_SetDataNode");
return o;
}();
}).call(e, i(3));
}, function(t, e, i) {
(function(e, n, o, r, s) {
e.__$$__jx_ui_html_div = i(124);
t.exports = function() {
function t(r, s, _, l, u) {
if (!(this instanceof t)) return new t(r, s, _, l, u);
s = s || n.generateID();
var d = [ e.__$$__jx_ui_html_div, "", "", [], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
class: "chat_log_renderer"
} ], c = d[0].call(this, r, s, null, n.mangleIDs(s, d[3]), d[4]), h = c || this;
n.set(s, h);
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var f = function() {
function t() {
h.setDataNode = n;
h.onDestruction(function() {
clearTimeout(v);
});
}
function e() {
return j.root.$$("livechat.settings.theme.message_type$string").getValue() || "bubble_avatar";
}
function n(t) {
m && h.autounbind(m, "value", o);
m = t;
h.autobind(m, "value", o);
h.on("update.neighbour", a);
}
function o(t) {
if (t) {
if (t.nick$string) {
b = t.nick$string;
s(b);
}
("type$string" in t || "is_translation$bool" in t) && r();
t.failed$bool && p();
if ("unverified$bool" in t) {
clearTimeout(v);
t.unverified$bool && (v = setTimeout(g, y.RESEND_MSG_TIMEOUT));
}
}
}
function r() {
var t = m.$("type$string").getValue(), e = m.$("is_translation$bool").getValue();
if (x) {
h.empty();
x = null;
}
if (t && !e) {
w = t;
switch (w) {
case "chat.mention":
case "chat.msg":
case "chat.file.update":
case "chat.file.upload":
d();
break;

case "chat.request.rating":
c();
break;

case "chat.join":
case "chat.event":
break;

default:
f();
}
b && s(b);
_();
}
}
function s(t) {
if (x) {
for (var e = t.substring(0, t.indexOf(":")), i = 0, n = 0, o = t.length; n < o; ) {
i += t.charCodeAt(n);
n++;
}
i = i % 8 + 1;
x.addClass(e);
x.addClass(e + "_" + i);
s.assigned = !0;
}
}
function a(t) {
if ("prev" in t && $ != t.prev) {
$ = t.prev;
_();
}
}
function _() {
if (m) if ($) {
var t = m.parentNode.$($), e = t.getValue("nick$string"), i = t.getValue("type$string");
T.test(i) && w === i && e === b ? u() : l();
} else l();
}
function l() {
if (x) {
x.removeClass("group_children");
x.addClass("group_head");
}
}
function u() {
if (x) {
x.addClass("group_children");
x.removeClass("group_head");
}
}
function d() {
var t, i = e();
switch (i) {
case "bubble":
t = A;
break;

case "basic_avatar":
t = k;
break;

case "bubble_avatar":
t = I;
break;

default:
t = S;
}
x = new t(h);
x.setDataNode(m);
x.addClass(i);
}
function c() {
x = new N(h);
x.setDataNode(m);
}
function f() {
x = new B(h);
x.setDataNode(m);
x.setPseudo("system_msg");
}
function p() {
C.increment("user_msg_send_failed");
}
function g() {
C.increment("user_msg_send_timeout");
}
var m, $, b, w, x, v, y = i(43), j = i(41), C = i(63), S = i(220), A = i(233), k = i(236), I = i(237), N = i(238), B = i(241), T = /chat\.(msg|memberjoin|changename)/;
$ = b = w = "";
t();
}();
for (var p in f) f.hasOwnProperty(p) && (h[p] = f[p]);
h.fire && h.fire("init");
h.setStyle && h.setStyle(_);
h.setAttributes && h.setAttributes(u);
"function" == typeof h.addChildren ? h.addChildren(l) : n.addChildren(h, l);
if (h !== this) {
h.__jx__constructor = a;
h.__jx__native = !1;
}
return h;
}
var a;
t.prototype = r(e.__$$__jx_ui_html_div.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_html_div;
t.__jx__jcss = {
"**self": {
position: "relative",
clear: "both",
width: "100%"
}
};
s(t, "meshim_widget_widgets_ChatLogRenderer");
a = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(4), i(21), i(31), i(15), i(3));
}, function(t, e, i) {
(function(e, n, o, r, s) {
e.__$$__jx_ui_html_div = i(124);
e.__$$__meshim_widget_widgets_chatLogRenderer_ChatName = i(221);
e.__$$__meshim_widget_widgets_chatLogRenderer_ChatMessage = i(222);
e.__$$__meshim_widget_widgets_chatLogRenderer_ResendChatMessage = i(225);
e.__$$__jx_ui_html_span = i(119);
e.__$$__meshim_widget_widgets_chatLogRenderer_ChatOption = i(226);
e.__$$__meshim_widget_widgets_chatLogRenderer_TranslationSwitch = i(228);
e.__$$__meshim_widget_widgets_chatLogRenderer_ChatFile = i(229);
t.exports = function() {
function t(r, s, _, l, u) {
if (!(this instanceof t)) return new t(r, s, _, l, u);
s = s || n.generateID();
var d = [ e.__$$__jx_ui_html_div, "", "", [ [ e.__$$__meshim_widget_widgets_chatLogRenderer_ChatName, "chat_name", "", [], {
id: "chat_name",
addClass: "chat_name"
} ], [ e.__$$__jx_ui_html_div, "", "", [ [ e.__$$__meshim_widget_widgets_chatLogRenderer_ChatMessage, "chat_msg", "", [], {
id: "chat_msg",
addClass: "chat_msg"
} ], [ e.__$$__meshim_widget_widgets_chatLogRenderer_ResendChatMessage, "resend", "", [], {
id: "resend",
addClass: "resend_chat_msg"
} ] ], {
class: "chat_msg_holder"
} ], [ e.__$$__jx_ui_html_span, "", "", [], {
text: " "
} ], [ e.__$$__meshim_widget_widgets_chatLogRenderer_ChatOption, "chat_option", "", [], {
id: "chat_option",
addClass: "chat_option"
} ], [ e.__$$__meshim_widget_widgets_chatLogRenderer_TranslationSwitch, "translation_switch", "", [], {
id: "translation_switch"
} ], [ e.__$$__meshim_widget_widgets_chatLogRenderer_ChatFile, "chat_file", "", [], {
id: "chat_file",
addClass: "chat_file"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:mui": "meshim.ui",
"xmlns:logRenderer": "meshim.widget.widgets.chatLogRenderer"
} ], c = d[0].call(this, r, s, null, n.mangleIDs(s, d[3]), d[4]), h = c || this;
n.set(s, h);
var f = n.get(s + "__chat_name"), p = n.get(s + "__chat_msg"), g = n.get(s + "__resend"), m = n.get(s + "__chat_option"), $ = n.get(s + "__translation_switch"), b = n.get(s + "__chat_file");
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var w = function() {
function t() {
h.setDataNode = e;
}
function e(t) {
if (o !== t) {
if (o) {
h.autounbind(o, "value", n);
h.autounbind(r, "value", n);
r = null;
}
o = t;
if (o) {
r = a.$(t.name).$("show_original$bool");
h.autobind(o, "value", n);
h.autobind(r, "value", n);
}
g.setDataNode(t);
f.setDataNode(t);
b.setDataNode(t);
}
}
function n() {
var t = o.$("msg$string"), e = o.$("options$string"), i = null;
if (o.hasKey("translation")) {
i = r;
if (!i.getValue()) {
t = o.$("translation").$("msg$string");
e = o.$("translation").$("options$string");
}
}
p.setDataNode(t);
m.setDataNode(e);
$.setDataNode(i);
}
var o, r, s = i(41), a = s.root.$("livechat").$("ui").$("channel").$("log");
t();
}();
for (var x in w) w.hasOwnProperty(x) && (h[x] = w[x]);
h.fire && h.fire("init");
h.setStyle && h.setStyle(_);
h.setAttributes && h.setAttributes(u);
"function" == typeof h.addChildren ? h.addChildren(l) : n.addChildren(h, l);
if (h !== this) {
h.__jx__constructor = a;
h.__jx__native = !1;
}
return h;
}
var a;
t.prototype = r(e.__$$__jx_ui_html_div.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_html_div;
t.__jx__jcss = {
"**self": {
marginTop: "10px",
".chat_name": {
fontWeight: "bold",
"&": "$$chatLogName"
},
"&.visitor .chat_name": {
color: "$$chatLogVisitorNameColor"
},
"&.agent .chat_name": {
color: "$$chatLogAgentNameColor"
},
".chat_msg_holder": {
whiteSpace: "pre-wrap",
wordWrap: "break-word",
display: "inline",
".chat_msg": {
"&": "$$chatLogMsg"
},
".resend_chat_msg": {
marginLeft: "6px"
}
},
".chat_option": {
input: {
margin: "2px 5px"
}
},
".chat_file": {
"marginTop, marginBottom": "5px",
"&": "$$chatLogFile"
}
},
"**self.group_children": {
marginTop: "0px",
".chat_name": {
display: "none"
}
}
};
s(t, "meshim_widget_widgets_chatLogRenderer_BasicRenderer");
a = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(4), i(21), i(31), i(15), i(3));
}, function(t, e, i) {
(function(e, n, o, r, s, a) {
e.__$$__jx_ui_html_div = i(124);
e.__$$__jx_ui_html_span = i(119);
t.exports = function() {
function t(s, a, l, u, d) {
if (!(this instanceof t)) return new t(s, a, l, u, d);
a = a || n.generateID();
var c = o(220), h = o(221), f = [ e.__$$__jx_ui_html_div, "", "", [ [ e.__$$__jx_ui_html_span, "text", "", [], {
id: "text",
addClass: "text_name"
} ], [ e.__$$__jx_ui_html_span, "change_name", "", [ h ], {
id: "change_name",
addClass: "chat_name"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:mui": "meshim.ui"
} ], p = f[0].call(this, s, a, null, n.mangleIDs(a, f[3]), f[4]), g = p || this;
n.set(a, g);
var m = n.get(a + "__text"), $ = n.get(a + "__change_name");
if (!t.__jx__jcss_generated) {
r.generate(s, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var b = function() {
function t() {
g.setDataNode = e;
g.autobind(b, "value", s);
g.autobind(C, "value", function(t) {
g.setStyle("cursor", t ? "auto" : "");
$.setText(t ? c : h);
});
g.autobind(j, "value", function() {
_ && n(_.getValue());
});
}
function e(t) {
_ && g.autounbind(_, "value", n);
_ = t;
g.autobind(_, "value", n);
}
function n(t) {
if (t && t.type$string != S) {
t.nick$string && o(t.nick$string, t.timestamp$int);
t.display_name$string && r(t.display_name$string);
}
}
function o(t, e) {
if (t) {
f = t.split(":")[0];
"visitor" == f && p && r(p);
"agent" == f && w.getValue() && e > w.getValue() && l.root.$$("livechat.ui.sounds").update({
new_message$int: +new Date()
});
if ("visitor" == f && !a.bounded && !j.getValue()) {
g.addClass("cursor_pointer");
m.on("click", a);
$.on("click", a);
a.bounded = !0;
}
}
}
function r(t) {
if ("visitor" == f) {
t = b.getValue();
if (!p) {
if (d.isDefaultName(t)) {
t = "";
$.setDisplay("");
} else $.setDisplay("none");
p = t;
}
m.setText(p);
} else {
m.setText(t);
$.setDisplay("none");
}
}
function s(t) {
if (t && "string" == typeof t && (!f || "visitor" == f)) {
if (d.isDefaultName(t)) {
t = "";
$.setDisplay("");
} else $.setDisplay("none");
p = t;
m.setText(p);
}
}
function a(t) {
if (y.getValue()) {
if (!d.isDefaultName(b.getValue())) return;
window.scrollTo(0, 0);
}
t.stopPropagation();
u.showProfileMenu();
}
var _, l = i(41), u = i(113), d = i(51), f = "", p = "", b = l.root.$$("livechat.profile.display_name$string"), w = l.root.$$("connection.reattached_timestamp$int"), x = l.root, v = x.$("livechat").$("ui"), y = v.$("mobile$bool"), j = v.$("visitor").$("authenticated$bool"), C = l.root.$("livechat").$("settings").$("login").$("restrict_profile$bool"), S = "chat.file.update";
t();
}();
for (var w in b) b.hasOwnProperty(w) && (g[w] = b[w]);
g.fire && g.fire("init");
g.setStyle && g.setStyle(l);
g.setAttributes && g.setAttributes(d);
"function" == typeof g.addChildren ? g.addChildren(u) : n.addChildren(g, u);
if (g !== this) {
g.__jx__constructor = _;
g.__jx__native = !1;
}
return g;
}
var _;
t.prototype = s(e.__$$__jx_ui_html_div.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_html_div;
t.__jx__jcss = {
"&.cursor_pointer": {
".text_name, .chat_name": {
cursor: "pointer"
}
},
".text_name": {
wordWrap: "break-word"
}
};
a(t, "meshim_widget_widgets_chatLogRenderer_ChatName");
_ = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(4), i(21), i(23), i(31), i(15), i(3));
}, function(t, e, i) {
(function(e, n, o, r, s) {
e.__$$__jx_ui_html_div = i(124);
t.exports = function() {
function t(r, s, _, l, u) {
if (!(this instanceof t)) return new t(r, s, _, l, u);
s = s || n.generateID();
var d = [ e.__$$__jx_ui_html_div, "", "", [], {
xmlns: "jx.ui.html"
} ], c = d[0].call(this, r, s, null, n.mangleIDs(s, d[3]), d[4]), h = c || this;
n.set(s, h);
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var f = function() {
function t() {
h.setDataNode = e;
}
function e(t) {
if (r !== t) {
r && h.autounbind(r, "value", n);
r = t;
r && h.autobind(r, "value", n);
}
}
function n() {
if (!r.parentNode.$("attachment").getValue()) {
var t = r.getValue() || "";
o(s.toJXMLElements(t, c));
}
}
function o(t) {
h.empty();
h.setText("");
h.addChildren(t);
}
var r, s = i(181), a = i(182), _ = i(223), l = i(185), u = i(183), d = i(224), c = [ a, l, u, _, d ];
t();
}();
for (var p in f) f.hasOwnProperty(p) && (h[p] = f[p]);
h.fire && h.fire("init");
h.setStyle && h.setStyle(_);
h.setAttributes && h.setAttributes(u);
"function" == typeof h.addChildren ? h.addChildren(l) : n.addChildren(h, l);
if (h !== this) {
h.__jx__constructor = a;
h.__jx__native = !1;
}
return h;
}
var a;
t.prototype = r(e.__$$__jx_ui_html_div.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_html_div;
t.__jx__jcss = {
"**self": {
display: "inline"
}
};
s(t, "meshim_widget_widgets_chatLogRenderer_ChatMessage");
a = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(4), i(21), i(31), i(15), i(3));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t) {
for (var e, i = o.search.email_lws, n = 0, r = []; null !== (e = i.exec(t)); ) {
var s = e[0].trim(), a = e[2], _ = i.lastIndex - s.length;
if (o.tld.test(a)) {
_ > n && r.push(t.substring(n, _));
r.push({
tagName: "a",
attributes: {
href: "mailto:" + s,
target: "_top"
},
children: [ s ]
});
n = i.lastIndex;
}
}
n < t.length && r.push(t.substring(n));
return r;
}
var o = i(45);
t.exports = n;
e(n, "meshim_common_stringParser_EmailParser");
return n;
}();
}).call(e, i(3));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t) {
for (var e, i = o.search.phone_number, n = 0, r = []; null !== (e = i.exec(t)); ) {
var s = e[0].trim(), a = e[1], _ = e[2], l = i.lastIndex - s.length, u = s.replace(a, "").replace(_, "");
l > n && r.push(t.substring(n, l));
r.push({
tagName: "a",
attributes: {
href: "tel:" + u
},
children: [ s ]
});
n = i.lastIndex;
}
n < t.length && r.push(t.substring(n));
return r;
}
var o = i(45);
t.exports = n;
e(n, "meshim_common_stringParser_PhoneNumberParser");
return n;
}();
}).call(e, i(3));
}, function(t, e, i) {
(function(e, n, o, r, s, a, _) {
e.__$$__jx_ui_Widget = i(18);
e.__$$__meshim_widget_widgets_IconFont = i(98);
t.exports = function() {
function t(a, _, u, d, c) {
if (!(this instanceof t)) return new t(a, _, u, d, c);
_ = _ || n.generateID();
var h = o(215), f = o(216), p = [ e.__$$__jx_ui_Widget, "", "", [ [ e.__$$__meshim_widget_widgets_IconFont, "", "", [], {
icon: "exclamation",
title: h
} ], [ e.__$$__jx_ui_Widget, "", "", [ f ], {
class: "resend"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:widgets": "meshim.widget.widgets",
display: "none"
} ], g = p[0].call(this, a, _, null, n.mangleIDs(_, p[3]), p[4]), m = g || this;
n.set(_, m);
if (!t.__jx__jcss_generated) {
r.generate(a, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var $ = function() {
function t() {
m.setDataNode = e;
m.on("click", o);
}
function e(t) {
if (t != a) {
a && m.autounbind(a, "value", n);
a = t;
a && m.autobind(a, "value", n);
}
}
function n(t) {
if (t) {
t.failed$bool && r();
if ("unverified$bool" in t) {
window.clearTimeout(_);
t.unverified$bool && (_ = window.setTimeout(r, l.RESEND_MSG_TIMEOUT));
}
}
}
function o(t) {
t && s(t.stopPropagation) && t.stopPropagation();
u.livechat.sendChatMsg({
msg: a.getValue("msg$string")
}, a.name);
m.setDisplay("none");
}
function r() {
m.setDisplay("");
}
var a, _, l = i(43), u = i(41);
t();
}();
for (var b in $) $.hasOwnProperty(b) && (m[b] = $[b]);
m.fire && m.fire("init");
m.setStyle && m.setStyle(u);
m.setAttributes && m.setAttributes(c);
"function" == typeof m.addChildren ? m.addChildren(d) : n.addChildren(m, d);
if (m !== this) {
m.__jx__constructor = l;
m.__jx__native = !1;
}
return m;
}
var l;
t.prototype = a(e.__$$__jx_ui_Widget.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_Widget;
t.__jx__jcss = {
"**self": {
".resend": {
textDecoration: "underline"
},
".icon_font": {
position: "relative",
top: "2px",
marginRight: "3px"
}
},
"**self, .icon_font, .resend": {
color: "$$errorColor",
display: "inline-block",
"*display": "inline",
"*zoom": "1",
cursor: "pointer"
}
};
_(t, "meshim_widget_widgets_chatLogRenderer_ResendChatMessage");
l = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(4), i(21), i(23), i(31), i(10), i(15), i(3));
}, function(t, e, i) {
(function(e, n, o, r, s) {
e.__$$__jx_ui_html_div = i(124);
t.exports = function() {
function t(r, s, _, l, u) {
if (!(this instanceof t)) return new t(r, s, _, l, u);
s = s || n.generateID();
var d = [ e.__$$__jx_ui_html_div, "", "", [], {
xmlns: "jx.ui.html",
"xmlns:mui": "meshim.ui"
} ], c = d[0].call(this, r, s, null, n.mangleIDs(s, d[3]), d[4]), h = c || this;
n.set(s, h);
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var f = function() {
function t() {
h.setDataNode = e;
}
function e(t) {
if (_ !== t) {
_ && h.autounbind(_, "value", n);
_ = t;
_ && h.autobind(_, "value", n);
}
}
function n() {
var t = o(_.getValue());
if (t) {
h.setDisplay("block");
h.setHTML(t);
r();
} else h.setDisplay("none");
}
function o(t) {
if (!t) return "";
for (var e, i = t.split("/"), n = "<form>", o = 0, r = i.length; o < r; o++) {
e = l.html(i[o]);
n += '<label><input type="radio" name="option" value="' + e + '">' + e + "</label></br>";
}
n += "</form>";
return n;
}
function r() {
for (var t = h.dom.getElementsByTagName("input"), e = 0, i = t.length; e < i; e++) t[e].onclick = function() {
this.value !== a && s(this.value);
};
}
function s(t) {
if (t) {
u.livechat.sendChatMsg({
msg: t
});
a = t;
}
}
var a, _, l = i(227), u = i(41);
t();
}();
for (var p in f) f.hasOwnProperty(p) && (h[p] = f[p]);
h.fire && h.fire("init");
h.setStyle && h.setStyle(_);
h.setAttributes && h.setAttributes(u);
"function" == typeof h.addChildren ? h.addChildren(l) : n.addChildren(h, l);
if (h !== this) {
h.__jx__constructor = a;
h.__jx__native = !1;
}
return h;
}
var a;
t.prototype = r(e.__$$__jx_ui_html_div.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_html_div;
t.__jx__jcss = {};
s(t, "meshim_widget_widgets_chatLogRenderer_ChatOption");
a = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(4), i(21), i(31), i(15), i(3));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function i(t) {
return "&#" + t.charCodeAt(0) + ";";
}
var n = /[&<>"']/g, o = {
html: function(t) {
return t && t.replace(n, i);
}
};
t.exports = o;
e(o, "meshim_common_Sanitize");
return o;
}();
}).call(e, i(3));
}, function(t, e, i) {
(function(e, n, o, r, s, a) {
e.__$$__jx_ui_Widget = i(18);
t.exports = function() {
function t(s, a, _, l, u) {
if (!(this instanceof t)) return new t(s, a, _, l, u);
a = a || n.generateID();
var d = o(222), c = o(223), h = [ e.__$$__jx_ui_Widget, "", "", [], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui"
} ], f = h[0].call(this, s, a, null, n.mangleIDs(a, h[3]), h[4]), p = f || this;
n.set(a, p);
if (!t.__jx__jcss_generated) {
r.generate(s, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var g = function() {
function t() {
p.setDataNode = e;
p.on("click", i);
}
function e(t) {
if (o !== t) {
o && p.autounbind(o, "value", n);
o = t;
p.setText("");
o && p.autobind(o, "value", n);
}
}
function i() {
o && o.update(!o.getValue());
}
function n() {
p.setText(o.getValue() === !0 ? c : d);
}
var o;
t();
}();
for (var m in g) g.hasOwnProperty(m) && (p[m] = g[m]);
p.fire && p.fire("init");
p.setStyle && p.setStyle(_);
p.setAttributes && p.setAttributes(u);
"function" == typeof p.addChildren ? p.addChildren(l) : n.addChildren(p, l);
if (p !== this) {
p.__jx__constructor = i;
p.__jx__native = !1;
}
return p;
}
var i;
t.prototype = s(e.__$$__jx_ui_Widget.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_Widget;
t.__jx__jcss = {
"**self": {
cursor: "pointer",
display: "inline-block",
textDecoration: "underline",
color: "$$chatTranslationSwitchColor"
}
};
a(t, "meshim_widget_widgets_chatLogRenderer_TranslationSwitch");
i = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(4), i(21), i(23), i(31), i(15), i(3));
}, function(t, e, i) {
(function(e, n, o, r, s, a) {
e.__$$__jx_ui_Widget = i(18);
e.__$$__jx_ui_html_div = i(124);
e.__$$__jx_ui_html_p = i(230);
e.__$$__jx_ui_html_img = i(128);
t.exports = function() {
function t(s, a, l, u, d) {
if (!(this instanceof t)) return new t(s, a, l, u, d);
a = a || n.generateID();
var c = [ e.__$$__jx_ui_Widget, "", "", [ [ e.__$$__jx_ui_html_div, "file_progress_container", "", [ [ e.__$$__jx_ui_html_p, "progress_text", "", [], {
id: "progress_text",
class: "progress_text"
} ], [ e.__$$__jx_ui_html_div, "", "", [ [ e.__$$__jx_ui_html_img, "progress_bar", "", [], {
id: "progress_bar",
class: "progress_bar"
} ] ], {
class: "progress_container"
} ] ], {
id: "file_progress_container",
useDisplay: "true"
} ], [ e.__$$__jx_ui_html_div, "file_details_container", "", [], {
id: "file_details_container",
class: "file_details_container",
visible: "none"
} ], [ e.__$$__jx_ui_html_div, "file_status", "", [], {
id: "file_status",
class: "file_status",
useDisplay: "true"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
visible: "none"
} ], h = c[0].call(this, s, a, null, n.mangleIDs(a, c[3]), c[4]), f = h || this;
n.set(a, f);
var p = n.get(a + "__file_progress_container"), g = n.get(a + "__progress_text"), m = n.get(a + "__progress_bar"), $ = n.get(a + "__file_details_container"), b = n.get(a + "__file_status");
if (!t.__jx__jcss_generated) {
o.generate(s, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var w = function() {
function t() {
m.setSrc(u.IMAGES_URL + "/loadingbar.gif");
}
function e(t) {
if (t) {
if (S in t) {
var e = t[S];
t[x] = e.name$string;
t[v] = e.mime_type$string;
t[j] = "ok";
t[y] = 100;
}
(x in t || C in t) && f.show();
n(t) && o(t) && s(t);
w.update({
file_upload_scroll$bool: !0
});
}
}
function n(t) {
if (!(j in t)) return !0;
p.hide();
var e = "ok" == t[j].toLowerCase();
if (e) {
$.show();
b.removeClass("fail");
return !0;
}
$.hide();
b.addClass("fail");
if (!(C in t)) return !0;
b.setText(l.prettyError(t[C]));
b.show();
return !1;
}
function o(t) {
if (!(y in t && x in t)) return !1;
var e = t[y] < N, i = t[x].length > 15 ? t[x].substring(0, 12) + "..." : t[x];
g.setText((e ? A : k).replace("<file_name>", i));
if (e) {
p.show();
$.hide();
b.hide();
} else {
p.hide();
$.show();
b.show();
}
return !e;
}
function s(t) {
if (a.$(S).getValue()) {
_ && $.empty();
var e;
e = I.test(t[v]) ? c : h;
_ = new e($);
_.setDataNode(a.$(S));
}
}
var a, _, l = i(55), u = i(43), d = i(41), c = i(231), h = i(232), w = d.root.$$("livechat.ui.chat_window"), x = "file_name$string", v = "file_type$string", y = "s3_progress$int", j = "status$string", C = "error$string", S = "attachment", A = r(218), k = r(219), I = /image/i, N = 100;
f.setDataNode = function(t) {
a && f.autounbind(a, "value", e);
a = t;
a && f.autobind(a, "value", e);
};
t();
}();
for (var x in w) w.hasOwnProperty(x) && (f[x] = w[x]);
f.fire && f.fire("init");
f.setStyle && f.setStyle(l);
f.setAttributes && f.setAttributes(d);
"function" == typeof f.addChildren ? f.addChildren(u) : n.addChildren(f, u);
if (f !== this) {
f.__jx__constructor = _;
f.__jx__native = !1;
}
return f;
}
var _;
t.prototype = s(e.__$$__jx_ui_Widget.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_Widget;
t.__jx__jcss = {
"**self": {
width: "100%"
},
".progress_text": {
fontSize: "$$fontSizeS",
color: "$$chatLogSystemMsgColor",
fontStyle: "italic"
},
".progress_container": {
position: "relative",
height: "8px",
marginTop: "3px",
borderRadius: "5px",
background: "$$chatLogFileProgressBg",
overflow: "hidden",
".progress_bar": {
position: "absolute",
top: "0px",
left: "0px",
height: "100%"
}
},
".file_details_container": {
overflow: "hidden",
marginTop: "5px"
},
".file_status": {
marginTop: "5px",
textAlign: "center",
fontSize: "$$fontSizeS",
color: "$$chatLogSystemMsgColor",
"&.fail": {
color: "$$errorMessageColor"
}
}
};
a(t, "meshim_widget_widgets_chatLogRenderer_ChatFile");
_ = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(4), i(21), i(31), i(23), i(15), i(3));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t, e, i, o, s) {
if (!(this instanceof n)) return new n(t, e, i, o, s);
s || (s = {});
s.tagName = "p";
r.call(this, t, e, i, o, s);
}
var o = i(15), r = i(19);
n.prototype = o(r.prototype);
t.exports = n;
e(n, "jx_ui_html_p");
return n;
}();
}).call(e, i(3));
}, function(t, e, i) {
(function(e, n, o, r, s, a) {
e.__$$__jx_ui_Widget = i(18);
e.__$$__jx_ui_html_a = i(96);
e.__$$__jx_ui_html_div = i(124);
e.__$$__meshim_widget_widgets_IconFont = i(98);
t.exports = function() {
function t(s, a, l, u, d) {
if (!(this instanceof t)) return new t(s, a, l, u, d);
a = a || n.generateID();
var c = o(224), h = [ e.__$$__jx_ui_Widget, "", "", [ [ e.__$$__jx_ui_html_a, "a_full", "", [ [ e.__$$__jx_ui_html_div, "", "", [ [ e.__$$__jx_ui_html_div, "file_image", "", [], {
id: "file_image",
class: "file_image"
} ], [ e.__$$__jx_ui_html_div, "reload_container", "", [ [ e.__$$__meshim_widget_widgets_IconFont, "", "", [], {
icon: "picture",
class: "reload_icon",
addClass: "icon"
} ], [ e.__$$__jx_ui_html_div, "", "", [ c ], {
class: "reload_message"
} ] ], {
id: "reload_container",
class: "reload_container",
display: "none"
} ] ], {
class: "file_image_container image_file_border"
} ] ], {
id: "a_full",
class: "anchor",
target: "_blank"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:widgets": "meshim.widget.widgets"
} ], f = h[0].call(this, s, a, null, n.mangleIDs(a, h[3]), h[4]), p = f || this;
n.set(a, p);
var g = n.get(a + "__a_full"), m = n.get(a + "__file_image"), $ = n.get(a + "__reload_container");
if (!t.__jx__jcss_generated) {
r.generate(s, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var b = function() {
function t(t) {
if (t && _ in t) {
t[_] = a.replaceFileHostname(t[_]);
g.setHref(t[_]);
s && (s.onload = s.onerror = s.onabort = e);
s = new window.Image();
s.onload = n;
s.onerror = o;
s.onabort = o;
s.src = t[_];
}
}
function e() {}
function n() {
m.setBackgroundImage(s.src);
$.setDisplay("none");
m.setOpacity(1);
}
function o() {
m.setDisplay("none");
$.setDisplay("");
}
var r, s, a = i(51), _ = "url$string";
p.setDataNode = function(e) {
r && p.autounbind(r, "value", t);
r = e;
r && p.autobind(r, "value", t);
};
}();
for (var w in b) b.hasOwnProperty(w) && (p[w] = b[w]);
p.fire && p.fire("init");
p.setStyle && p.setStyle(l);
p.setAttributes && p.setAttributes(d);
"function" == typeof p.addChildren ? p.addChildren(u) : n.addChildren(p, u);
if (p !== this) {
p.__jx__constructor = _;
p.__jx__native = !1;
}
return p;
}
var _;
t.prototype = s(e.__$$__jx_ui_Widget.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_Widget;
t.__jx__jcss = {
".anchor": {
textDecoration: "none"
},
".file_image_container": {
display: "table",
width: "120px",
height: "80px",
backgroundColor: "#FFFFFF",
borderCollapse: "separate",
borderRadius: "4px",
borderWidth: "1px",
borderStyle: "solid",
borderColor: "$$borderColor",
textAlign: "center",
overflow: "hidden",
".file_image": {
display: "table-cell",
width: "100%",
height: "100%",
backgroundPosition: "center",
backgroundSize: "cover",
opacity: "0",
transition: "opacity 0.5s"
},
".reload_container": {
display: "table-cell",
verticalAlign: "middle",
".reload_icon": {
fontSize: "24px"
},
".reload_message": {
fontSize: "$$fontSizeS",
color: "$$chatLogSystemMsgColor"
}
}
}
};
a(t, "meshim_widget_widgets_chatLogRenderer_ImageFileRenderer");
_ = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(4), i(21), i(23), i(31), i(15), i(3));
}, function(t, e, i) {
(function(e, n, o, r, s) {
e.__$$__jx_ui_Widget = i(18);
e.__$$__jx_ui_html_div = i(124);
e.__$$__jx_ui_html_a = i(96);
e.__$$__meshim_widget_widgets_IconFont = i(98);
t.exports = function() {
function t(r, s, _, l, u) {
if (!(this instanceof t)) return new t(r, s, _, l, u);
s = s || n.generateID();
var d = [ e.__$$__jx_ui_Widget, "", "", [ [ e.__$$__jx_ui_html_div, "icon_wrapper", "", [ [ e.__$$__jx_ui_html_a, "a_full", "", [ [ e.__$$__jx_ui_html_div, "", "", [ [ e.__$$__meshim_widget_widgets_IconFont, "", "", [], {
icon: "paperclip",
class: "generic_icon",
addClass: "icon"
} ] ], {
class: "generic_icon_container generic_file_border"
} ] ], {
id: "a_full",
class: "anchor",
target: "_blank"
} ] ], {
class: "icon_wrapper",
id: "icon_wrapper"
} ], [ e.__$$__jx_ui_html_div, "", "", [ [ e.__$$__jx_ui_html_a, "file_name", "", [], {
id: "file_name",
class: "file_name",
target: "_blank"
} ], [ e.__$$__jx_ui_html_div, "file_size", "", [], {
id: "file_size",
class: "file_size"
} ] ], {
class: "file_info_container"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:widgets": "meshim.widget.widgets"
} ], c = d[0].call(this, r, s, null, n.mangleIDs(s, d[3]), d[4]), h = c || this;
n.set(s, h);
var f = n.get(s + "__icon_wrapper"), p = n.get(s + "__a_full"), g = n.get(s + "__file_name"), m = n.get(s + "__file_size");
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var $ = function() {
function t() {
o.rtl(f);
}
function e(t) {
if (t) {
if (a in t) {
t[a] = s.replaceFileHostname(t[a]);
p.setHref(t[a]);
g.setHref(t[a]);
}
_ in t && g.setText(t[_]);
l in t && m.setText(r.prettySize(t[l], {
base2: !0
}));
}
}
var n, o = i(97), r = i(55), s = i(51), a = "url$string", _ = "name$string", l = "size$int";
h.setDataNode = function(t) {
n && h.autounbind(n, "value", e);
n = t;
n && h.autobind(n, "value", e);
};
t();
}();
for (var b in $) $.hasOwnProperty(b) && (h[b] = $[b]);
h.fire && h.fire("init");
h.setStyle && h.setStyle(_);
h.setAttributes && h.setAttributes(u);
"function" == typeof h.addChildren ? h.addChildren(l) : n.addChildren(h, l);
if (h !== this) {
h.__jx__constructor = a;
h.__jx__native = !1;
}
return h;
}
var a;
t.prototype = r(e.__$$__jx_ui_Widget.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_Widget;
t.__jx__jcss = {
"**self": {
display: "table",
width: "100%"
},
".icon_wrapper": {
display: "table-cell",
width: "1px",
"&.rtl": {
paddingLeft: "$$paddingL"
},
"&.ltr": {
paddingRight: "$$paddingL"
}
},
".anchor": {
textDecoration: "none"
},
".generic_icon_container": {
display: "table",
width: "44px",
height: "44px",
backgroundColor: "#FFFFFF",
borderCollapse: "separate",
borderRadius: "4px",
borderWidth: "1px",
borderStyle: "solid",
borderColor: "$$borderColor",
textAlign: "center",
".generic_icon": {
display: "table-cell",
paddingTop: "12px",
paddingLeft: "4px",
fontSize: "24px"
}
},
".file_info_container": {
display: "table-cell",
verticalAlign: "top",
padding: "0px",
".file_name": {
fontSize: "$$fontSizeS",
wordBreak: "break-all",
textDecoration: "none"
},
".file_size": {
marginTop: "2px",
fontSize: "$$fontSizeS"
}
}
};
s(t, "meshim_widget_widgets_chatLogRenderer_GenericFileRenderer");
a = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(4), i(21), i(31), i(15), i(3));
}, function(t, e, i) {
(function(e, n, o, r, s) {
e.__$$__jx_ui_html_div = i(124);
e.__$$__meshim_widget_widgets_chatLogRenderer_ChatBubble = i(234);
t.exports = function() {
function t(r, s, a, _, l) {
if (!(this instanceof t)) return new t(r, s, a, _, l);
s = s || n.generateID();
var u = [ e.__$$__jx_ui_html_div, "", "", [ [ e.__$$__meshim_widget_widgets_chatLogRenderer_ChatBubble, "bubble", "", [], {
id: "bubble",
addClass: "chat_bubble"
} ], [ e.__$$__jx_ui_html_div, "", "", [], {
class: "clear_both"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:widgets": "meshim.widget.widgets",
"xmlns:logRenderer": "meshim.widget.widgets.chatLogRenderer"
} ], d = u[0].call(this, r, s, null, n.mangleIDs(s, u[3]), u[4]), c = d || this;
n.set(s, c);
var h = n.get(s + "__bubble");
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var f = function() {
function t() {
c.setDataNode = function(t) {
h.setDataNode(t);
};
}
t();
}();
for (var p in f) f.hasOwnProperty(p) && (c[p] = f[p]);
c.fire && c.fire("init");
c.setStyle && c.setStyle(a);
c.setAttributes && c.setAttributes(l);
"function" == typeof c.addChildren ? c.addChildren(_) : n.addChildren(c, _);
if (c !== this) {
c.__jx__constructor = i;
c.__jx__native = !1;
}
return c;
}
var i;
t.prototype = r(e.__$$__jx_ui_html_div.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_html_div;
t.__jx__jcss = {
"**self": {
".clear_both": {
clear: "both",
height: "0px",
overflow: "hidden",
lineHeight: "0px",
fontSize: "0px"
}
},
"**self.group_children": {
".chat_name": {
display: "none"
}
}
};
s(t, "meshim_widget_widgets_chatLogRenderer_BubbleLogRenderer");
i = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(4), i(21), i(31), i(15), i(3));
}, function(t, e, i) {
(function(e, n, o, r, s) {
e.__$$__meshim_widget_widgets_chatLogRenderer_ArrowBubble = i(235);
e.__$$__meshim_widget_widgets_chatLogRenderer_BasicRenderer = i(220);
t.exports = function() {
function t(r, s, a, _, l) {
if (!(this instanceof t)) return new t(r, s, a, _, l);
s = s || n.generateID();
var u = [ e.__$$__meshim_widget_widgets_chatLogRenderer_ArrowBubble, "", "", [ [ e.__$$__meshim_widget_widgets_chatLogRenderer_BasicRenderer, "content", "", [], {
id: "content",
class: "content"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:mui": "meshim.ui",
"xmlns:widgets": "meshim.widget.widgets",
"xmlns:logRenderer": "meshim.widget.widgets.chatLogRenderer",
addClass: "chat_bubble"
} ], d = u[0].call(this, r, s, null, n.mangleIDs(s, u[3]), u[4]), c = d || this;
n.set(s, c);
var h = n.get(s + "__content");
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var f = function() {
function t() {
c.setDataNode = e;
}
function e(t) {
n || h.setDataNode(t);
n && c.autounbind(n, "value", i);
n = t.$("nick$string");
c.autobind(n, "value", i);
}
function i(t) {
if (t) if (o.test(t)) {
c.setArrowPointing("left");
c.setFloat("left");
} else if (r.test(t)) {
c.setArrowPointing("right");
c.setFloat("right");
}
}
var n, o = /^agent/, r = /^visitor:/;
t();
}();
for (var p in f) f.hasOwnProperty(p) && (c[p] = f[p]);
c.fire && c.fire("init");
c.setStyle && c.setStyle(a);
c.setAttributes && c.setAttributes(l);
"function" == typeof c.addChildren ? c.addChildren(_) : n.addChildren(c, _);
if (c !== this) {
c.__jx__constructor = i;
c.__jx__native = !1;
}
return c;
}
var i;
t.prototype = r(e.__$$__meshim_widget_widgets_chatLogRenderer_ArrowBubble.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__meshim_widget_widgets_chatLogRenderer_ArrowBubble;
t.__jx__jcss = {
"**self": {
maxWidth: "90%",
clear: "both",
padding: "5px 10px",
margin: "0px 5px",
borderRadius: "4px",
".arrow_border": {},
".arrow_background": {},
".arrow_border": {
top: "auto !important",
bottom: "5px",
marginTop: "0px",
borderWidth: "6px"
},
".arrow_background": {
top: "auto !important",
bottom: "6px",
marginTop: "0px",
borderWidth: "5px"
},
".content": {
marginTop: "0px"
}
}
};
s(t, "meshim_widget_widgets_chatLogRenderer_ChatBubble");
i = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(4), i(21), i(31), i(15), i(3));
}, function(t, e, i) {
(function(e, n, o, r, s) {
e.__$$__jx_ui_html_div = i(124);
t.exports = function() {
function t(r, s, _, l, u) {
if (!(this instanceof t)) return new t(r, s, _, l, u);
s = s || n.generateID();
var d = [ e.__$$__jx_ui_html_div, "", "", [ [ e.__$$__jx_ui_html_div, "$$defaultplacement$$", "", [], {
class: "arrow_content",
container: "default",
position: "relative",
id: "$$defaultplacement$$"
} ], [ e.__$$__jx_ui_html_div, "", "", [], {
class: "arrow arrow_border"
} ], [ e.__$$__jx_ui_html_div, "", "", [], {
class: "arrow arrow_background"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:mui": "meshim.ui"
} ], c = d[0].call(this, r, s, null, n.mangleIDs(s, d[3]), d[4]), h = c || this;
n.set(s, h);
var f = n.get(s + "__$$defaultplacement$$");
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
h.defaultPlacement = f;
var p = function() {
function t() {
h.setArrowPointing = function(t) {
h.removeClass("left").removeClass("right");
h.addClass(t);
};
e.rtl(h);
}
var e = i(97);
t();
}();
for (var g in p) p.hasOwnProperty(g) && (h[g] = p[g]);
h.fire && h.fire("init");
h.setStyle && h.setStyle(_);
h.setAttributes && h.setAttributes(u);
"function" == typeof h.addChildren ? h.addChildren(l) : n.addChildren(h, l);
if (h !== this) {
h.__jx__constructor = a;
h.__jx__native = !1;
}
return h;
}
var a;
t.prototype = r(e.__$$__jx_ui_html_div.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_html_div;
t.__jx__jcss = {
"**self": {
position: "relative",
border: "1px solid #000000",
background: "#ffffff",
".arrow": {
position: "absolute",
border: "0px solid transparent",
height: 0,
width: 0,
fontSize: 0,
lineHeight: 0,
pointerEvents: "none"
},
".arrow_border": {
borderWidth: "8px",
marginTop: "8px"
},
".arrow_background": {
borderWidth: "7px",
marginTop: "9px"
},
"&.ltr.left, &.rtl.right": {
".arrow": {
right: "100%",
top: 0,
borderLeftColor: "transparent !important",
borderTopColor: "transparent !important",
borderBottomColor: "transparent !important"
}
},
"&.rtl.left, &.ltr.right": {
".arrow": {
left: "100%",
top: 0,
borderRightColor: "transparent !important",
borderTopColor: "transparent !important",
borderBottomColor: "transparent !important"
}
}
}
};
s(t, "meshim_widget_widgets_chatLogRenderer_ArrowBubble");
a = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(4), i(21), i(31), i(15), i(3));
}, function(t, e, i) {
(function(e, n, o, r, s) {
e.__$$__jx_ui_html_table = i(106);
e.__$$__jx_ui_html_tbody = i(107);
e.__$$__jx_ui_html_tr = i(108);
e.__$$__jx_ui_html_td = i(109);
e.__$$__meshim_widget_widgets_Avatar = i(148);
e.__$$__meshim_widget_widgets_chatLogRenderer_BasicRenderer = i(220);
t.exports = function() {
function t(r, s, _, l, u) {
if (!(this instanceof t)) return new t(r, s, _, l, u);
s = s || n.generateID();
var d = [ e.__$$__jx_ui_html_table, "", "", [ [ e.__$$__jx_ui_html_tbody, "", "", [ [ e.__$$__jx_ui_html_tr, "", "", [ [ e.__$$__jx_ui_html_td, "", "", [ [ e.__$$__meshim_widget_widgets_Avatar, "avatar", "", [], {
id: "avatar",
addClass: "log_avatar",
hideAuthType: "true"
} ] ], {
class: "avatar_cell"
} ], [ e.__$$__jx_ui_html_td, "", "", [ [ e.__$$__meshim_widget_widgets_chatLogRenderer_BasicRenderer, "content", "", [], {
id: "content",
addClass: "content"
} ] ], {} ] ], {} ] ], {} ] ], {
xmlns: "jx.ui.html",
"xmlns:mui": "meshim.ui",
"xmlns:widgets": "meshim.widget.widgets",
class: "basicAvatarRenderer"
} ], c = d[0].call(this, r, s, null, n.mangleIDs(s, d[3]), d[4]), h = c || this;
n.set(s, h);
var f = n.get(s + "__avatar"), p = n.get(s + "__content");
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var g = function() {
function t() {
r.rtl(h);
h.setDataNode = e;
}
function e(t) {
o && h.autounbind(o, "value", n);
p.setDataNode(t);
o = t.$("nick$string");
h.autobind(o, "value", n);
}
function n(t) {
t && f.setMemberId(t);
}
var o, r = i(97);
t();
}();
for (var m in g) g.hasOwnProperty(m) && (h[m] = g[m]);
h.fire && h.fire("init");
h.setStyle && h.setStyle(_);
h.setAttributes && h.setAttributes(u);
"function" == typeof h.addChildren ? h.addChildren(l) : n.addChildren(h, l);
if (h !== this) {
h.__jx__constructor = a;
h.__jx__native = !1;
}
return h;
}
var a;
t.prototype = r(e.__$$__jx_ui_html_table.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_html_table;
t.__jx__jcss = {
"**self": {
position: "relative",
width: "100%",
tableLayout: "fixed",
borderSpacing: "0px",
borderCollapse: "collapse",
fontSize: "100%",
td: {
verticalAlign: "top",
padding: "0px"
},
".log_avatar": {
width: "24px",
height: "24px"
},
".avatar_cell": {
width: "24px"
},
".content": {
marginTop: "0px",
marginLeft: "8px"
}
},
"&.rtl": {
".content": {
marginLeft: "0px",
marginRight: "8px"
}
},
"**self.group_children": {
".log_avatar": {
display: "none"
},
".chat_name": {
display: "none"
}
}
};
s(t, "meshim_widget_widgets_chatLogRenderer_BasicAvatarRenderer");
a = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(4), i(21), i(31), i(15), i(3));
}, function(t, e, i) {
(function(e, n, o, r, s) {
e.__$$__jx_ui_html_table = i(106);
e.__$$__jx_ui_html_tbody = i(107);
e.__$$__jx_ui_html_tr = i(108);
e.__$$__jx_ui_html_td = i(109);
t.exports = function() {
function t(r, s, _, l, u) {
if (!(this instanceof t)) return new t(r, s, _, l, u);
s = s || n.generateID();
var d = [ e.__$$__jx_ui_html_table, "", "", [ [ e.__$$__jx_ui_html_tbody, "", "", [ [ e.__$$__jx_ui_html_tr, "", "", [ [ e.__$$__jx_ui_html_td, "left_cell", "", [], {
id: "left_cell"
} ], [ e.__$$__jx_ui_html_td, "right_cell", "", [], {
id: "right_cell"
} ] ], {} ] ], {} ] ], {
xmlns: "jx.ui.html",
"xmlns:mui": "meshim.ui",
"xmlns:widgets": "meshim.widget.widgets"
} ], c = d[0].call(this, r, s, null, n.mangleIDs(s, d[3]), d[4]), h = c || this;
n.set(s, h);
var f = n.get(s + "__left_cell"), p = n.get(s + "__right_cell");
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var g = function() {
function t() {
h.setDataNode = e;
}
function e(t) {
o && h.autounbind(o, "value", n);
r = t;
o = t.$("nick$string");
h.autobind(o, "value", n);
}
function n(t) {
if (t) {
f.empty();
p.empty();
f.removeClass("avatar_cell");
p.removeClass("avatar_cell");
if (_.test(t)) {
new s(f).setHideAuthType(!0).setMemberId(t).addClass("log_avatar");
new a(p).setDataNode(r);
f.addClass("avatar_cell");
} else {
new s(p).setHideAuthType(!0).setMemberId(t).addClass("log_avatar");
new a(f).setDataNode(r);
p.addClass("avatar_cell");
}
}
}
var o, r, s = i(148), a = i(234), _ = /^agent/;
t();
}();
for (var m in g) g.hasOwnProperty(m) && (h[m] = g[m]);
h.fire && h.fire("init");
h.setStyle && h.setStyle(_);
h.setAttributes && h.setAttributes(u);
"function" == typeof h.addChildren ? h.addChildren(l) : n.addChildren(h, l);
if (h !== this) {
h.__jx__constructor = a;
h.__jx__native = !1;
}
return h;
}
var a;
t.prototype = r(e.__$$__jx_ui_html_table.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_html_table;
t.__jx__jcss = {
"**self": {
position: "relative",
width: "100%",
fontSize: "100%",
tableLayout: "fixed",
borderSpacing: "0px",
borderCollapse: "collapse",
td: {
verticalAlign: "bottom",
padding: "0px"
},
".chat_bubble": {
display: "inline",
margin: "0 8px"
},
".log_avatar": {
width: "32px",
height: "32px"
},
".avatar_cell": {
width: "32px"
}
},
"**self.group_children": {
".chat_name": {
display: "none"
}
}
};
s(t, "meshim_widget_widgets_chatLogRenderer_BubbleAvatarRenderer");
a = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(4), i(21), i(31), i(15), i(3));
}, function(t, e, i) {
(function(e, n, o, r, s) {
e.__$$__meshim_widget_widgets_chatLogRenderer_RatingPrompt = i(239);
t.exports = function() {
function t(r, s, _, l, u) {
if (!(this instanceof t)) return new t(r, s, _, l, u);
s = s || n.generateID();
var d = [ e.__$$__meshim_widget_widgets_chatLogRenderer_RatingPrompt, "", "", [], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:chatLogRenderer": "meshim.widget.widgets.chatLogRenderer"
} ], c = d[0].call(this, r, s, null, n.mangleIDs(s, d[3]), d[4]), h = c || this;
n.set(s, h);
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var f = function() {
function t() {
h.setDataNode = e;
h.autobind(a, "value", n);
h.autobind(l, "value", n);
h.autobind(u, "value", n);
}
function e(t) {
var e = t.$("timestamp$int");
if (o !== e) {
o && h.autounbind(o, "value", n);
o = e;
o && h.autobind(o, "value", n);
}
}
function n() {
if (o) {
var t = a.getValue(), e = o.getValue(), i = l.getValue(), n = u.getValue();
t && i && n && n <= e ? h.setDisplay("") : h.setDisplay("none");
} else h.setDisplay("none");
}
var o, r = i(41), s = r.root.$("livechat"), a = s.$("settings").$("rating").$("enabled$bool"), _ = s.$("channel"), l = _.$("chatting$bool"), u = _.$("start$time");
t();
}();
for (var p in f) f.hasOwnProperty(p) && (h[p] = f[p]);
h.fire && h.fire("init");
h.setStyle && h.setStyle(_);
h.setAttributes && h.setAttributes(u);
"function" == typeof h.addChildren ? h.addChildren(l) : n.addChildren(h, l);
if (h !== this) {
h.__jx__constructor = a;
h.__jx__native = !1;
}
return h;
}
var a;
t.prototype = r(e.__$$__meshim_widget_widgets_chatLogRenderer_RatingPrompt.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__meshim_widget_widgets_chatLogRenderer_RatingPrompt;
t.__jx__jcss = {
"**self": {
fontSize: "$$fontSizeS",
color: "$$chatLogSystemMsgColor",
background: "$$chatLogSystemMsgBg",
borderWidth: "$$chatLogSystemMsgBorderWidth",
borderStyle: "$$chatLogSystemMsgBorderStyle",
borderColor: "$$chatLogSystemMsgBorderColor",
padding: "$$chatLogSystemMsgPadding",
textAlign: "center"
}
};
s(t, "meshim_widget_widgets_chatLogRenderer_RequestRatingPrompt");
a = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(4), i(21), i(31), i(15), i(3));
}, function(t, e, i) {
(function(e, n, o, r, s, a) {
e.__$$__jx_ui_html_div = i(124);
e.__$$__meshim_widget_widgets_chatLogRenderer_Button = i(240);
t.exports = function() {
function t(s, a, l, u, d) {
if (!(this instanceof t)) return new t(s, a, l, u, d);
a = a || n.generateID();
var c = o(217), h = [ e.__$$__jx_ui_html_div, "", "", [ [ e.__$$__meshim_widget_widgets_chatLogRenderer_Button, "rate_this_chat", "", [ c ], {
id: "rate_this_chat"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:widgets": "meshim.widget.widgets"
} ], f = h[0].call(this, s, a, null, n.mangleIDs(a, h[3]), h[4]), p = f || this;
n.set(a, p);
var g = n.get(a + "__rate_this_chat");
if (!t.__jx__jcss_generated) {
r.generate(s, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var m = function() {
function e() {
t.last_instance && t.last_instance.destroy();
t.last_instance = p;
p.autobind(g, "click", n);
}
function n() {
r.update("rating_panel");
}
var o = i(41), r = o.root.$("livechat").$("ui").$("chat_window").$("main_stack_name$string");
e();
}();
for (var $ in m) m.hasOwnProperty($) && (p[$] = m[$]);
p.fire && p.fire("init");
p.setStyle && p.setStyle(l);
p.setAttributes && p.setAttributes(d);
"function" == typeof p.addChildren ? p.addChildren(u) : n.addChildren(p, u);
if (p !== this) {
p.__jx__constructor = _;
p.__jx__native = !1;
}
return p;
}
var _;
t.prototype = s(e.__$$__jx_ui_html_div.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_html_div;
t.__jx__jcss = {
"**self": {
marginTop: "5px",
marginBottom: "5px"
}
};
a(t, "meshim_widget_widgets_chatLogRenderer_RatingPrompt");
_ = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(4), i(21), i(23), i(31), i(15), i(3));
}, function(t, e, i) {
(function(e, n, o, r, s) {
e.__$$__meshim_widget_widgets_Button = i(162);
t.exports = function() {
function t(r, s, a, _, l) {
if (!(this instanceof t)) return new t(r, s, a, _, l);
s = s || n.generateID();
var u = [ e.__$$__meshim_widget_widgets_Button, "", "", [], {
xmlns: "jx.ui.html",
"xmlns:widgets": "meshim.widget.widgets",
addClass: "secondary chat_log_button"
} ], d = u[0].call(this, r, s, null, n.mangleIDs(s, u[3]), u[4]), c = d || this;
n.set(s, c);
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var h = void 0;
for (var f in h) h.hasOwnProperty(f) && (c[f] = h[f]);
c.fire && c.fire("init");
c.setStyle && c.setStyle(a);
c.setAttributes && c.setAttributes(l);
"function" == typeof c.addChildren ? c.addChildren(_) : n.addChildren(c, _);
if (c !== this) {
c.__jx__constructor = i;
c.__jx__native = !1;
}
return c;
}
var i;
t.prototype = r(e.__$$__meshim_widget_widgets_Button.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__meshim_widget_widgets_Button;
t.__jx__jcss = {
"**self.chat_log_button": {
width: "auto",
maxWidth: "100%",
padding: "6px"
}
};
s(t, "meshim_widget_widgets_chatLogRenderer_Button");
i = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(4), i(21), i(31), i(15), i(3));
}, function(t, e, i) {
(function(e, n, o, r, s, a) {
e.__$$__jx_ui_html_div = i(124);
t.exports = function() {
function t(s, a, l, u, d) {
if (!(this instanceof t)) return new t(s, a, l, u, d);
a = a || n.generateID();
var c = [ e.__$$__jx_ui_html_div, "", "", [], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui"
} ], h = c[0].call(this, s, a, null, n.mangleIDs(a, c[3]), c[4]), f = h || this;
n.set(a, f);
if (!t.__jx__jcss_generated) {
o.generate(s, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var p = function() {
function t() {
f.setDataNode = e;
f.onDestruction(s);
r.onLanguage && r.onLanguage(o);
}
function e(t) {
a && f.autounbind(a, "value", n);
_ = t;
a = _.$("type$string");
f.autobind(a, "value", n);
}
function n(t) {
if (t && !l) {
switch (t) {
case "chat.memberjoin":
l = new d(f);
break;

case "chat.memberleave":
l = new d(f);
u = new g(f);
u.setDataNode(_);
break;

case "chat.changename":
l = new c(f);
break;

case "chat.rating":
l = new h(f);
break;

case "chat.comment":
l = new p(f);
}
o();
}
}
function o() {
if (_) {
l && l.setDataNode(_);
u && u.setDataNode(_);
}
}
function s() {
r.unLanguage && r.unLanguage(o);
}
var a, _, l, u, d = i(242), c = i(243), h = i(244), p = i(245), g = i(246);
t();
}();
for (var g in p) p.hasOwnProperty(g) && (f[g] = p[g]);
f.fire && f.fire("init");
f.setStyle && f.setStyle(l);
f.setAttributes && f.setAttributes(d);
"function" == typeof f.addChildren ? f.addChildren(u) : n.addChildren(f, u);
if (f !== this) {
f.__jx__constructor = _;
f.__jx__native = !1;
}
return f;
}
var _;
t.prototype = s(e.__$$__jx_ui_html_div.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_html_div;
t.__jx__jcss = {
"**self": {
fontSize: "$$fontSizeS",
color: "$$chatLogSystemMsgColor",
background: "$$chatLogSystemMsgBg",
borderWidth: "$$chatLogSystemMsgBorderWidth",
borderStyle: "$$chatLogSystemMsgBorderStyle",
borderColor: "$$chatLogSystemMsgBorderColor",
padding: "$$chatLogSystemMsgPadding",
textAlign: "center"
}
};
a(t, "meshim_widget_widgets_chatLogRenderer_SystemLogRenderer");
_ = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(4), i(21), i(31), i(23), i(15), i(3));
}, function(t, e, i) {
(function(e, n, o, r, s) {
e.__$$__jx_ui_html_div = i(124);
t.exports = function() {
function t(r, s, _, l, u) {
if (!(this instanceof t)) return new t(r, s, _, l, u);
s = s || n.generateID();
var d = [ e.__$$__jx_ui_html_div, "", "", [ [ e.__$$__jx_ui_html_div, "log_message", "", [], {
id: "log_message"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:mui": "meshim.ui",
"xmlns:widgets": "meshim.widget.widgets"
} ], c = d[0].call(this, r, s, null, n.mangleIDs(s, d[3]), d[4]), h = c || this;
n.set(s, h);
var f = n.get(s + "__log_message");
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var p = function() {
function t() {
h.setDataNode = e;
u.on("value", function(t) {
r = t;
});
}
function e(t) {
o && h.autounbind(o, "value", n);
o = t.$("display_name$string");
h.autobind(o, "value", n);
}
function n(t) {
var e = o.parentNode.getValue("nick$string") || "";
e = e.split(":")[0];
var i = o.parentNode.getValue("type$string");
if (e && t || "chat.memberleave" === i && "visitor" === e) {
h.parentNode.setDisplay("");
var n = o.parentNode.getValue("timestamp$int"), s = l[i] || "";
s = s.replace("<name>", t);
if ("visitor" == e) if ("chat.memberleave" != i) {
s = a.chat_log["chat.visitorjoin"];
h.parentNode.addClass("visitor_join");
} else {
s = a.chat_log["chat.visitorleave"];
h.parentNode.addClass("visitor_leave");
}
"agent" == e && "chat.memberjoin" == i && r && n > r && _.trackEvent("Served by Operator", t);
f.setText(s);
} else h.parentNode.setDisplay("none");
}
var o, r, s = i(41), a = i(99), _ = i(180), l = a.chat_log, u = s.root.$$("connection.reattached_timestamp$int");
t();
}();
for (var g in p) p.hasOwnProperty(g) && (h[g] = p[g]);
h.fire && h.fire("init");
h.setStyle && h.setStyle(_);
h.setAttributes && h.setAttributes(u);
"function" == typeof h.addChildren ? h.addChildren(l) : n.addChildren(h, l);
if (h !== this) {
h.__jx__constructor = a;
h.__jx__native = !1;
}
return h;
}
var a;
t.prototype = r(e.__$$__jx_ui_html_div.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_html_div;
t.__jx__jcss = {};
s(t, "meshim_widget_widgets_chatLogRenderer_MemberChange");
a = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(4), i(21), i(31), i(15), i(3));
}, function(t, e, i) {
(function(e, n, o, r, s) {
e.__$$__jx_ui_html_div = i(124);
t.exports = function() {
function t(r, s, _, l, u) {
if (!(this instanceof t)) return new t(r, s, _, l, u);
s = s || n.generateID();
var d = [ e.__$$__jx_ui_html_div, "", "", [], {
xmlns: "jx.ui.html",
"xmlns:mui": "meshim.ui"
} ], c = d[0].call(this, r, s, null, n.mangleIDs(s, d[3]), d[4]), h = c || this;
n.set(s, h);
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var f = function() {
function t() {
h.setDataNode = e;
}
function e(t) {
o && h.autounbind(o, "value", n);
o = t;
o && h.autobind(o, "value", n);
}
function n() {
var t = o.getValue();
if (t) {
var e = t.display_name$string, i = t.new_display_name$string, n = "";
e && i && (n = s.replace("<old_name>", e).replace("<new_name>", i));
h.parentNode.setDisplay(n ? "" : "none");
h.setText(n);
}
}
var o, r = i(99), s = r.chat_log["chat.changename"];
t();
}();
for (var p in f) f.hasOwnProperty(p) && (h[p] = f[p]);
h.fire && h.fire("init");
h.setStyle && h.setStyle(_);
h.setAttributes && h.setAttributes(u);
"function" == typeof h.addChildren ? h.addChildren(l) : n.addChildren(h, l);
if (h !== this) {
h.__jx__constructor = a;
h.__jx__native = !1;
}
return h;
}
var a;
t.prototype = r(e.__$$__jx_ui_html_div.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_html_div;
t.__jx__jcss = {};
s(t, "meshim_widget_widgets_chatLogRenderer_NameChange");
a = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(4), i(21), i(31), i(15), i(3));
}, function(t, e, i) {
(function(e, n, o, r, s, a) {
e.__$$__jx_ui_html_div = i(124);
e.__$$__meshim_widget_widgets_chatLogRenderer_Button = i(240);
t.exports = function() {
function t(s, a, l, u, d) {
if (!(this instanceof t)) return new t(s, a, l, u, d);
a = a || n.generateID();
var c = o(214), h = [ e.__$$__jx_ui_html_div, "", "", [ [ e.__$$__jx_ui_html_div, "rating_msg", "", [], {
id: "rating_msg"
} ], [ e.__$$__meshim_widget_widgets_chatLogRenderer_Button, "leave_a_comment", "", [ c ], {
id: "leave_a_comment",
addClass: "leave_a_comment"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:widgets": "meshim.widget.widgets"
} ], f = h[0].call(this, s, a, null, n.mangleIDs(a, h[3]), h[4]), p = f || this;
n.set(a, p);
var g = n.get(a + "__rating_msg"), m = n.get(a + "__leave_a_comment");
if (!t.__jx__jcss_generated) {
r.generate(s, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var $ = function() {
function e() {
p.setDataNode = a;
p.disableLeaveComment = s;
p.autobind($, "value", o);
p.autobind(b, "value", r);
p.autobind(w, "value", r);
p.autobind(x, "value", r);
t.last_instance && t.last_instance.disableLeaveComment();
t.last_instance = p;
m.on("click", n);
}
function n() {
v.update("rating_panel");
}
function o() {
var t = $.getValue();
p.setDisplay(t ? "" : "none");
}
function r() {
if (m && u) {
var t = b.getValue(), e = w.getValue(), i = u.getValue("timestamp$int"), n = e && i > t, o = x.getValue(), r = o && i <= o;
n && !r || s();
}
}
function s() {
if (m) {
p.autounbind(x, "value", r);
m.un("click", n);
m.destroy();
m = null;
}
}
function a(t) {
if (u !== t) {
u && p.autounbind(u, "value", _);
u = t;
t && p.autobind(u, "value", _);
}
}
function _() {
var t = u.getValue();
if (t) {
var e = t.new_rating$string;
g.setText(l(e));
r();
}
}
function l(t) {
return t ? h[t] : h.cancel;
}
var u, d = i(99), c = i(41), h = d.chat_log["chat.rating"], f = c.root.$("livechat"), $ = f.$("settings").$("rating").$("enabled$bool"), b = f.$("channel").$("start$time"), w = f.$("channel").$("chatting$bool"), x = f.$("channel").$("last_comment_ts$int"), v = f.$("ui").$("chat_window").$("main_stack_name$string");
e();
}();
for (var b in $) $.hasOwnProperty(b) && (p[b] = $[b]);
p.fire && p.fire("init");
p.setStyle && p.setStyle(l);
p.setAttributes && p.setAttributes(d);
"function" == typeof p.addChildren ? p.addChildren(u) : n.addChildren(p, u);
if (p !== this) {
p.__jx__constructor = _;
p.__jx__native = !1;
}
return p;
}
var _;
t.prototype = s(e.__$$__jx_ui_html_div.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_html_div;
t.__jx__jcss = {
"**self": {
padding: "0px 10px",
".leave_a_comment": {
margin: "5px 0px"
}
}
};
a(t, "meshim_widget_widgets_chatLogRenderer_Rating");
_ = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(4), i(21), i(23), i(31), i(15), i(3));
}, function(t, e, i) {
(function(e, n, o, r, s) {
e.__$$__div = i(217);
t.exports = function() {
function t(r, s, _, l, u) {
if (!(this instanceof t)) return new t(r, s, _, l, u);
s = s || n.generateID();
var d = [ e.__$$__div, "", "", [], {} ], c = d[0].call(this, r, s, null, n.mangleIDs(s, d[3]), d[4]), h = c || this;
n.set(s, h);
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var f = function() {
function t() {
h.setText(r);
h.autobind(a, "value", e);
}
function e() {
a.getValue() ? h.setDisplay("") : h.setDisplay("none");
}
var n = i(99), o = i(41), r = n.chat_log["chat.comment"], s = o.root.$("livechat"), a = s.$("settings").$("rating").$("enabled$bool");
h.setDataNode = function() {};
t();
}();
for (var p in f) f.hasOwnProperty(p) && (h[p] = f[p]);
h.fire && h.fire("init");
h.setStyle && h.setStyle(_);
h.setAttributes && h.setAttributes(u);
"function" == typeof h.addChildren ? h.addChildren(l) : n.addChildren(h, l);
if (h !== this) {
h.__jx__constructor = a;
h.__jx__native = !1;
}
return h;
}
var a;
t.prototype = r(e.__$$__div.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__div;
t.__jx__jcss = {};
s(t, "meshim_widget_widgets_chatLogRenderer_Comment");
a = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(4), i(21), i(31), i(15), i(3));
}, function(t, e, i) {
(function(e, n, o, r, s) {
e.__$$__meshim_widget_widgets_chatLogRenderer_RatingPrompt = i(239);
t.exports = function() {
function t(r, s, _, l, u) {
if (!(this instanceof t)) return new t(r, s, _, l, u);
s = s || n.generateID();
var d = [ e.__$$__meshim_widget_widgets_chatLogRenderer_RatingPrompt, "", "", [], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:chatLogRenderer": "meshim.widget.widgets.chatLogRenderer"
} ], c = d[0].call(this, r, s, null, n.mangleIDs(s, d[3]), d[4]), h = c || this;
n.set(s, h);
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var f = function() {
function t() {
h.setDataNode = e;
h.autobind(a, "value", n);
h.autobind(d, "value", n);
h.autobind(l, "value", n);
h.autobind(u, "value", n);
}
function e(t) {
var e = t.$("timestamp$int");
if (o !== e) {
o && h.autounbind(o, "value", n);
o = e;
o && h.autobind(o, "value", n);
}
}
function n() {
if (o) {
var t = a.getValue(), e = o.getValue(), i = u.getValue(), n = c.getValue(), r = l.getValue() && i && i <= e;
t && r && n === e && !d.getValue() ? h.setDisplay("") : h.setDisplay("none");
} else h.setDisplay("none");
}
var o, r = i(41), s = r.root.$("livechat"), a = s.$("settings").$("rating").$("enabled$bool"), _ = s.$("channel"), l = _.$("chatting$bool"), u = _.$("start$time"), d = _.$("rating$string"), c = _.$("last_agent_leave_ts$int");
t();
}();
for (var p in f) f.hasOwnProperty(p) && (h[p] = f[p]);
h.fire && h.fire("init");
h.setStyle && h.setStyle(_);
h.setAttributes && h.setAttributes(u);
"function" == typeof h.addChildren ? h.addChildren(l) : n.addChildren(h, l);
if (h !== this) {
h.__jx__constructor = a;
h.__jx__native = !1;
}
return h;
}
var a;
t.prototype = r(e.__$$__meshim_widget_widgets_chatLogRenderer_RatingPrompt.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__meshim_widget_widgets_chatLogRenderer_RatingPrompt;
t.__jx__jcss = {};
s(t, "meshim_widget_widgets_chatLogRenderer_MemberLeaveRatingPrompt");
a = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(4), i(21), i(31), i(15), i(3));
}, function(t, e, i) {
(function(e, n, o, r, s, a) {
e.__$$__meshim_widget_widgets_chatLogRenderer_SystemLogRenderer = i(241);
t.exports = function() {
function t(s, a, l, u, d) {
if (!(this instanceof t)) return new t(s, a, l, u, d);
a = a || n.generateID();
var c = [ e.__$$__meshim_widget_widgets_chatLogRenderer_SystemLogRenderer, "", "", [], {
"xmlns:widgets": "meshim.widget.widgets"
} ], h = c[0].call(this, s, a, null, n.mangleIDs(a, c[3]), c[4]), f = h || this;
n.set(a, f);
if (!t.__jx__jcss_generated) {
o.generate(s, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var p = function() {
function t() {
f.autobind(a.$("num_typing_agents$int"), "value", e);
if (r && r.onLanguage) {
r.onLanguage(e);
f.onDestruction(function() {
r.unLanguage(e);
});
}
}
function e() {
var t = a.$("num_typing_agents$int").getValue();
if (t >= 1) {
f.setText((1 == t ? o.chat_panel.name_is_typing : o.chat_panel.agents_are_typing).replace("<name>", a.$("agent_names$string").getValue()));
f.setDisplay("");
} else f.setDisplay("none");
}
var n = i(41), o = i(99), s = n.root.$("livechat"), a = s.$("ui").$("chat_window").$("typing_info");
t();
}();
for (var g in p) p.hasOwnProperty(g) && (f[g] = p[g]);
f.fire && f.fire("init");
f.setStyle && f.setStyle(l);
f.setAttributes && f.setAttributes(d);
"function" == typeof f.addChildren ? f.addChildren(u) : n.addChildren(f, u);
if (f !== this) {
f.__jx__constructor = _;
f.__jx__native = !1;
}
return f;
}
var _;
t.prototype = s(e.__$$__meshim_widget_widgets_chatLogRenderer_SystemLogRenderer.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__meshim_widget_widgets_chatLogRenderer_SystemLogRenderer;
t.__jx__jcss = {
"**self": {
width: "100%"
}
};
a(t, "meshim_widget_widgets_chatLogRenderer_TypingRenderer");
_ = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(4), i(21), i(31), i(23), i(15), i(3));
}, function(t, e, i) {
(function(e, n, o, r, s, a) {
e.__$$__jx_ui_html_div = i(124);
t.exports = function() {
function t(s, a, l, u, d) {
if (!(this instanceof t)) return new t(s, a, l, u, d);
a = a || n.generateID();
var c = o(197), h = [ e.__$$__jx_ui_html_div, "", "", [ " {str_queue_position} " ], {
xmlns: "jx.ui.html"
} ], f = h[0].call(this, s, a, null, n.mangleIDs(a, h[3]), h[4]), p = f || this;
n.set(a, p);
if (!t.__jx__jcss_generated) {
r.generate(s, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var g = function() {
function t() {
p.autobind(s, "value", e);
if (o && o.onLanguage) {
o.onLanguage(e);
p.onDestruction(function() {
o.unLanguage(e);
});
}
}
function e() {
var t = s.getValue(), e = !0;
if (t && t > 0) {
t > 99 && (t = 99);
p.setText(c.replace("<number>", t));
} else e = !1;
p[e ? "removeClass" : "addClass"]("hidden");
}
var n = i(41), r = n.root.$("livechat"), s = r.$("channel").$("queue_position$int");
r.$("ui").$("mobile$bool").getValue();
t();
}();
for (var m in g) g.hasOwnProperty(m) && (p[m] = g[m]);
p.fire && p.fire("init");
p.setStyle && p.setStyle(l);
p.setAttributes && p.setAttributes(d);
"function" == typeof p.addChildren ? p.addChildren(u) : n.addChildren(p, u);
if (p !== this) {
p.__jx__constructor = _;
p.__jx__native = !1;
}
return p;
}
var _;
t.prototype = s(e.__$$__jx_ui_html_div.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_html_div;
t.__jx__jcss = {
"**self": {
fontSize: "$$fontSizeS",
color: "$$chatLogSystemMsgColor",
background: "$$chatLogSystemMsgBg",
borderWidth: "$$chatLogSystemMsgBorderWidth",
borderStyle: "$$chatLogSystemMsgBorderStyle",
borderColor: "$$chatLogSystemMsgBorderColor",
padding: "$$chatLogSystemMsgPadding",
textAlign: "center"
},
"&.hidden": {
display: "none"
}
};
a(t, "meshim_widget_components_chatWindow_chatPanel_QueueMessage");
_ = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(4), i(21), i(23), i(31), i(15), i(3));
}, function(t, e, i) {
(function(e, n, o, r, s, a, _, l, u) {
e.__$$__jx_ui_Widget = i(18);
e.__$$__meshim_widget_widgets_FakeInput = i(147);
e.__$$__meshim_widget_widgets_Button = i(162);
e.__$$__meshim_widget_widgets_AutoResizeTextArea = i(250);
e.__$$__meshim_widget_widgets_IconFont = i(98);
e.__$$__meshim_widget_widgets_EmoticonPicker = i(251);
e.__$$__jx_ui_Label = i(104);
e.__$$__jx_ui_Frame = i(253);
t.exports = function() {
function t(l, u, c, h, f) {
if (!(this instanceof t)) return new t(l, u, c, h, f);
u = u || n.generateID();
var p = o(195), g = [ e.__$$__jx_ui_Widget, "", "", [ [ e.__$$__meshim_widget_widgets_FakeInput, "fake_input", "", [ [ e.__$$__jx_ui_Widget, "", "", [ [ e.__$$__meshim_widget_widgets_Button, "send", "", [], {
id: "send",
addClass: "send primary fit"
} ], [ e.__$$__jx_ui_Widget, "", "", [ [ e.__$$__meshim_widget_widgets_AutoResizeTextArea, "textarea", "", [], {
id: "textarea",
addClass: "textarea unstyled"
} ] ], {
addClass: "textarea_wrapper"
} ] ], {
addClass: "float_wrapper"
} ], [ e.__$$__meshim_widget_widgets_IconFont, "toggle_picker", "", [], {
id: "toggle_picker",
addClass: "toggle_picker",
icon: "smiley",
tabIndex: "0",
tagName: "button"
} ], [ e.__$$__meshim_widget_widgets_EmoticonPicker, "picker", "", [], {
id: "picker",
addClass: "picker"
} ], [ e.__$$__jx_ui_Label, "", "", [ [ e.__$$__jx_ui_Frame, "", "", [ p ], {} ] ], {
addClass: "drop_label",
tabIndex: "0"
} ] ], {
id: "fake_input",
addClass: "fake_input"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:mui": "meshim.ui",
"xmlns:widgets": "meshim.widget.widgets"
} ], m = g[0].call(this, l, u, null, n.mangleIDs(u, g[3]), g[4]), $ = m || this;
n.set(u, $);
var b = n.get(u + "__fake_input"), w = n.get(u + "__send"), x = n.get(u + "__textarea"), v = n.get(u + "__toggle_picker"), y = n.get(u + "__picker");
if (!t.__jx__jcss_generated) {
r.generate(l, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var j = function() {
function t(t) {
function e() {
$.dom && (k || $.removeClass("dragover"));
}
t.stopPropagation();
t.preventDefault();
if (n()) if (s.isWebKit) if ("dragover" == t.type) {
k = !0;
I && window.clearTimeout(I);
$.addClass("dragover");
} else {
k = !1;
I = window.setTimeout(e, 200);
} else "dragover" == t.type ? $.addClass("dragover") : $.removeClass("dragover");
}
function e(e, i) {
if (n()) {
t(e);
var r;
if (i) {
r = e && e.dataTransfer && e.dataTransfer.files;
if (!r || !r.length) return;
P.reconnectIfServerRetired(function() {
o(r);
});
}
}
}
function n() {
return A && !$.getDisabled();
}
function o(t) {
if (A && window.FormData) {
var e = new window.FormData(), i = [], n = [], o = 0, r = P.getHost();
if (r) {
for (var s = 0, a = t.length; s < a; s++) {
if (!D.isValidType(t[s].name, S)) {
it.update("type");
return;
}
i.push(t[s].name);
n.push(t[s].type);
o += t[s].size || 0;
e.append("file_" + t[s].name, t[s]);
}
if (o > T.FILE_UPLOAD_MAX) it.update("size"); else {
i = i.join(", ");
n = n.join(", ");
var _ = L.livechat.sendFile({
file_name: i,
file_type: n,
file_size: o
}), l = new window.XMLHttpRequest(), u = {
ts: _
};
N = "https://" + r + T.FILE_UPLOAD_PATH + "?" + E.buildQuery(u);
if (l.upload) {
l.open("POST", N, !0);
l.setRequestHeader("X-Zopim-MID", tt.getValue());
l.setRequestHeader("X-Zopim-UID", et.getValue());
l.send(e);
R.increment("file_upload");
}
}
}
}
}
function r() {
B = !0;
X.write({
typing$bool: B
});
W.setUserChoice(!0);
}
function l() {
B = !1;
X.write({
typing$bool: B
});
}
function u() {
w.setText(M.chat_panel.sendbutton_text);
x.setPlaceholder(M.chat_panel.chattextarea_placeholder);
j = Q.getValue();
C = J.getValue();
F.mobile($);
F.rtl($);
x.setDataNode(Y);
y.setDataNode(q, U);
x.on("focus", function() {
g();
p();
b.addClass("focus");
Z.update(!0);
});
x.on("keydown", g);
x.on("blur", function() {
b.removeClass("focus");
Z.update(!1);
});
$.autobind(K, "value", function() {
a(function() {
$.dom && x.updateStyles();
});
});
$.autobind(Y, "value", function(t) {
t && "overflow$bool" in t && (t.overflow$bool ? $.addClass("overflow") : $.removeClass("overflow"));
});
var i = 12e4, n = 0;
$.autobind(Y.$("value$string"), "value", function(t) {
if (t) {
B || r();
window.clearTimeout(n);
n = window.setTimeout(l, i);
} else if (B) {
window.clearTimeout(n);
l();
}
});
$.autobind(q, "value", function(t) {
t ? v.addClass("active") : v.removeClass("active");
m = t;
});
$.autobind(G, "value", function(t) {
v.setDisplay(t ? "" : "none");
t ? $.addClass("emoticons_enabled") : $.removeClass("emoticons_enabled");
});
$.autobind(U, "value", function(t) {
t && x.insertAtCaret(t);
});
y.on("click", function() {
$.focus();
});
v.on("click", function(t) {
t.stopPropagation();
q.update(!m);
$.focus();
});
for (var o = $; o && o.parentNode && "body" != o.parentNode.tagName.toLowerCase(); ) o = o.parentNode;
o && o.on("click", f);
j && _.window.on("click", f);
$.onDestruction(function() {
o && o.un("click", f);
j && _.window.un("click", f);
});
$.autobind(ot, "value", d);
$.autobind(st, "value", d);
$.autobind(rt, "value", c);
if (window.File && window.FileList && window.FileReader) {
$.on("dragover", t);
$.on("dragleave", t);
$.on("drop", function(t) {
e(t, !0);
});
}
x.on("keydown", function(t) {
if (13 == t.keyCode && !t.shiftKey && !t.ctrlKey && !t.altKey) {
t.preventDefault();
h();
}
});
w.on("click", function() {
g();
p();
h();
});
$.autobind(at, "value", function(t) {
$.setDisabled("idle_disconnect" === t);
});
}
function d() {
var t = ot.getValue(), e = st.getValue("color_customization_enabled$int") || st.getValue("widget_customization_enabled$int");
A = !!e && t !== !1;
}
function c() {
var t = rt.getValue() || "";
S = t.trim().replace(/\s*,\s*/g, ",").split(",");
}
function h() {
var t = x.getValue().trim();
if (t) {
L.livechat.sendChatMsg({
msg: t
});
x.setValue("");
}
}
function f(t) {
for (var e = t.target.jx_wrapper; e && e.parentNode && e.parentNode != $; ) {
if (e == y) return;
e = e.parentNode;
}
q.update(!1);
}
function p() {
L.root.$("livechat").$("ui").$("chat_window").update({
menu_stack_name$string: ""
});
}
function g() {
O.resetUnreadCount();
}
var m, j, C, S, A, k, I, N, B, T = i(43), D = i(55), E = i(29), O = i(87), P = i(62), L = i(41), W = i(203), R = i(63), F = i(97), M = i(99), V = L.root, H = V.$("livechat"), z = H.$("ui").$("chat_window").$("chat_panel"), q = z.$("emoticon_picker").$("display$bool"), U = z.$("emoticon_picker").$("value$string"), G = H.$("settings").$("emoticons").$("enabled$bool"), Y = z.$("textarea"), X = H.$("channel").$("typing"), K = H.$("ui").$("theme_loaded$bool"), Z = H.$("ui").$("hide_branding$bool"), Q = H.$("ui").$("popout$bool"), J = H.$("ui").$("mockup$bool"), tt = H.$("profile").$("mid$string"), et = H.$("profile").$("uid$string"), it = H.$("ui").$("chat_window").$("chat_panel").$("file_toast").$("error$string"), nt = H.$("settings").$("file_sending"), ot = nt.$("enabled$bool"), rt = nt.$("allowed_extensions$string"), st = H.$("settings").$("package"), at = V.$("connection").$("status$string");
$.focus = function() {
if (!C) {
x.updateHeight();
x.focus();
}
};
$.blur = function() {
x.updateHeight();
x.blur();
};
$.updateStyles = function() {
x.updateStyles();
};
u();
}();
for (var C in j) j.hasOwnProperty(C) && ($[C] = j[C]);
$.fire && $.fire("init");
$.setStyle && $.setStyle(c);
$.setAttributes && $.setAttributes(f);
"function" == typeof $.addChildren ? $.addChildren(h) : n.addChildren($, h);
if ($ !== this) {
$.__jx__constructor = d;
$.__jx__native = !1;
}
return $;
}
var d;
t.prototype = l(e.__$$__jx_ui_Widget.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_Widget;
t.__jx__jcss = {
"**self": {
position: "relative",
width: "100%",
padding: "10px",
height: "auto",
"*zoom": 1,
padding: "$$chatTextAreaPadding",
borderWidth: "$$chatTextAreaBorderWidth",
borderStyle: "$$chatTextAreaBorderStyle",
borderColor: "$$chatTextAreaBorderColor",
"&.emoticons_enabled.overflow": {
".toggle_picker": {}
},
"&.emoticons_enabled": {
".textarea": {}
},
"&.dragover": {
".fake_input": {
boxShadow: "none",
border: "none"
},
".drop_label": {
display: "block"
}
},
"&.disabled": {
opacity: "0.5"
}
},
".fake_input": {
position: "relative",
overflow: "visible",
"*zoom": 1,
padding: 0,
color: "$$chatTextAreaInputColor",
background: "$$chatTextAreaInputBg",
borderWidth: "$$chatTextAreaInputBorderWidth",
borderStyle: "$$chatTextAreaInputBorderStyle",
borderColor: "$$chatTextAreaInputBorderColor",
borderRadius: "$$chatTextAreaInputRadius",
boxShadow: "$$chatTextAreaInputShadow"
},
".fake_input.focus": {
color: "$$chatTextAreaInputFocusColor",
background: "$$chatTextAreaInputFocusBg",
borderColor: "$$chatTextAreaInputFocusBorderColor",
boxShadow: "$$chatTextAreaInputFocusShadow"
},
".drop_label, .file_input": {
display: "none",
position: "absolute",
"top, left": 0,
"width, height": "100%"
},
".drop_label": {
textAlign: "center",
color: "$$chatTextAreaDropColor",
background: "$$chatTextAreaDropBg",
borderWidth: "$$chatTextAreaDropBorderWidth",
borderStyle: "$$chatTextAreaDropBorderStyle",
borderColor: "$$chatTextAreaDropBorderColor",
".container": {
border: "none",
background: "transparent"
}
},
".file_input": {
opacity: 0
},
".toggle_picker": {
position: "absolute",
"top, right": 0,
cursor: "pointer",
fontSize: "18px",
lineHeight: "24px",
"&:hover": {},
"&:focus": {
outline: "none"
}
},
".picker": {
position: "absolute",
bottom: "100%"
},
".textarea": {
display: "block",
"width, height": "100%",
resize: "none",
transition: "height 0.1s ease-in-out",
fontSize: "$$chatTextAreaInputFontSize",
minHeight: "$$chatTextAreaInputMinHeight",
maxHeight: "$$chatTextAreaInputMaxHeight",
padding: "$$chatTextAreaInputPadding",
lineHeight: "$$chatTextAreaInputLineHeight"
},
".send": {
display: "none"
},
".float_wrapper": {
overflow: "hidden"
},
".textarea_wrapper": {
display: "block",
overflow: "hidden"
},
"&.mobile": {
position: "fixed",
zIndex: "1000",
padding: 0,
".fake_input": {},
".textarea": {
padding: "10px"
},
".send": {
display: "block",
float: "right",
margin: "$$chatTextAreaSubmitMargin",
padding: "$$chatTextAreaSubmitPadding"
},
".toggle_picker": {
display: "none"
}
},
"&.rtl.mobile": {
".send": {
float: "left"
}
}
};
u(t, "meshim_widget_components_chatWindow_chatPanel_ChatTextArea");
d = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(4), i(21), i(23), i(31), i(7), i(13), i(6), i(15), i(3));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t, e, i, a, l) {
if (!(this instanceof n)) return new n(t, e, i, a, l);
this.$node;
if (!n.__jx__jcss_generated) {
o.generate(this, n.prototype.__jx__fqname, n.__jx__jcss, null, n);
n.__jx__jcss_generated = !0;
}
this.minHeight = 0;
this.maxHeight = window.Infinity;
this.vBoxOffset = 0;
this.hBoxOffset = 0;
l || (l = {});
l.overflow || (l.overflow = "hidden");
l.overflowY || (l.overflowY = "hidden");
_.call(this, t, e, i, a, l);
this.style.wordWrap = "break-word";
this.style.resize = "none";
this.compatMode = r.bugs.noBoxSizing && "CSS1Compat" != this.doc.compatMode && this.doc != document;
if (!this.compatMode) {
this.fakeTextArea = new _(this.doc.body, null, null, null, {
className: this.getClassName(),
tabIndex: "-1"
});
try {
this.fakeTextArea.setStyle("position:absolute; top:-999px; left:0; right:auto; bottom:auto; border:0; word-wrap:break-word; height:0 !important; overflow:hidden; min-height:0 !important; -moz-box-sizing:content-box; -webkit-box-sizing:content-box; box-sizing:content-box;");
} catch (t) {}
this.onDestruction(function() {
this.fakeTextArea.destroy();
});
}
var u = this;
s(function() {
u.dom && u.updateStyles();
});
this._updateValueNode = function() {
this.updateValueNode();
};
this._readValueNode = function(t) {
u.readValueNode(t);
};
this.on("input", this._updateValueNode);
this.on("change", this._updateValueNode);
this.on("keyup", this._updateValueNode);
this._updateHeight = function() {
this.updateHeight();
};
if ("onpropertychange" in this.dom) if ("oninput" in this.dom) {
this.on("input", this._updateHeight);
this.on("keyup", this._updateHeight);
} else this.on("propertychange", this._updateHeight); else this.on("input", this._updateHeight);
}
var o = i(31), r = i(7), s = i(13), a = i(15), _ = i(175);
n.__jx__jcss = {
"**self": {}
};
n.prototype = a(_.prototype);
n.prototype.__jx__super = _;
n.prototype.updateValueNode = function() {
if (this.$node) {
this._updatingValueNode = !0;
this.$node.$("value$string").update(this.getValue());
this._updatingValueNode = !1;
}
};
n.prototype.readValueNode = function(t) {
this.$node && (this._updatingValueNode || null != t && this.setValue(t));
};
n.prototype.updateHeight = function() {
if ((this.compatMode || this.fakeTextArea) && !this.active) {
var t, e, i;
this.active = !0;
if (this.compatMode) {
this.style.height = 0;
t = this.dom.offsetHeight - this.vBoxOffset;
} else {
this.fakeTextArea.setValue(this.getValue());
this.fakeTextArea.style.overflowY = this.style.overflowY;
i = parseInt(this.style.height, 10);
this.fakeTextArea.style.width = Math.max(Math.max(this.dom.offsetWidth, 0) - this.hBoxOffset, 0) + "px";
this.fakeTextArea.dom.scrollTop = 0;
this.fakeTextArea.dom.scrollTop = 9e4;
t = this.fakeTextArea.dom.scrollTop;
}
var n = this.maxHeight - this.vBoxOffset, o = this.minHeight - this.vBoxOffset;
if (t > n) {
t = n;
e = "scroll";
} else t < o && (t = o);
t += this.vBoxOffset;
t = Math.max(t, 0);
this.style.overflowY = e || "hidden";
this.style.height = t + "px";
this.$node && this.$node.update({
height$int: t,
overflow$bool: !!e
});
var r = this;
s(function() {
r.active = !1;
});
}
};
var l = [ "Top", "Bottom" ], u = [ "Left", "Right" ];
n.prototype.updateBoxOffset = function() {
var t = this.getComputedStyle();
if (t) {
this.vBoxOffset = 0;
this.hBoxOffset = 0;
var e;
if ("border-box" === t.boxSizing || "border-box" === t.MozBoxSizing || "border-box" === t.webkitBoxSizing || r.isIE <= 7 && "CSS1Compat" != this.doc.compatMode) {
for (e = 0; e < 2; e++) this.vBoxOffset += (parseInt(t["padding" + l[e]], 10) || 0) + (parseInt(t["border" + l[e] + "Width"], 10) || 0);
for (e = 0; e < 2; e++) this.hBoxOffset += (parseInt(t["padding" + u[e]], 10) || 0) + (parseInt(t["border" + u[e] + "Width"], 10) || 0);
}
return this;
}
};
n.prototype.setDataNode = function(t) {
this.$node && this.autounbind(this.$node.$("value$string"), "value", this._readValueNode);
this.$node = t;
if (this.$node) {
this.autobind(this.$node.$("value$string"), "value", this._readValueNode);
this.updateValueNode();
this.updateHeight();
}
return this;
};
n.prototype.setValue = function(t) {
_.prototype.setValue.call(this, t);
this.updateValueNode();
this.updateHeight();
return this;
};
n.prototype.updateMinMaxHeight = function() {
var t = this.getComputedStyle();
if (t) {
this.minHeight = parseInt(t.minHeight, 10);
this.maxHeight = parseInt(t.maxHeight, 10);
if (!this.minHeight && isNaN(this.maxHeight)) {
this.style.height = "";
this.minHeight = this.maxHeight = this.dom.offsetHeight;
}
isNaN(this.maxHeight) && (this.maxHeight = this.minHeight);
this.$node && this.$node.update({
min_height$string: this.minHeight,
max_height$string: this.maxHeight
});
return this;
}
};
n.prototype.updateClonedStyles = function() {
if (this.fakeTextArea) {
var t = [ "fontFamily", "fontSize", "fontWeight", "letterSpacing", "textTransform", "wordSpacing", "textIndent" ];
this.fakeTextArea.style.lineHeight = "99px";
"99px" === this.fakeTextArea.style.lineHeight && t.push("lineHeight");
this.fakeTextArea.style.lineHeight = "";
var e = this.getComputedStyle();
if (e) for (var i = 0, n = t.length; i < n; i++) this.fakeTextArea.style[t[i]] = e[t[i]];
}
};
n.prototype.updateStyles = function() {
r.isIE8 && (this.style.minHeight = "");
this.updateMinMaxHeight();
this.updateClonedStyles();
this.updateBoxOffset();
r.isIE8 && (this.style.minHeight = this.minHeight - this.vBoxOffset + "px");
this.updateHeight();
var t = this;
r.isIE8 && s(function() {
t.updateHeight();
});
return this;
};
t.exports = n;
e(n, "meshim_widget_widgets_AutoResizeTextArea");
return n;
}();
}).call(e, i(3));
}, function(t, e, i) {
(function(e, n, o, r, s) {
e.__$$__jx_ui_Widget = i(18);
t.exports = function() {
function t(r, s, _, l, u) {
if (!(this instanceof t)) return new t(r, s, _, l, u);
s = s || n.generateID();
var d = [ e.__$$__jx_ui_Widget, "", "", [], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:mui": "meshim.ui",
"xmlns:components": "meshim.widget.components"
} ], c = d[0].call(this, r, s, null, n.mangleIDs(s, d[3]), d[4]), h = c || this;
n.set(s, h);
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var f = function() {
function t(t) {
h.setDisplay(t ? "" : "none");
}
function e() {
var t, e = 0;
for (var i in a) if (a.hasOwnProperty(i)) {
t = new r(h, null, null, null, {
className: "meshim_widget_widgets_Emoticon " + i,
title: i,
value: a[i],
tabIndex: 0
});
t.setAttribute("data-index", e);
l.push(t);
++e % _ == 0 && new s(h, null, null, null, {
tagName: "br"
});
}
h.on("click", function(t) {
var e = t.target.jx_wrapper;
if (e != h) {
for (;e.parentNode !== h; ) e = e.parentNode;
var i = e.getValue();
if (i) {
o && o.update(e.getValue());
n && n.update(!1);
}
}
});
h.on("keydown", function(t) {
var e;
t.target.jx_wrapper;
switch (t.keyCode) {
case 13:
e = t.target.jx_wrapper.getValue();
if (e) {
o && o.update(t.target.jx_wrapper.getValue());
n && n.update(!1);
}
break;

case 27:
n && n.update(!1);
break;

case 9:
return;

case 38:
e = l[parseInt(t.target.jx_wrapper.getAttribute("data-index"), 10) - _];
e && e.focus();
break;

case 40:
e = l[parseInt(t.target.jx_wrapper.getAttribute("data-index"), 10) + _];
e && e.focus();
break;

case 37:
e = l[parseInt(t.target.jx_wrapper.getAttribute("data-index"), 10) - 1];
e && e.focus();
break;

case 39:
e = l[parseInt(t.target.jx_wrapper.getAttribute("data-index"), 10) + 1];
e && e.focus();
break;

default:
return;
}
t.preventDefault();
});
}
var n, o, r = i(252), s = i(18), a = {
ambivalent: ":|",
angry: ":(",
blush: ":?",
confused: ":?",
crazy: ":?",
crying: ":?",
frown: ":?",
gasp: ":?"
}, _ = 6, l = [];
h.setDataNode = function(e, i) {
n && h.autounbind(n, "value", t);
n = e;
o = i;
n && h.autobind(n, "value", t);
};
e();
}();
for (var p in f) f.hasOwnProperty(p) && (h[p] = f[p]);
h.fire && h.fire("init");
h.setStyle && h.setStyle(_);
h.setAttributes && h.setAttributes(u);
"function" == typeof h.addChildren ? h.addChildren(l) : n.addChildren(h, l);
if (h !== this) {
h.__jx__constructor = a;
h.__jx__native = !1;
}
return h;
}
var a;
t.prototype = r(e.__$$__jx_ui_Widget.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_Widget;
t.__jx__jcss = {
".meshim_widget_widgets_Emoticon": {
"&:focus": {
outline: "none"
}
}
};
s(t, "meshim_widget_widgets_EmoticonPicker");
a = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(4), i(21), i(31), i(15), i(3));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t, e, i, o, s) {
if (!(this instanceof n)) return new n(t, e, i, o, s);
r.call(this, t, e, i, o, s);
this.on("focus", function() {
this.addClass("focus");
});
this.on("blur", function() {
this.removeClass("focus");
});
}
var o = i(15), r = i(18);
n.prototype = o(r.prototype);
t.exports = n;
e(n, "meshim_widget_widgets_Emoticon");
return n;
}();
}).call(e, i(3));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t, e, i, o, r) {
if (!(this instanceof n)) return new n(t, e, i, o, r);
r || (r = {});
this.iframe_quirks = t.ownerDocument != document;
this.container = new s(t, null, null, null, {});
this.container.addClass("container");
var l = this;
this.container.destroy = function() {
l.destroy();
};
this.container.empty = function() {
l.empty();
};
this.container_middle = new s(this.container, null, null, null, {});
this.container_middle.addClass("container_middle");
s.call(this, this.container_middle, e, i, o, r);
this.useDisplay = !0;
if (_) {
this.container.setStyle("position", "relative");
this.container_middle.setStyle("position", "absolute");
this.setStyle("position", "relative");
(a || this.iframe_quirks) && this.container_middle.setStyle("width", "100%").setStyle("left", 0);
} else {
r.visible || this.container.setStyle("display", "table");
this.container_middle.setStyle("display", "table-cell").setStyle("width", "100%");
this.setStyle("display", "table");
}
this.container.setStyle("overflow", "hidden").setStyle("width", "100%").setStyle("height", "100%");
r.hAlign || this.setHAlign();
r.vAlign || this.setVAlign();
}
var o = i(7), r = i(15), s = i(18), a = o.isQuirks, _ = o.bugs.noBoxSizing, l = _ ? "block" : "table";
n.prototype = r(s.prototype);
n.prototype.show = function() {
if (this.container && this.container.dom.style.display != l) {
this.container.setVisible(l);
this.fire("show");
}
return this;
};
n.prototype.hide = function() {
if (this.container && "none" != this.container.dom.style.display) {
this.container.setVisible("none");
this.fire("hide");
}
return this;
};
n.prototype.isVisible = function() {
return this.container && this.container.dom.style.display == l;
};
n.prototype.setZIndex = function(t) {
this.container && this.container.setZIndex(t);
return this;
};
n.prototype.destroy = function() {
s.prototype.destroy.call(this);
if (this.container) {
s.prototype.empty.call(this.container);
this.container.empty = null;
s.prototype.destroy.call(this.container);
this.container = this.container_middle = null;
}
};
n.prototype.getHAlign = function() {
return this.hAlign;
};
n.prototype.setHAlign = function(t) {
switch (t) {
case "left":
a || this.iframe_quirks ? this.container_middle.setStyle("text-align", "left") : _ ? this.setStyle("margin-left", "0").setStyle("margin-right", "auto") : this.container_middle.setStyle("left", "0%").setStyle("right", "");
this.hAlign = t;
break;

case "right":
a || this.iframe_quirks ? this.container_middle.setStyle("text-align", "right") : _ ? this.setStyle("margin-left", "auto").setStyle("margin-right", "0") : this.container_middle.setStyle("left", "").setStyle("right", "0%");
this.hAlign = t;
break;

default:
a || this.iframe_quirks ? this.container_middle.setStyle("text-align", "center") : _ && this.container_middle.setStyle("left", "").setStyle("right", "");
this.setStyle("margin-left", "auto").setStyle("margin-right", "auto");
this.hAlign = "center";
}
};
n.prototype.getVAlign = function() {
return this.vAlign;
};
n.prototype.setVAlign = function(t) {
switch (t) {
case "top":
if (_) {
this.container_middle.setStyle("top", "0%").setStyle("bottom", "");
this.setStyle("top", "");
} else this.container_middle.setStyle("vertical-align", "top");
this.vAlign = t;
break;

case "bottom":
if (_) {
this.container_middle.setStyle("top", "").setStyle("bottom", "0%");
this.setStyle("top", "");
} else this.container_middle.setStyle("vertical-align", "bottom");
this.vAlign = t;
break;

default:
if (_) {
this.container_middle.setStyle("top", "50%").setStyle("bottom", "");
this.setStyle("top", "-50%");
} else this.container_middle.setStyle("vertical-align", "middle");
this.vAlign = "middle";
}
return this;
};
n.prototype.getAlign = function() {
return this.hAlign + " " + this.vAlign;
};
n.prototype.setAlign = function(t) {
if ("string" == typeof t) {
t = t.replace(/^\s*|\s*$/, "").replace(/\s+/g, " ").split(" ");
this.setHAlign(t[0]);
this.setVAlign(t[1]);
}
};
t.exports = n;
e(n, "jx_ui_Frame");
return n;
}();
}).call(e, i(3));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n() {
if (!s.isWebKit || s.isChrome) return !1;
var t = document.activeElement;
return t && "select" === t.tagName.toLowerCase();
}
function o() {
if (s.isIE && document.documentMode && !(s.isStrict && document.documentMode > 7)) for (var t = document.getElementsByTagName("select"), e = t.length; e--; ) {
var i = t[e].style, n = i.display;
i.display = "none";
i.display = n;
}
}
function r() {
o();
}
var s = i(7), a = {
testSafariFocusBug: n,
ieQuirksModeFix: r
};
t.exports = a;
e(a, "meshim_widget_utils_BrowserQuirks");
return a;
}();
}).call(e, i(3));
}, function(t, e, i) {
(function(e, n, o, r, s) {
e.__$$__meshim_widget_widgets_ChatWindowPanel = i(92);
e.__$$__meshim_widget_widgets_ViewStack = i(89);
e.__$$__meshim_widget_components_chatWindow_postChatForm_RatingForm = i(256);
e.__$$__meshim_widget_components_chatWindow_postChatForm_CommentsForm = i(259);
t.exports = function() {
function t(r, s, _, l, u) {
if (!(this instanceof t)) return new t(r, s, _, l, u);
s = s || n.generateID();
var d = [ e.__$$__meshim_widget_widgets_ChatWindowPanel, "", "", [ [ e.__$$__meshim_widget_widgets_ViewStack, "vs", "", [ [ e.__$$__meshim_widget_components_chatWindow_postChatForm_RatingForm, "", "", [], {} ], [ e.__$$__meshim_widget_components_chatWindow_postChatForm_CommentsForm, "", "", [], {} ] ], {
id: "vs"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:widgets": "meshim.widget.widgets",
"xmlns:postChatForm": "meshim.widget.components.chatWindow.postChatForm",
titleBar: "hidePopout",
actionBar: "none"
} ], c = d[0].call(this, r, s, null, n.mangleIDs(s, d[3]), d[4]), h = c || this;
n.set(s, h);
var f = n.get(s + "__vs");
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var p = function() {
function t() {
h.autobind(o, "value", function(t) {
0 == t && e ? o.update(1) : 1 != t || e ? f.setIndex(t || 0) : o.update(0);
});
h.autobind(r, "value", function(t) {
e = t;
});
}
var e, n = i(41), o = n.root.$("livechat").$("ui").$("chat_window").$("post_chat_form").$("stack_index$int"), r = n.root.$$("livechat.channel.rating$string");
t();
}();
for (var g in p) p.hasOwnProperty(g) && (h[g] = p[g]);
h.fire && h.fire("init");
h.setStyle && h.setStyle(_);
h.setAttributes && h.setAttributes(u);
"function" == typeof h.addChildren ? h.addChildren(l) : n.addChildren(h, l);
if (h !== this) {
h.__jx__constructor = a;
h.__jx__native = !1;
}
return h;
}
var a;
t.prototype = r(e.__$$__meshim_widget_widgets_ChatWindowPanel.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__meshim_widget_widgets_ChatWindowPanel;
t.__jx__jcss = {};
s(t, "meshim_widget_components_chatWindow_PostChatForm");
a = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(4), i(21), i(31), i(15), i(3));
}, function(t, e, i) {
(function(e, n, o, r, s) {
e.__$$__meshim_widget_widgets_ChatWindowContent = i(142);
e.__$$__meshim_widget_widgets_ScrollableFrame = i(144);
e.__$$__meshim_widget_widgets_Header = i(190);
e.__$$__meshim_widget_widgets_Body = i(188);
e.__$$__meshim_widget_widgets_RatingBar = i(204);
e.__$$__meshim_widget_widgets_motif_Chat = i(257);
t.exports = function() {
function t(r, s, _, l, u) {
if (!(this instanceof t)) return new t(r, s, _, l, u);
s = s || n.generateID();
var d = [ e.__$$__meshim_widget_widgets_ChatWindowContent, "", "", [ [ e.__$$__meshim_widget_widgets_ScrollableFrame, "", "", [ [ e.__$$__meshim_widget_widgets_Header, "header", "", [], {
id: "header"
} ], [ e.__$$__meshim_widget_widgets_Body, "message", "", [], {
id: "message"
} ], [ e.__$$__meshim_widget_widgets_RatingBar, "rating_bar", "", [], {
id: "rating_bar",
addClass: "rating_bar",
description: "true"
} ], [ e.__$$__meshim_widget_widgets_motif_Chat, "", "", [], {
addClass: "chat_motif"
} ] ], {
addClass: "scrollable_frame"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:mui": "meshim.ui",
"xmlns:components": "meshim.widget.components",
"xmlns:widgets": "meshim.widget.widgets"
} ], c = d[0].call(this, r, s, null, n.mangleIDs(s, d[3]), d[4]), h = c || this;
n.set(s, h);
var f = n.get(s + "__header"), p = n.get(s + "__message"), g = n.get(s + "__rating_bar");
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var m = function() {
function t() {
o.mobile(h);
g.setDataNode(l);
h.autobind(s, "value", function() {
f.setText(n.get(s));
});
h.autobind(a, "value", function() {
p.setText(n.get(a));
});
}
var e = i(41), n = i(99), o = i(97), r = e.root.$("livechat").$("settings").$("forms").$("post_chat_form"), s = r.$("header$string"), a = r.$("message$string"), _ = e.root.$("livechat").$("channel"), l = _.$("rating$string");
t();
}();
for (var $ in m) m.hasOwnProperty($) && (h[$] = m[$]);
h.fire && h.fire("init");
h.setStyle && h.setStyle(_);
h.setAttributes && h.setAttributes(u);
"function" == typeof h.addChildren ? h.addChildren(l) : n.addChildren(h, l);
if (h !== this) {
h.__jx__constructor = a;
h.__jx__native = !1;
}
return h;
}
var a;
t.prototype = r(e.__$$__meshim_widget_widgets_ChatWindowContent.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__meshim_widget_widgets_ChatWindowContent;
t.__jx__jcss = {
"**self": {
textAlign: "center"
},
".rating_bar": {
display: "inline-block",
width: "150px"
},
".chat_motif": {
position: "absolute",
"bottom, left": 0
},
".scrollable_frame": {
paddingBottom: "0 !important"
},
"&.mobile": {
".chat_motif": {
position: "relative"
}
}
};
s(t, "meshim_widget_components_chatWindow_postChatForm_RatingForm");
a = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(4), i(21), i(31), i(15), i(3));
}, function(t, e, i) {
(function(e, n, o, r, s, a) {
e.__$$__meshim_widget_widgets_Motif = i(258);
t.exports = function() {
function t(s, a, _, l, u) {
if (!(this instanceof t)) return new t(s, a, _, l, u);
a = a || n.generateID();
var d = [ e.__$$__meshim_widget_widgets_Motif, "", "", [], {
"xmlns:widgets": "meshim.widget.widgets",
items: "hill, bubble b1, bubble b2, bubble b3, bubble b4, bubble b5"
} ], c = d[0].call(this, s, a, null, n.mangleIDs(a, d[3]), d[4]), h = c || this;
n.set(a, h);
if (!t.__jx__jcss_generated) {
o.generate(s, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var f = function() {
function t(t) {
var e = h.dom.getElementsByClassName(t)[0];
if (e) {
e.style.OTransform = "none";
e.style.transform = "none";
}
}
if (r.isOpera) {
t("b3");
t("b4");
t("b5");
}
r.isIE8 && h.setDisplay("none");
}();
for (var p in f) f.hasOwnProperty(p) && (h[p] = f[p]);
h.fire && h.fire("init");
h.setStyle && h.setStyle(_);
h.setAttributes && h.setAttributes(u);
"function" == typeof h.addChildren ? h.addChildren(l) : n.addChildren(h, l);
if (h !== this) {
h.__jx__constructor = i;
h.__jx__native = !1;
}
return h;
}
var i;
t.prototype = s(e.__$$__meshim_widget_widgets_Motif.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__meshim_widget_widgets_Motif;
t.__jx__jcss = {
"**self": {
width: "100%",
height: "50px",
fontFamily: 'zopim, "Segoe UI Symbol", "Arial Unicode MS", "Lucida Sans Unicode", sans-serif',
"*display": "none"
},
"*": {
position: "absolute"
},
".hill": {
width: "95%",
height: "20px",
bottom: 0,
left: "2.5%",
borderTopLeftRadius: "50% 100%",
borderTopRightRadius: "50% 100%",
background: "$$chatMotifHill"
},
".bubble": {
top: 0,
color: "$$chatMotifBubble",
"&:before": {
content: "'\\1f4ac'"
}
},
".b1": {
fontSize: "24px",
top: "12px",
left: "10%",
opacity: .4
},
".b2": {
fontSize: "16px",
top: "16px",
left: "21%"
},
".b3": {
fontSize: "16px",
top: "13px",
right: "33.5%",
opacity: .4
},
".b4": {
fontSize: "16px",
top: "14px",
right: "26%"
},
".b5": {
fontSize: "35px",
top: 0,
right: "11%",
opacity: .2
},
".b3, .b4, .b5": {
transform: "scale(-1, 1)"
}
};
a(t, "meshim_widget_widgets_motif_Chat");
i = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(4), i(21), i(31), i(7), i(15), i(3));
}, function(t, e, i) {
(function(e, n, o, r, s) {
e.__$$__jx_ui_Widget = i(18);
t.exports = function() {
function t(r, s, _, l, u) {
if (!(this instanceof t)) return new t(r, s, _, l, u);
s = s || n.generateID();
var d = [ e.__$$__jx_ui_Widget, "", "", [], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui"
} ], c = d[0].call(this, r, s, null, n.mangleIDs(s, d[3]), d[4]), h = c || this;
n.set(s, h);
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var f = function() {
var t = i(18);
h.setItems = function(e) {
e = e.split(",");
for (var i = 0, n = e.length; i < n; i++) new t(h, null, null, null, {
className: e[i]
});
};
}();
for (var p in f) f.hasOwnProperty(p) && (h[p] = f[p]);
h.fire && h.fire("init");
h.setStyle && h.setStyle(_);
h.setAttributes && h.setAttributes(u);
"function" == typeof h.addChildren ? h.addChildren(l) : n.addChildren(h, l);
if (h !== this) {
h.__jx__constructor = a;
h.__jx__native = !1;
}
return h;
}
var a;
t.prototype = r(e.__$$__jx_ui_Widget.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_Widget;
t.__jx__jcss = {
"**self": {
position: "relative"
}
};
s(t, "meshim_widget_widgets_Motif");
a = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(4), i(21), i(31), i(15), i(3));
}, function(t, e, i) {
(function(e, n, o, r, s, a) {
e.__$$__meshim_widget_widgets_ChatWindowContent = i(142);
e.__$$__jx_ui_Form = i(122);
e.__$$__meshim_widget_widgets_ScrollableFrame = i(144);
e.__$$__meshim_widget_widgets_Body = i(188);
e.__$$__jx_ui_TextArea = i(176);
e.__$$__meshim_widget_widgets_Bottom = i(177);
e.__$$__meshim_widget_widgets_Submit = i(179);
e.__$$__meshim_widget_widgets_Button = i(162);
t.exports = function() {
function t(s, a, l, u, d) {
if (!(this instanceof t)) return new t(s, a, l, u, d);
a = a || n.generateID();
var c = o(169), h = o(170), f = [ e.__$$__meshim_widget_widgets_ChatWindowContent, "", "", [ [ e.__$$__jx_ui_Form, "form", "", [ [ e.__$$__meshim_widget_widgets_ScrollableFrame, "", "", [ [ e.__$$__meshim_widget_widgets_Body, "message", "", [], {
id: "message"
} ], [ e.__$$__jx_ui_TextArea, "comments", "", [], {
id: "comments",
addClass: "comments"
} ] ], {} ], [ e.__$$__meshim_widget_widgets_Bottom, "", "", [ [ e.__$$__meshim_widget_widgets_Submit, "", "", [], {
value: c
} ], [ e.__$$__meshim_widget_widgets_Button, "skip", "", [ h ], {
id: "skip",
addClass: "secondary"
} ] ], {
addClass: "padding_bottom"
} ] ], {
id: "form"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:mui": "meshim.ui",
"xmlns:components": "meshim.widget.components",
"xmlns:widgets": "meshim.widget.widgets",
absPaddingBottom: "bottomHeight"
} ], p = f[0].call(this, s, a, null, n.mangleIDs(a, f[3]), f[4]), g = p || this;
n.set(a, g);
var m = n.get(a + "__form"), $ = n.get(a + "__message"), b = n.get(a + "__comments"), w = n.get(a + "__skip");
if (!t.__jx__jcss_generated) {
r.generate(s, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var x = function() {
function t() {
b.setLabelElement($);
g.autobind(u, "value", function() {
e();
});
g.autobind(_, "value", function(t) {
n = t;
e();
});
m.on("submit", function(t) {
t.preventDefault();
if (g.validate()) {
a.write({
comments_user$string: b.getValue().trim()
});
l.update("chat_panel");
}
});
w.on("click", function() {
l.update("chat_panel");
});
}
function e() {
$.setText(r.get(u.$$(n + ".message$string")));
b.setPlaceholder(r.get(u.$$(n + ".placeholder$string")));
}
var n, o = i(41), r = i(99), s = o.root.$("livechat"), a = s.$("settings").$("forms").$("post_chat_form"), _ = s.$("channel").$("rating$string"), l = o.root.$("livechat").$("ui").$("chat_window").$("main_stack_name$string"), u = a.$("comments_messages");
t();
}();
for (var v in x) x.hasOwnProperty(v) && (g[v] = x[v]);
g.fire && g.fire("init");
g.setStyle && g.setStyle(l);
g.setAttributes && g.setAttributes(d);
"function" == typeof g.addChildren ? g.addChildren(u) : n.addChildren(g, u);
if (g !== this) {
g.__jx__constructor = _;
g.__jx__native = !1;
}
return g;
}
var _;
t.prototype = s(e.__$$__meshim_widget_widgets_ChatWindowContent.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__meshim_widget_widgets_ChatWindowContent;
t.__jx__jcss = {
".comments": {
width: "100%",
height: "25%"
}
};
a(t, "meshim_widget_components_chatWindow_postChatForm_CommentsForm");
_ = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(4), i(21), i(23), i(31), i(15), i(3));
}, function(t, e, i) {
(function(e, n, o, r, s) {
e.__$$__meshim_widget_widgets_ChatWindowPanel = i(92);
e.__$$__meshim_widget_widgets_ViewStack = i(89);
e.__$$__meshim_widget_components_chatWindow_cookieForm_Accept = i(261);
e.__$$__meshim_widget_components_chatWindow_cookieForm_Decline = i(262);
t.exports = function() {
function t(r, s, _, l, u) {
if (!(this instanceof t)) return new t(r, s, _, l, u);
s = s || n.generateID();
var d = [ e.__$$__meshim_widget_widgets_ChatWindowPanel, "", "", [ [ e.__$$__meshim_widget_widgets_ViewStack, "vs", "", [ [ e.__$$__meshim_widget_components_chatWindow_cookieForm_Accept, "", "", [], {} ], [ e.__$$__meshim_widget_components_chatWindow_cookieForm_Decline, "", "", [], {} ] ], {
id: "vs"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:widgets": "meshim.widget.widgets",
"xmlns:cookieForm": "meshim.widget.components.chatWindow.cookieForm",
titleBar: "hidePopout",
actionBar: ""
} ], c = d[0].call(this, r, s, null, n.mangleIDs(s, d[3]), d[4]), h = c || this;
n.set(s, h);
var f = n.get(s + "__vs");
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var p = function() {
function t() {
h.autobind(n, "value", function(t) {
f.setIndex(t === !1 ? 0 : 1);
});
}
var e = i(41), n = e.root.$("livechat").$("profile").$("allow_cookies$bool");
t();
}();
for (var g in p) p.hasOwnProperty(g) && (h[g] = p[g]);
h.fire && h.fire("init");
h.setStyle && h.setStyle(_);
h.setAttributes && h.setAttributes(u);
"function" == typeof h.addChildren ? h.addChildren(l) : n.addChildren(h, l);
if (h !== this) {
h.__jx__constructor = a;
h.__jx__native = !1;
}
return h;
}
var a;
t.prototype = r(e.__$$__meshim_widget_widgets_ChatWindowPanel.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__meshim_widget_widgets_ChatWindowPanel;
t.__jx__jcss = {
a: {
color: "inherit"
}
};
s(t, "meshim_widget_components_chatWindow_CookieForm");
a = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(4), i(21), i(31), i(15), i(3));
}, function(t, e, i) {
(function(e, n, o, r, s, a) {
e.__$$__meshim_widget_widgets_ChatWindowContent = i(142);
e.__$$__meshim_widget_widgets_ScrollableFrame = i(144);
e.__$$__meshim_widget_widgets_Header = i(190);
e.__$$__meshim_widget_widgets_Body = i(188);
e.__$$__jx_ui_Localizer = i(125);
e.__$$__jx_ui_Widget = i(18);
e.__$$__meshim_widget_widgets_Bottom = i(177);
e.__$$__jx_ui_Form = i(122);
e.__$$__meshim_widget_widgets_Submit = i(179);
t.exports = function() {
function t(s, a, l, u, d) {
if (!(this instanceof t)) return new t(s, a, l, u, d);
a = a || n.generateID();
var c = o(186), h = o(187), f = o(188), p = o(189), g = [ e.__$$__meshim_widget_widgets_ChatWindowContent, "", "", [ [ e.__$$__meshim_widget_widgets_ScrollableFrame, "", "", [ [ e.__$$__meshim_widget_widgets_Header, "", "", [ p ], {} ], [ e.__$$__meshim_widget_widgets_Body, "", "", [ [ e.__$$__jx_ui_Localizer, "", "", [ [ e.__$$__jx_ui_Widget, "", "", [], {
tagName: "a",
href: "https://www.zopim.com/privacy#cookie",
target: "_blank"
} ] ], {
content: c
} ] ], {} ], [ e.__$$__meshim_widget_widgets_Bottom, "", "", [ h ], {
addClass: "note"
} ] ], {} ], [ e.__$$__meshim_widget_widgets_Bottom, "", "", [ [ e.__$$__jx_ui_Form, "form", "", [ [ e.__$$__meshim_widget_widgets_Submit, "", "", [], {
addClass: "wide",
value: f
} ] ], {
id: "form"
} ] ], {} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:widgets": "meshim.widget.widgets",
absPaddingBottom: "bottomHeight"
} ], m = g[0].call(this, s, a, null, n.mangleIDs(a, g[3]), g[4]), $ = m || this;
n.set(a, $);
var b = n.get(a + "__form");
if (!t.__jx__jcss_generated) {
r.generate(s, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var w = function() {
function t() {
b.on("submit", function(t) {
t.preventDefault();
o.update("chat_panel");
n.setUserChoice(!0);
});
}
var e = i(41), n = i(203), o = e.root.$("livechat").$("ui").$("chat_window").$("main_stack_name$string");
t();
}();
for (var x in w) w.hasOwnProperty(x) && ($[x] = w[x]);
$.fire && $.fire("init");
$.setStyle && $.setStyle(l);
$.setAttributes && $.setAttributes(d);
"function" == typeof $.addChildren ? $.addChildren(u) : n.addChildren($, u);
if ($ !== this) {
$.__jx__constructor = _;
$.__jx__native = !1;
}
return $;
}
var _;
t.prototype = s(e.__$$__meshim_widget_widgets_ChatWindowContent.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__meshim_widget_widgets_ChatWindowContent;
t.__jx__jcss = {};
a(t, "meshim_widget_components_chatWindow_cookieForm_Accept");
_ = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(4), i(21), i(23), i(31), i(15), i(3));
}, function(t, e, i) {
(function(e, n, o, r, s, a) {
e.__$$__meshim_widget_widgets_ChatWindowContent = i(142);
e.__$$__meshim_widget_widgets_ScrollableFrame = i(144);
e.__$$__meshim_widget_widgets_Header = i(190);
e.__$$__meshim_widget_widgets_Body = i(188);
e.__$$__jx_ui_Localizer = i(125);
e.__$$__jx_ui_Widget = i(18);
e.__$$__meshim_widget_widgets_Bottom = i(177);
e.__$$__jx_ui_Form = i(122);
e.__$$__meshim_widget_widgets_Controls = i(263);
e.__$$__meshim_widget_widgets_Submit = i(179);
e.__$$__meshim_widget_widgets_Button = i(162);
t.exports = function() {
function t(s, a, l, u, d) {
if (!(this instanceof t)) return new t(s, a, l, u, d);
a = a || n.generateID();
var c = o(190), h = o(191), f = o(192), p = o(193), g = o(194), m = [ e.__$$__meshim_widget_widgets_ChatWindowContent, "", "", [ [ e.__$$__meshim_widget_widgets_ScrollableFrame, "", "", [ [ e.__$$__meshim_widget_widgets_Header, "", "", [ g ], {} ], [ e.__$$__meshim_widget_widgets_Body, "", "", [ [ e.__$$__jx_ui_Localizer, "", "", [ [ e.__$$__jx_ui_Widget, "", "", [], {
tagName: "a",
href: "https://www.zopim.com/privacy#cookie",
target: "_blank"
} ] ], {
content: c
} ] ], {} ], [ e.__$$__meshim_widget_widgets_Bottom, "", "", [ h ], {
addClass: "note"
} ] ], {} ], [ e.__$$__meshim_widget_widgets_Bottom, "", "", [ [ e.__$$__jx_ui_Form, "form", "", [ [ e.__$$__meshim_widget_widgets_Controls, "", "", [ [ e.__$$__meshim_widget_widgets_Submit, "", "", [], {
placement: "primary",
addClass: "wide",
value: f
} ], [ e.__$$__meshim_widget_widgets_Button, "cancel", "", [ p ], {
placement: "secondary",
id: "cancel",
addClass: "wide secondary"
} ] ], {} ] ], {
id: "form"
} ] ], {} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:widgets": "meshim.widget.widgets",
absPaddingBottom: "bottomHeight"
} ], $ = m[0].call(this, s, a, null, n.mangleIDs(a, m[3]), m[4]), b = $ || this;
n.set(a, b);
var w = n.get(a + "__form"), x = n.get(a + "__cancel");
if (!t.__jx__jcss_generated) {
r.generate(s, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var v = function() {
function t() {
w.on("submit", function(t) {
t.preventDefault();
n.setUserChoice(!1);
});
x.on("click", function() {
o.update("chat_panel");
});
}
var e = i(41), n = i(203), o = e.root.$("livechat").$("ui").$("chat_window").$("main_stack_name$string");
t();
}();
for (var y in v) v.hasOwnProperty(y) && (b[y] = v[y]);
b.fire && b.fire("init");
b.setStyle && b.setStyle(l);
b.setAttributes && b.setAttributes(d);
"function" == typeof b.addChildren ? b.addChildren(u) : n.addChildren(b, u);
if (b !== this) {
b.__jx__constructor = _;
b.__jx__native = !1;
}
return b;
}
var _;
t.prototype = s(e.__$$__meshim_widget_widgets_ChatWindowContent.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__meshim_widget_widgets_ChatWindowContent;
t.__jx__jcss = {};
a(t, "meshim_widget_components_chatWindow_cookieForm_Decline");
_ = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(4), i(21), i(23), i(31), i(15), i(3));
}, function(t, e, i) {
(function(e, n, o, r, s, a) {
e.__$$__jx_ui_Widget = i(18);
t.exports = function() {
function t(s, a, l, u, d) {
if (!(this instanceof t)) return new t(s, a, l, u, d);
a = a || n.generateID();
var c = [ e.__$$__jx_ui_Widget, "", "", [ [ e.__$$__jx_ui_Widget, "primary", "", [], {
id: "primary",
addClass: "button_container left",
container: "primary"
} ], [ e.__$$__jx_ui_Widget, "secondary", "", [], {
id: "secondary",
addClass: "button_container right",
container: "secondary"
} ], [ e.__$$__jx_ui_Widget, "", "", [], {
addClass: "clear_both"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:widgets": "meshim.widget.widgets"
} ], h = c[0].call(this, s, a, null, n.mangleIDs(a, c[3]), c[4]), f = h || this;
n.set(a, f);
var p = n.get(a + "__primary"), g = n.get(a + "__secondary");
if (!t.__jx__jcss_generated) {
o.generate(s, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var m = function() {
function t() {
e();
if (r && r.onLanguage) {
r.onLanguage(e);
f.onDestruction(function() {
r.unLanguage(e);
});
}
}
function e() {
var t = !!(r && r.rtl && r.rtl()), e = o != t;
p.addClass(e ? "right" : "left");
p.removeClass(e ? "left" : "right");
g.addClass(e ? "left" : "right");
g.removeClass(e ? "right" : "left");
}
var n = i(41), o = n.root.$("livechat").$("ui").$("mobile$bool").getValue() || !1;
t();
}();
for (var $ in m) m.hasOwnProperty($) && (f[$] = m[$]);
f.fire && f.fire("init");
f.setStyle && f.setStyle(l);
f.setAttributes && f.setAttributes(d);
"function" == typeof f.addChildren ? f.addChildren(u) : n.addChildren(f, u);
if (f !== this) {
f.__jx__constructor = _;
f.__jx__native = !1;
}
return f;
}
var _;
t.prototype = s(e.__$$__jx_ui_Widget.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_Widget;
t.__jx__jcss = {
".button_container": {
width: "48%"
},
".left": {
float: "left"
},
".right": {
float: "right"
},
".clear_both": {
clear: "both"
}
};
a(t, "meshim_widget_widgets_Controls");
_ = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(4), i(21), i(31), i(23), i(15), i(3));
}, function(t, e, i) {
(function(e, n, o, r, s, a) {
e.__$$__meshim_widget_widgets_ChatWindowPanel = i(92);
e.__$$__jx_ui_Form = i(122);
e.__$$__meshim_widget_widgets_ChatWindowContent = i(142);
e.__$$__meshim_widget_widgets_ScrollableFrame = i(144);
e.__$$__meshim_widget_widgets_Body = i(188);
e.__$$__meshim_widget_widgets_form_Profile = i(146);
e.__$$__meshim_widget_widgets_Form = i(163);
e.__$$__meshim_widget_widgets_Bottom = i(177);
e.__$$__meshim_widget_widgets_Controls = i(263);
e.__$$__meshim_widget_widgets_Submit = i(179);
e.__$$__meshim_widget_widgets_Button = i(162);
t.exports = function() {
function t(s, a, l, u, d) {
if (!(this instanceof t)) return new t(s, a, l, u, d);
a = a || n.generateID();
var c = o(125), h = o(126), f = [ e.__$$__meshim_widget_widgets_ChatWindowPanel, "", "", [ [ e.__$$__jx_ui_Form, "form", "", [ [ e.__$$__meshim_widget_widgets_ChatWindowContent, "", "", [ [ e.__$$__meshim_widget_widgets_ScrollableFrame, "", "", [ [ e.__$$__meshim_widget_widgets_Body, "message", "", [], {
id: "message"
} ], [ e.__$$__meshim_widget_widgets_form_Profile, "profile", "", [], {
id: "profile"
} ], [ e.__$$__meshim_widget_widgets_Form, "form_generator", "", [], {
id: "form_generator"
} ] ], {} ], [ e.__$$__meshim_widget_widgets_Bottom, "", "", [ [ e.__$$__meshim_widget_widgets_Controls, "", "", [ [ e.__$$__meshim_widget_widgets_Submit, "", "", [], {
placement: "primary",
addClass: "wide",
value: c
} ], [ e.__$$__meshim_widget_widgets_Button, "cancel", "", [ h ], {
placement: "secondary",
id: "cancel",
addClass: "secondary wide"
} ] ], {} ] ], {} ] ], {
absPaddingBottom: "bottomHeight"
} ] ], {
id: "form",
noValidate: "true"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:components": "meshim.widget.components",
"xmlns:widgets": "meshim.widget.widgets",
"xmlns:chatWindow": "meshim.widget.components.chatWindow",
titleBar: "hidePopout",
actionBar: ""
} ], p = f[0].call(this, s, a, null, n.mangleIDs(a, f[3]), f[4]), g = p || this;
n.set(a, g);
var m = n.get(a + "__form"), $ = n.get(a + "__message"), b = n.get(a + "__profile"), w = n.get(a + "__form_generator"), x = n.get(a + "__cancel");
if (!t.__jx__jcss_generated) {
r.generate(s, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var v = function() {
function t() {
w.setDataNode(s);
b.setDataNode(s);
g.autobind(r, "value", function(t) {
$.setText(t || "");
});
g.autobind(_, "value", function(t) {
e = t;
b.setDisplay(t ? "" : "none");
b.setDisabled(t);
});
m.on("submit", function(t) {
t.preventDefault();
if (m.validate(!0)) {
b.submit();
w.submit(a, b);
l.update("chat_panel");
}
});
x.on("click", function() {
l.update("chat_panel");
});
}
var e, n = i(41), o = n.root.$("livechat").$("settings").$("forms").$("card_form"), r = o.$("message$string"), s = o.$("form"), a = o.$("form_submitted"), _ = o.$("profile_required$bool"), l = n.root.$("livechat").$("ui").$("chat_window").$("main_stack_name$string");
t();
}();
for (var y in v) v.hasOwnProperty(y) && (g[y] = v[y]);
g.fire && g.fire("init");
g.setStyle && g.setStyle(l);
g.setAttributes && g.setAttributes(d);
"function" == typeof g.addChildren ? g.addChildren(u) : n.addChildren(g, u);
if (g !== this) {
g.__jx__constructor = _;
g.__jx__native = !1;
}
return g;
}
var _;
t.prototype = s(e.__$$__meshim_widget_widgets_ChatWindowPanel.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__meshim_widget_widgets_ChatWindowPanel;
t.__jx__jcss = {};
a(t, "meshim_widget_components_chatWindow_CardForm");
_ = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(4), i(21), i(23), i(31), i(15), i(3));
}, function(t, e, i) {
(function(e, n, o, r, s, a, _) {
e.__$$__meshim_widget_widgets_ChatWindowPanel = i(92);
e.__$$__meshim_widget_widgets_ChatWindowContent = i(142);
e.__$$__meshim_widget_widgets_ScrollableFrame = i(144);
e.__$$__jx_controls_List = i(216);
e.__$$__meshim_widget_widgets_motif_Chat = i(257);
e.__$$__meshim_widget_widgets_Bottom = i(177);
e.__$$__meshim_widget_widgets_Button = i(162);
t.exports = function() {
function t(a, _, u, d, c) {
if (!(this instanceof t)) return new t(a, _, u, d, c);
_ = _ || n.generateID();
var h = o(127), f = [ e.__$$__meshim_widget_widgets_ChatWindowPanel, "", "", [ [ e.__$$__meshim_widget_widgets_ChatWindowContent, "", "", [ [ e.__$$__meshim_widget_widgets_ScrollableFrame, "scrollable_frame", "", [ [ e.__$$__jx_controls_List, "list", "", [], {
id: "list",
addClass: "list"
} ], [ e.__$$__meshim_widget_widgets_motif_Chat, "chat_motif", "", [], {
id: "chat_motif",
addClass: "chat_motif"
} ] ], {
id: "scrollable_frame"
} ], [ e.__$$__meshim_widget_widgets_Bottom, "", "", [ [ e.__$$__meshim_widget_widgets_Button, "back", "", [ h ], {
id: "back",
addClass: "back wide"
} ] ], {
addClass: "padding_bottom"
} ] ], {
absPaddingBottom: "bottomHeightBottomPadding"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:jx": "jx.controls",
"xmlns:widgets": "meshim.widget.widgets",
"xmlns:chatWindow": "meshim.widget.components.chatWindow",
titleBar: "hidePopout",
actionBar: "none"
} ], p = f[0].call(this, a, _, null, n.mangleIDs(_, f[3]), f[4]), g = p || this;
n.set(_, g);
var m = n.get(_ + "__scrollable_frame"), $ = n.get(_ + "__list"), b = n.get(_ + "__chat_motif"), w = n.get(_ + "__back");
if (!t.__jx__jcss_generated) {
r.generate(a, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var x = function() {
function t() {
$.setRenderer(n);
$.setDataNode(o);
g.autobind(o, "keys", function() {
s(function() {
if (g.dom) {
var t = $.offsetHeight, e = m.getHeight(), i = b.getHeight();
t <= e && e - t > i ? g.removeClass("many_agents") : g.addClass("many_agents");
}
});
});
w.on("click", function() {
r.update("chat_panel");
});
}
var e = i(41), n = i(266), o = e.root.$("livechat").$("agents"), r = e.root.$("livechat").$("ui").$("chat_window").$("main_stack_name$string");
t();
}();
for (var v in x) x.hasOwnProperty(v) && (g[v] = x[v]);
g.fire && g.fire("init");
g.setStyle && g.setStyle(u);
g.setAttributes && g.setAttributes(c);
"function" == typeof g.addChildren ? g.addChildren(d) : n.addChildren(g, d);
if (g !== this) {
g.__jx__constructor = l;
g.__jx__native = !1;
}
return g;
}
var l;
t.prototype = a(e.__$$__meshim_widget_widgets_ChatWindowPanel.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__meshim_widget_widgets_ChatWindowPanel;
t.__jx__jcss = {
"**self": {},
".list": {
position: "relative",
"width, height": "100%"
},
".chat_motif": {
position: "absolute",
"bottom, left": 0,
transition: "opacity 0.5s",
opacity: 1
},
"&.many_agents .chat_motif": {
opacity: 0
}
};
_(t, "meshim_widget_components_chatWindow_AgentList");
l = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(4), i(21), i(23), i(31), i(13), i(15), i(3));
}, function(t, e, i) {
(function(e, n, o, r, s) {
e.__$$__meshim_widget_widgets_AgentProfileCard = i(196);
t.exports = function() {
function t(r, s, a, _, l) {
if (!(this instanceof t)) return new t(r, s, a, _, l);
s = s || n.generateID();
var u = [ e.__$$__meshim_widget_widgets_AgentProfileCard, "", "", [], {
xmlns: "meshim.widget.widgets",
addClass: "profile_card"
} ], d = u[0].call(this, r, s, null, n.mangleIDs(s, u[3]), u[4]), c = d || this;
n.set(s, c);
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var h = void 0;
for (var f in h) h.hasOwnProperty(f) && (c[f] = h[f]);
c.fire && c.fire("init");
c.setStyle && c.setStyle(a);
c.setAttributes && c.setAttributes(l);
"function" == typeof c.addChildren ? c.addChildren(_) : n.addChildren(c, _);
if (c !== this) {
c.__jx__constructor = i;
c.__jx__native = !1;
}
return c;
}
var i;
t.prototype = r(e.__$$__meshim_widget_widgets_AgentProfileCard.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__meshim_widget_widgets_AgentProfileCard;
t.__jx__jcss = {
"**self": {
marginBottom: "10px",
".avatar_cell": {
verticalAlign: "top",
width: "32px",
".profile_avatar": {
"width, height": "32px",
bottom: "auto"
}
},
".profile_table .content_cell": {
padding: "0 10px",
verticalAlign: "middle"
}
}
};
s(t, "meshim_widget_components_chatWindow_agentList_AgentProfileCard");
i = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(4), i(21), i(31), i(15), i(3));
}, function(t, e, i) {
(function(e, n, o, r, s, a) {
e.__$$__meshim_widget_widgets_ChatWindowPanel = i(92);
e.__$$__meshim_widget_widgets_ChatWindowContent = i(142);
e.__$$__meshim_widget_widgets_ScrollableFrame = i(144);
e.__$$__jx_ui_Widget = i(18);
e.__$$__meshim_widget_widgets_Header = i(190);
e.__$$__meshim_widget_widgets_Body = i(188);
e.__$$__meshim_widget_widgets_Button = i(162);
e.__$$__meshim_widget_widgets_Bottom = i(177);
t.exports = function() {
function t(s, a, l, u, d) {
if (!(this instanceof t)) return new t(s, a, l, u, d);
a = a || n.generateID();
var c = o(128), h = [ e.__$$__meshim_widget_widgets_ChatWindowPanel, "", "", [ [ e.__$$__meshim_widget_widgets_ChatWindowContent, "", "", [ [ e.__$$__meshim_widget_widgets_ScrollableFrame, "", "", [ [ e.__$$__jx_ui_Widget, "", "", [ [ e.__$$__meshim_widget_widgets_Header, "", "", [], {
text: "Zendesk Chat"
} ], [ e.__$$__meshim_widget_widgets_Body, "", "", [], {
text: "Copyright Â© 2016 Zendesk, Inc. All Rights Reserved."
} ], [ e.__$$__meshim_widget_widgets_Button, "back_top", "", [ c ], {
id: "back_top",
addClass: "back_top wide"
} ], [ e.__$$__meshim_widget_widgets_Header, "", "", [], {
text: "Open Source Licenses"
} ] ], {} ], [ e.__$$__jx_ui_Widget, "", "", [ [ e.__$$__meshim_widget_widgets_Header, "", "", [], {
text: "chroma.js - JavaScript library for color conversions"
} ], [ e.__$$__meshim_widget_widgets_Body, "", "", [], {
text: "Copyright Â© 2011-2013, Gregor Aisch. All rights reserved."
} ], [ e.__$$__meshim_widget_widgets_Body, "", "", [], {
text: "Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:"
} ], [ e.__$$__meshim_widget_widgets_Body, "", "", [], {
text: "1. Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer."
} ], [ e.__$$__meshim_widget_widgets_Body, "", "", [], {
text: "2. Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution."
} ], [ e.__$$__meshim_widget_widgets_Body, "", "", [], {
text: "3. The name Gregor Aisch may not be used to endorse or promote products derived from this software without specific prior written permission."
} ], [ e.__$$__meshim_widget_widgets_Body, "", "", [], {
text: 'THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL GREGOR AISCH OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.'
} ] ], {
class: "break_top"
} ], [ e.__$$__jx_ui_Widget, "", "", [ [ e.__$$__meshim_widget_widgets_Header, "", "", [], {
text: "store.js"
} ], [ e.__$$__meshim_widget_widgets_Body, "", "", [], {
text: "Copyright Â© 2010-2013 Marcus Westin"
} ], [ e.__$$__meshim_widget_widgets_Body, "", "", [], {
text: 'Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:'
} ], [ e.__$$__meshim_widget_widgets_Body, "", "", [], {
text: "The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software."
} ], [ e.__$$__meshim_widget_widgets_Body, "", "", [], {
text: 'THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.'
} ] ], {
class: "break_top"
} ], [ e.__$$__jx_ui_Widget, "", "", [ [ e.__$$__meshim_widget_widgets_Header, "", "", [], {
text: "d3-timer, d3-interpolate"
} ], [ e.__$$__meshim_widget_widgets_Body, "", "", [], {
text: "Copyright 2010-2015 Mike Bostock"
} ], [ e.__$$__meshim_widget_widgets_Body, "", "", [], {
text: "All rights reserved."
} ], [ e.__$$__meshim_widget_widgets_Body, "", "", [], {
text: "Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:"
} ], [ e.__$$__meshim_widget_widgets_Body, "", "", [], {
text: "* Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer."
} ], [ e.__$$__meshim_widget_widgets_Body, "", "", [], {
text: "* Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution."
} ], [ e.__$$__meshim_widget_widgets_Body, "", "", [], {
text: "* Neither the name of the author nor the names of contributors may be used to endorse or promote products derived from this software without specific prior written permission."
} ], [ e.__$$__meshim_widget_widgets_Body, "", "", [], {
text: 'THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.'
} ] ], {
class: "break_top"
} ], [ e.__$$__jx_ui_Widget, "", "", [ [ e.__$$__meshim_widget_widgets_Header, "", "", [], {
text: "d3-ease"
} ], [ e.__$$__meshim_widget_widgets_Body, "", "", [], {
text: "Copyright 2010-2015 Mike Bostock"
} ], [ e.__$$__meshim_widget_widgets_Body, "", "", [], {
text: "Copyright 2001 Robert Penner"
} ], [ e.__$$__meshim_widget_widgets_Body, "", "", [], {
text: "All rights reserved."
} ], [ e.__$$__meshim_widget_widgets_Body, "", "", [], {
text: "Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:"
} ], [ e.__$$__meshim_widget_widgets_Body, "", "", [], {
text: "* Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer."
} ], [ e.__$$__meshim_widget_widgets_Body, "", "", [], {
text: "* Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution."
} ], [ e.__$$__meshim_widget_widgets_Body, "", "", [], {
text: "* Neither the name of the author nor the names of contributors may be used to endorse or promote products derived from this software without specific prior written permission."
} ], [ e.__$$__meshim_widget_widgets_Body, "", "", [], {
text: 'THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.'
} ] ], {
class: "break_top"
} ] ], {
addClass: "ltr"
} ], [ e.__$$__meshim_widget_widgets_Bottom, "", "", [ [ e.__$$__meshim_widget_widgets_Button, "back", "", [ c ], {
id: "back",
addClass: "back wide"
} ] ], {} ] ], {
absPaddingBottom: "bottomHeight"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:widgets": "meshim.widget.widgets",
titleBar: "hidePopout",
actionBar: ""
} ], f = h[0].call(this, s, a, null, n.mangleIDs(a, h[3]), h[4]), p = f || this;
n.set(a, p);
var g = n.get(a + "__back_top"), m = n.get(a + "__back");
if (!t.__jx__jcss_generated) {
r.generate(s, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var $ = function() {
function t() {
n.mobile(p);
m.on("click", function() {
o.update("chat_panel");
});
g.on("click", function() {
o.update("chat_panel");
});
}
var e = i(41), n = i(97), o = e.root.$("livechat").$("ui").$("chat_window").$("main_stack_name$string");
t();
}();
for (var b in $) $.hasOwnProperty(b) && (p[b] = $[b]);
p.fire && p.fire("init");
p.setStyle && p.setStyle(l);
p.setAttributes && p.setAttributes(d);
"function" == typeof p.addChildren ? p.addChildren(u) : n.addChildren(p, u);
if (p !== this) {
p.__jx__constructor = _;
p.__jx__native = !1;
}
return p;
}
var _;
t.prototype = s(e.__$$__meshim_widget_widgets_ChatWindowPanel.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__meshim_widget_widgets_ChatWindowPanel;
t.__jx__jcss = {
".break_top": {
padding: "10px 0",
borderTop: "1px solid",
borderColor: "$$inputColor",
fontSize: "$$fontSizeXS",
".meshim_widget_widgets_Body": {
color: "$$inputColor",
marginBottom: "$$marginS"
}
},
".back_top": {
display: "none",
"&.mobile": {
marginBottom: "18px",
display: "block"
}
},
".ltr": {
direction: "ltr"
}
};
a(t, "meshim_widget_components_chatWindow_AboutPanel");
_ = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(4), i(21), i(23), i(31), i(15), i(3));
}, function(t, e, i) {
(function(e, n, o, r, s, a) {
e.__$$__meshim_widget_widgets_ChatWindowPanel = i(92);
e.__$$__meshim_widget_widgets_ChatWindowDisconnectedToast = i(136);
e.__$$__meshim_widget_widgets_ChatWindowContent = i(142);
e.__$$__meshim_widget_widgets_ScrollableFrame = i(144);
e.__$$__jx_ui_Widget = i(18);
e.__$$__meshim_widget_widgets_RatingBar = i(204);
e.__$$__meshim_widget_widgets_TextArea = i(175);
e.__$$__meshim_widget_widgets_Bottom = i(177);
e.__$$__meshim_widget_widgets_Controls = i(263);
e.__$$__meshim_widget_widgets_ConnAwareSubmit = i(178);
e.__$$__meshim_widget_widgets_Button = i(162);
t.exports = function() {
function t(s, a, l, u, d) {
if (!(this instanceof t)) return new t(s, a, l, u, d);
a = a || n.generateID();
var c = o(129), h = o(130), f = o(131), p = o(132), g = [ e.__$$__meshim_widget_widgets_ChatWindowPanel, "", "", [ [ e.__$$__meshim_widget_widgets_ChatWindowDisconnectedToast, "", "", [], {} ], [ e.__$$__meshim_widget_widgets_ChatWindowContent, "", "", [ [ e.__$$__meshim_widget_widgets_ScrollableFrame, "", "", [ [ e.__$$__jx_ui_Widget, "rating_desc", "", [], {
id: "rating_desc",
addClass: "rating_desc"
} ], [ e.__$$__meshim_widget_widgets_RatingBar, "rating_bar", "", [], {
id: "rating_bar",
addClass: "rating_bar"
} ], [ e.__$$__jx_ui_Widget, "", "", [ c ], {
addClass: "comment_intro"
} ], [ e.__$$__meshim_widget_widgets_TextArea, "comment_area", "", [], {
id: "comment_area",
addClass: "comment_area",
rows: "4",
placeholder: h
} ] ], {} ], [ e.__$$__meshim_widget_widgets_Bottom, "", "", [ [ e.__$$__meshim_widget_widgets_Controls, "", "", [ [ e.__$$__meshim_widget_widgets_ConnAwareSubmit, "send", "", [], {
placement: "primary",
id: "send",
addClass: "send wide",
value: f
} ], [ e.__$$__meshim_widget_widgets_Button, "cancel", "", [ p ], {
placement: "secondary",
id: "cancel",
addClass: "cancel secondary wide"
} ] ], {} ] ], {} ] ], {
absPaddingBottom: "bottomHeight"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:widgets": "meshim.widget.widgets",
titleBar: "hidePopout",
actionBar: ""
} ], m = g[0].call(this, s, a, null, n.mangleIDs(a, g[3]), g[4]), $ = m || this;
n.set(a, $);
var b = n.get(a + "__rating_desc"), w = n.get(a + "__rating_bar"), x = n.get(a + "__comment_area"), v = n.get(a + "__send"), y = n.get(a + "__cancel");
if (!t.__jx__jcss_generated) {
r.generate(s, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var j = function() {
function t() {
b.setText(p.NOT_RATED);
$.autobind(k, "value", e);
w.setDataNode(C);
w.setSize("big");
v.on("click", a);
y.on("click", function() {
_(!0);
});
$.on("show", l);
$.autobind(C, "value", n);
w.on("change", r);
}
function e(t) {
u = t;
y.setText(t ? g.END_CHAT : g.DURING_CHAT);
}
function n(t) {
t ? s(t) : b.setText(p.NOT_RATED);
}
function r() {
var t = w.getValue();
t ? s(t) : b.setText(p.UNRATED);
}
function s(t) {
b.setText("good" == t ? p.RATED_GOOD : p.RATED_BAD);
}
function a() {
var t, e = {
good: "Good",
bad: "Bad"
}, i = "rating_panel" + (u ? "_end_chat" : "_during_chat"), n = w.getValue(), o = C && C.getValue();
if (n !== o) {
C && h.writeNode(C, n);
c.trackEvent("Chat_Rating_" + (e[n] || "Removed"), i);
t = !0;
}
var r = x.getValue().trim();
if (r) {
j.write({
comment$string: r
});
c.trackEvent("Chat_Comment_Submitted", i);
t = !0;
}
_(!t);
}
function _(t) {
A.update("chat_panel");
window.setTimeout(function() {
if (u) {
d.livechat.endChat();
k.update(null);
}
}, t ? 0 : 2e3);
}
function l() {
w.setValue(C.getValue());
n(C.getValue());
x.setValue(S.getValue() || "").focus();
}
var u, d = i(41), c = i(180), h = i(51), f = o(133), p = {
NOT_RATED: f,
RATED_GOOD: o(134),
RATED_BAD: o(135),
UNRATED: o(136)
}, g = {
DURING_CHAT: o(137),
END_CHAT: o(138)
}, m = d.root.$("livechat"), j = m.$("channel"), C = j.$("rating$string"), S = j.$("comment$string"), A = m.$("ui").$("chat_window").$("main_stack_name$string"), k = m.$("ui").$("chat_window").$("rating_panel").$("end_chat$bool");
t();
}();
for (var C in j) j.hasOwnProperty(C) && ($[C] = j[C]);
$.fire && $.fire("init");
$.setStyle && $.setStyle(l);
$.setAttributes && $.setAttributes(d);
"function" == typeof $.addChildren ? $.addChildren(u) : n.addChildren($, u);
if ($ !== this) {
$.__jx__constructor = _;
$.__jx__native = !1;
}
return $;
}
var _;
t.prototype = s(e.__$$__meshim_widget_widgets_ChatWindowPanel.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__meshim_widget_widgets_ChatWindowPanel;
t.__jx__jcss = {
".rating_desc": {
textAlign: "center",
marginBottom: "15px"
},
".rating_bar": {
marginBottom: "25px"
},
".comment_intro": {
fontWeight: "700"
},
".comment_area": {
overflow: "auto",
marginTop: "15px"
}
};
a(t, "meshim_widget_components_chatWindow_RatingPanel");
_ = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(4), i(21), i(23), i(31), i(15), i(3));
}, function(t, e, i) {
(function(e, n, o, r, s) {
e.__$$__meshim_widget_widgets_ViewStack = i(89);
e.__$$__meshim_widget_components_chatWindow_SettingsMenu = i(270);
e.__$$__meshim_widget_components_chatWindow_ProfileMenu = i(290);
e.__$$__meshim_widget_components_chatWindow_EndChatMenu = i(296);
e.__$$__meshim_widget_components_chatWindow_EmailTranscriptMenu = i(297);
e.__$$__meshim_widget_components_chatWindow_EmailTranscriptNotification = i(298);
t.exports = function() {
function t(r, s, _, l, u) {
if (!(this instanceof t)) return new t(r, s, _, l, u);
s = s || n.generateID();
var d = [ e.__$$__meshim_widget_widgets_ViewStack, "", "", [ [ e.__$$__meshim_widget_components_chatWindow_SettingsMenu, "", "", [], {
name: "settings_menu"
} ], [ e.__$$__meshim_widget_components_chatWindow_ProfileMenu, "", "", [], {
name: "profile_menu"
} ], [ e.__$$__meshim_widget_components_chatWindow_EndChatMenu, "", "", [], {
name: "end_chat_menu"
} ], [ e.__$$__meshim_widget_components_chatWindow_EmailTranscriptMenu, "", "", [], {
name: "email_transcript_menu"
} ], [ e.__$$__meshim_widget_components_chatWindow_EmailTranscriptNotification, "", "", [], {
name: "email_transcript_notification"
} ] ], {
"xmlns:ui": "jx.ui",
"xmlns:chatWindow": "meshim.widget.components.chatWindow",
"xmlns:widgets": "meshim.widget.widgets",
onChildHide: "-1"
} ], c = d[0].call(this, r, s, null, n.mangleIDs(s, d[3]), d[4]), h = c || this;
n.set(s, h);
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var f = function() {
var t = i(97);
t.popout(h);
}();
for (var p in f) f.hasOwnProperty(p) && (h[p] = f[p]);
h.fire && h.fire("init");
h.setStyle && h.setStyle(_);
h.setAttributes && h.setAttributes(u);
"function" == typeof h.addChildren ? h.addChildren(l) : n.addChildren(h, l);
if (h !== this) {
h.__jx__constructor = a;
h.__jx__native = !1;
}
return h;
}
var a;
t.prototype = r(e.__$$__meshim_widget_widgets_ViewStack.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__meshim_widget_widgets_ViewStack;
t.__jx__jcss = {
"**self": {
overflow: "visible"
},
"&.popout": {
position: "absolute"
},
"&.mobile": {}
};
s(t, "meshim_widget_components_chatWindow_MenuStack");
a = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(4), i(21), i(31), i(15), i(3));
}, function(t, e, i) {
(function(e, n, o, r, s) {
e.__$$__meshim_widget_widgets_Menu = i(271);
e.__$$__meshim_widget_widgets_menu_Section = i(272);
e.__$$__meshim_widget_components_chatWindow_settingsMenu_Profile = i(273);
e.__$$__meshim_widget_components_chatWindow_settingsMenu_Sound = i(276);
e.__$$__meshim_widget_components_chatWindow_settingsMenu_Cookies = i(283);
e.__$$__meshim_widget_components_chatWindow_settingsMenu_About = i(284);
e.__$$__meshim_widget_components_chatWindow_settingsMenu_SendFile = i(285);
e.__$$__meshim_widget_components_chatWindow_settingsMenu_EmailTranscript = i(288);
e.__$$__meshim_widget_components_chatWindow_settingsMenu_EndChat = i(289);
t.exports = function() {
function t(r, s, _, l, u) {
if (!(this instanceof t)) return new t(r, s, _, l, u);
s = s || n.generateID();
var d = [ e.__$$__meshim_widget_widgets_Menu, "", "", [ [ e.__$$__meshim_widget_widgets_menu_Section, "", "", [ [ e.__$$__meshim_widget_components_chatWindow_settingsMenu_Profile, "", "", [], {} ], [ e.__$$__meshim_widget_components_chatWindow_settingsMenu_Sound, "", "", [], {} ], [ e.__$$__meshim_widget_components_chatWindow_settingsMenu_Cookies, "", "", [], {} ], [ e.__$$__meshim_widget_components_chatWindow_settingsMenu_About, "", "", [], {} ] ], {} ], [ e.__$$__meshim_widget_widgets_menu_Section, "chat_actions", "", [ [ e.__$$__meshim_widget_components_chatWindow_settingsMenu_SendFile, "send_file", "", [], {
id: "send_file",
useDisplay: "true"
} ], [ e.__$$__meshim_widget_components_chatWindow_settingsMenu_EmailTranscript, "email_transcript", "", [], {
id: "email_transcript",
useDisplay: "true"
} ], [ e.__$$__meshim_widget_components_chatWindow_settingsMenu_EndChat, "end_chat", "", [], {
id: "end_chat",
useDisplay: "true"
} ] ], {
id: "chat_actions",
useDisplay: "true"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:widgets": "meshim.widget.widgets",
"xmlns:menu": "meshim.widget.widgets.menu",
"xmlns:settingsMenu": "meshim.widget.components.chatWindow.settingsMenu"
} ], c = d[0].call(this, r, s, null, n.mangleIDs(s, d[3]), d[4]), h = c || this;
n.set(s, h);
var f = n.get(s + "__chat_actions"), p = (n.get(s + "__send_file"), n.get(s + "__email_transcript")), g = n.get(s + "__end_chat");
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var m = function() {
function t() {
h.autobind(d, "value", function(t) {
t && (c = !0);
c && !t && (o = +new Date());
});
h.autobind(u, "value", function(t) {
"settings_menu" === t && e();
});
}
function e() {
var t = n();
g.setVisible(t.end_chat);
p.setVisible(t.email_transcript);
f.setVisible(t.chat_actions);
}
function n() {
var t = +new Date(), e = l.getValue() || !1, i = d.getValue() || !1, n = o && t - o >= s, r = e || i || c && !n;
return {
end_chat: i,
email_transcript: r,
chat_actions: i || r
};
}
var o, r = i(41), s = 6e5, a = r.root.$("livechat"), _ = a.$("ui"), l = _.$("visitor").$("authenticated$bool"), u = _.$("chat_window").$("menu_stack_name$string"), d = a.$("channel").$("chatting$bool"), c = !1;
t();
}();
for (var $ in m) m.hasOwnProperty($) && (h[$] = m[$]);
h.fire && h.fire("init");
h.setStyle && h.setStyle(_);
h.setAttributes && h.setAttributes(u);
"function" == typeof h.addChildren ? h.addChildren(l) : n.addChildren(h, l);
if (h !== this) {
h.__jx__constructor = a;
h.__jx__native = !1;
}
return h;
}
var a;
t.prototype = r(e.__$$__meshim_widget_widgets_Menu.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__meshim_widget_widgets_Menu;
t.__jx__jcss = {};
s(t, "meshim_widget_components_chatWindow_SettingsMenu");
a = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(4), i(21), i(31), i(15), i(3));
}, function(t, e, i) {
(function(e, n, o, r, s) {
e.__$$__jx_ui_Widget = i(18);
t.exports = function() {
function t(r, s, _, l, u) {
if (!(this instanceof t)) return new t(r, s, _, l, u);
s = s || n.generateID();
var d = [ e.__$$__jx_ui_Widget, "", "", [], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:widgets": "meshim.widget.widgets"
} ], c = d[0].call(this, r, s, null, n.mangleIDs(s, d[3]), d[4]), h = c || this;
n.set(s, h);
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var f = function() {
function t() {
e.mobile(h);
e.tablet(h);
e.rtl(h);
}
var e = i(97);
t();
}();
for (var p in f) f.hasOwnProperty(p) && (h[p] = f[p]);
h.fire && h.fire("init");
h.setStyle && h.setStyle(_);
h.setAttributes && h.setAttributes(u);
"function" == typeof h.addChildren ? h.addChildren(l) : n.addChildren(h, l);
if (h !== this) {
h.__jx__constructor = a;
h.__jx__native = !1;
}
return h;
}
var a;
t.prototype = r(e.__$$__jx_ui_Widget.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_Widget;
t.__jx__jcss = {
"**self": {
position: "absolute",
minWidth: "180px",
maxWidth: "360px",
zIndex: "100",
bottom: "$$actionBarHeight",
marginBottom: "-2px",
"left, right": "10px",
color: "$$menuColor",
background: "$$menuBg",
borderWidth: "$$menuBorderWidth",
borderStyle: "$$menuBorderStyle",
borderColor: "$$menuBorderColor",
borderRadius: "$$menuRadius",
boxShadow: "$$menuShadow"
},
"&.rtl": {
"left, right": "10px"
},
"&.mobile": {
left: "0",
top: "$$titleBarHeight",
bottom: "auto",
width: "100%",
maxWidth: "$$mobileMaxWidth",
borderTop: "0 none"
},
"&.mobile.rtl": {
right: 0
}
};
s(t, "meshim_widget_widgets_Menu");
a = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(4), i(21), i(31), i(15), i(3));
}, function(t, e, i) {
(function(e, n, o, r, s) {
e.__$$__jx_ui_Widget = i(18);
t.exports = function() {
function t(r, s, _, l, u) {
if (!(this instanceof t)) return new t(r, s, _, l, u);
s = s || n.generateID();
var d = [ e.__$$__jx_ui_Widget, "", "", [], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:widgets": "meshim.widget.widgets"
} ], c = d[0].call(this, r, s, null, n.mangleIDs(s, d[3]), d[4]), h = c || this;
n.set(s, h);
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var f = function() {
function t() {
e.mobile(h);
}
var e = i(97);
t();
}();
for (var p in f) f.hasOwnProperty(p) && (h[p] = f[p]);
h.fire && h.fire("init");
h.setStyle && h.setStyle(_);
h.setAttributes && h.setAttributes(u);
"function" == typeof h.addChildren ? h.addChildren(l) : n.addChildren(h, l);
if (h !== this) {
h.__jx__constructor = a;
h.__jx__native = !1;
}
return h;
}
var a;
t.prototype = r(e.__$$__jx_ui_Widget.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_Widget;
t.__jx__jcss = {
"**self": {
padding: "5px 0",
borderTopWidth: "$$menuBorderWidth",
borderTopStyle: "$$menuBorderStyle",
borderTopColor: "$$menuBorderColor",
"*borderTop": "none",
"*zoom": 1,
"*position": "relative"
},
"&:first-child": {
borderTop: "none"
},
"&.flow": {
padding: "0",
margin: "10px"
},
"&.mobile": {
padding: "0",
borderTop: "0 none"
},
"&.border_top": {
borderTopWidth: "$$menuBorderWidth",
borderTopStyle: "$$menuBorderStyle",
borderTopColor: "$$menuBorderColor"
}
};
s(t, "meshim_widget_widgets_menu_Section");
a = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(4), i(21), i(31), i(15), i(3));
}, function(t, e, i) {
(function(e, n, o, r, s, a) {
e.__$$__meshim_widget_widgets_menu_Item = i(274);
e.__$$__meshim_widget_widgets_menu_ButtonLabel = i(275);
e.__$$__jx_ui_Label = i(104);
t.exports = function() {
function t(s, a, l, u, d) {
if (!(this instanceof t)) return new t(s, a, l, u, d);
a = a || n.generateID();
var c = o(152), h = [ e.__$$__meshim_widget_widgets_menu_Item, "", "", [ [ e.__$$__meshim_widget_widgets_menu_ButtonLabel, "logged_out", "", [ c ], {
id: "logged_out"
} ], [ e.__$$__jx_ui_Label, "name", "", [], {
id: "name",
addClass: "logged_in_name"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:widgets": "meshim.widget.widgets",
"xmlns:menu": "meshim.widget.widgets.menu"
} ], f = h[0].call(this, s, a, null, n.mangleIDs(a, h[3]), h[4]), p = f || this;
n.set(a, p);
var g = n.get(a + "__logged_out"), m = n.get(a + "__name");
if (!t.__jx__jcss_generated) {
r.generate(s, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var $ = function() {
function t() {
p.on("click", function(t) {
t.stopPropagation();
f.update("profile_menu");
});
p.autobind(c, "value", function(t) {
n = t;
e();
});
p.autobind(h, "value", function(t) {
r = t || "";
e();
});
p.autobind($, "value", function(t) {
p.setDisplay(t ? "none" : "");
});
o && o.onLanguage && o.onLanguage(e);
}
function e() {
if (n) {
r && !l.isDefaultName(r) ? m.setText(s.replace("<name>", r)) : m.setText(a);
g.setDisplay("none");
m.setDisplay("");
} else {
g.setDisplay("");
m.setDisplay("none");
}
}
var n, r, s = o(153), a = o(154), _ = i(41), l = i(51), u = _.root.$("livechat"), d = u.$("profile"), c = d.$("logged_in$bool"), h = d.$("display_name$string"), f = u.$("ui").$("chat_window").$("menu_stack_name$string"), $ = u.$("settings").$("login").$("restrict_profile$bool");
t();
}();
for (var b in $) $.hasOwnProperty(b) && (p[b] = $[b]);
p.fire && p.fire("init");
p.setStyle && p.setStyle(l);
p.setAttributes && p.setAttributes(d);
"function" == typeof p.addChildren ? p.addChildren(u) : n.addChildren(p, u);
if (p !== this) {
p.__jx__constructor = _;
p.__jx__native = !1;
}
return p;
}
var _;
t.prototype = s(e.__$$__meshim_widget_widgets_menu_Item.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__meshim_widget_widgets_menu_Item;
t.__jx__jcss = {
"**self": {
display: "none"
},
"&.mobile": {
display: "block"
}
};
a(t, "meshim_widget_components_chatWindow_settingsMenu_Profile");
_ = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(4), i(21), i(23), i(31), i(15), i(3));
}, function(t, e, i) {
(function(e, n, o, r, s) {
e.__$$__jx_ui_Widget = i(18);
t.exports = function() {
function t(r, s, _, l, u) {
if (!(this instanceof t)) return new t(r, s, _, l, u);
s = s || n.generateID();
var d = [ e.__$$__jx_ui_Widget, "", "", [], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:widgets": "meshim.widget.widgets",
type: "button"
} ], c = d[0].call(this, r, s, null, n.mangleIDs(s, d[3]), d[4]), h = c || this;
n.set(s, h);
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var f = function() {
function t() {
e.mobile(h);
e.rtl(h);
}
var e = i(97);
t();
}();
for (var p in f) f.hasOwnProperty(p) && (h[p] = f[p]);
h.fire && h.fire("init");
h.setStyle && h.setStyle(_);
h.setAttributes && h.setAttributes(u);
"function" == typeof h.addChildren ? h.addChildren(l) : n.addChildren(h, l);
if (h !== this) {
h.__jx__constructor = a;
h.__jx__native = !1;
}
return h;
}
var a;
t.prototype = r(e.__$$__jx_ui_Widget.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_Widget;
t.__jx__jcss = {
"**self": {
background: "transparent",
border: "none",
position: "relative",
width: "100%",
overflow: "hidden",
cursor: "pointer",
"*zoom": 1,
textAlign: "left",
padding: "$$menuItemPadding",
"*": {
cursor: "pointer"
}
},
"&.rtl": {
textAlign: "right"
},
"&:hover": {
background: "$$menuItemHoverBg"
},
"&.mobile": {
borderTopWidth: "$$menuBorderWidth",
borderTopStyle: "$$menuBorderStyle",
borderTopColor: "$$menuBorderColor"
}
};
s(t, "meshim_widget_widgets_menu_Item");
a = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(4), i(21), i(31), i(15), i(3));
}, function(t, e, i) {
(function(e, n, o, r, s) {
e.__$$__jx_ui_Button = i(120);
t.exports = function() {
function t(r, s, a, _, l) {
if (!(this instanceof t)) return new t(r, s, a, _, l);
s = s || n.generateID();
var u = [ e.__$$__jx_ui_Button, "", "", [], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui"
} ], d = u[0].call(this, r, s, null, n.mangleIDs(s, u[3]), u[4]), c = d || this;
n.set(s, c);
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var h = void 0;
for (var f in h) h.hasOwnProperty(f) && (c[f] = h[f]);
c.fire && c.fire("init");
c.setStyle && c.setStyle(a);
c.setAttributes && c.setAttributes(l);
"function" == typeof c.addChildren ? c.addChildren(_) : n.addChildren(c, _);
if (c !== this) {
c.__jx__constructor = i;
c.__jx__native = !1;
}
return c;
}
var i;
t.prototype = r(e.__$$__jx_ui_Button.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_Button;
t.__jx__jcss = {
"**self": {
background: "transparent",
border: "0px none",
color: "$$menuColor",
textAlign: "inherit"
}
};
s(t, "meshim_widget_widgets_menu_ButtonLabel");
i = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(4), i(21), i(31), i(15), i(3));
}, function(t, e, i) {
(function(e, n, o, r, s, a) {
e.__$$__meshim_widget_widgets_menu_Item = i(274);
e.__$$__meshim_widget_widgets_menu_IconFont = i(277);
e.__$$__meshim_widget_widgets_menu_ButtonLabel = i(275);
t.exports = function() {
function t(s, a, l, u, d) {
if (!(this instanceof t)) return new t(s, a, l, u, d);
a = a || n.generateID();
var c = o(155), h = [ e.__$$__meshim_widget_widgets_menu_Item, "", "", [ [ e.__$$__meshim_widget_widgets_menu_IconFont, "icon_sound", "", [], {
id: "icon_sound"
} ], [ e.__$$__meshim_widget_widgets_menu_ButtonLabel, "", "", [ c ], {} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:widgets": "meshim.widget.widgets",
"xmlns:menu": "meshim.widget.widgets.menu"
} ], f = h[0].call(this, s, a, null, n.mangleIDs(a, h[3]), h[4]), p = f || this;
n.set(a, p);
var g = n.get(a + "__icon_sound");
if (!t.__jx__jcss_generated) {
r.generate(s, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var m = function() {
function t() {
p.on("click", function() {
r.update(!n.isSoundEnabled());
});
p.autobind(r, "value", function() {
g.setIcon(n.isSoundEnabled() ? "sound_on" : "sound_off", !0);
});
}
var e = i(41), n = i(278), o = e.root.$("livechat").$("profile"), r = o.$("notification").$("sound$bool");
t();
}();
for (var $ in m) m.hasOwnProperty($) && (p[$] = m[$]);
p.fire && p.fire("init");
p.setStyle && p.setStyle(l);
p.setAttributes && p.setAttributes(d);
"function" == typeof p.addChildren ? p.addChildren(u) : n.addChildren(p, u);
if (p !== this) {
p.__jx__constructor = _;
p.__jx__native = !1;
}
return p;
}
var _;
t.prototype = s(e.__$$__meshim_widget_widgets_menu_Item.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__meshim_widget_widgets_menu_Item;
t.__jx__jcss = {
"**self": {},
"&.mobile": {
display: "none"
}
};
a(t, "meshim_widget_components_chatWindow_settingsMenu_Sound");
_ = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(4), i(21), i(23), i(31), i(15), i(3));
}, function(t, e, i) {
(function(e, n, o, r, s, a) {
e.__$$__meshim_widget_widgets_IconFont = i(98);
t.exports = function() {
function t(s, a, l, u, d) {
if (!(this instanceof t)) return new t(s, a, l, u, d);
a = a || n.generateID();
var c = [ e.__$$__meshim_widget_widgets_IconFont, "", "", [], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:widgets": "meshim.widget.widgets"
} ], h = c[0].call(this, s, a, null, n.mangleIDs(a, c[3]), c[4]), f = h || this;
n.set(a, f);
if (!t.__jx__jcss_generated) {
o.generate(s, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var p = function() {
function t() {
e.rtl(f);
}
var e = i(97), n = {
true: "tick",
false: "cross"
}, o = f.setIcon;
f.setIcon = function(t, e) {
e || (t = r(t).toString());
return o.call(f, n[t] || t);
};
t();
}();
for (var g in p) p.hasOwnProperty(g) && (f[g] = p[g]);
f.fire && f.fire("init");
f.setStyle && f.setStyle(l);
f.setAttributes && f.setAttributes(d);
"function" == typeof f.addChildren ? f.addChildren(u) : n.addChildren(f, u);
if (f !== this) {
f.__jx__constructor = _;
f.__jx__native = !1;
}
return f;
}
var _;
t.prototype = s(e.__$$__meshim_widget_widgets_IconFont.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__meshim_widget_widgets_IconFont;
t.__jx__jcss = {
"**self": {
float: "right",
lineHeight: 1,
position: "relative",
top: "3px",
verticalAlign: "middle",
"&.rtl": {
float: "left"
}
},
"&.left": {
float: "left",
"&.rtl": {
float: "right"
}
}
};
a(t, "meshim_widget_widgets_menu_IconFont");
_ = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(4), i(21), i(31), i(17), i(15), i(3));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n() {
s = p.root.$$("livechat.settings.sound.disabled$bool");
a = p.root.$$("livechat.profile.notification.sound$bool");
_ = p.root.$$("connection.reattached_timestamp$int");
u = p.root.$$("livechat.ui.sounds");
c = p.root.$("livechat").$("ui").$("mobile$bool");
c.getValue() && a.update(!1);
h.runAfterFirstChildReady(function() {
if (!d) {
d = new g(m);
u.bindValue(o);
}
});
}
function o(t) {
if (t && r()) {
l = _.getValue() || 0;
if (0 !== l) for (var e in t) if (t.hasOwnProperty(e)) {
if (!t[e] || t[e] < l) continue;
e = e.substring(0, e.indexOf("$"));
d.hasSound(e) || d.create(e, $[e]);
d.play(e, 1);
}
}
}
function r() {
var t = s.getValue(), e = a.getValue();
return "boolean" == typeof e ? e : "boolean" != typeof t || !t;
}
var s, a, _, l, u, d, c, h = i(6), f = i(43), p = i(41), g = i(279), m = f.SOUNDS_URL, $ = {
new_message: "triad_gbd"
}, b = {
init: n,
isSoundEnabled: r,
play: function() {}
};
t.exports = b;
e(b, "meshim_widget_controllers_SoundController");
return b;
}();
}).call(e, i(3));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t) {
var e;
this.url = t;
e = new s(t);
if (e.dom) return e;
e = new a(t);
if (e.dom) return e;
e = new _(t);
return e.dom ? e : void 0;
}
function o() {
return this;
}
function r(t) {
/\/$/.test(t) || (t += "/");
this.repo_url = t || l;
this.repo = {};
}
var s = i(280), a = i(281), _ = i(282);
n.prototype.load = n.prototype.play = n.prototype.stop = n.prototype.setVolume = n.prototype.setLoop = o;
var l = "dashboard/sounds/";
r.prototype.create = function(t, e, i, o) {
var r = new n(this.repo_url + e);
i && r.setVolume(i);
o && r.setLoop(o);
r.title = e;
this.repo[t] = r;
return this;
};
r.prototype.getSound = function(t) {
var e = this.repo[t];
if (e) return e;
throw new window.Error("you have not created " + t + " sound yet");
};
r.prototype.hasSound = function(t) {
try {
this.getSound(t);
return !0;
} catch (t) {
return !1;
}
};
r.prototype.setSrc = function(t, e) {
this.getSound(t).load(this.repo_url + e);
return this;
};
r.prototype.getTitle = function(t) {
this.getSound(t).title;
};
r.prototype.play = function(t, e) {
this.getSound(t).play(parseInt(e, 10) || 0);
return this;
};
r.prototype.stop = function(t) {
this.getSound(t).stop();
return this;
};
r.prototype.setVolume = function(t, e) {
this.getSound(t).setVolume(e);
return this;
};
r.prototype.setLoop = function(t, e) {
this.getSound(t).setLoop(e);
return this;
};
r.prototype.getLoop = function(t) {
this.getSound(t).loop;
};
t.exports = r;
e(r, "meshim_common_Sounds");
return r;
}();
}).call(e, i(3));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t) {
var e = document.createElement("audio"), i = this, n = function() {
o.call(i);
};
if (e.canPlayType) {
var r = /^(probably|maybe)$/i;
try {
if (e.canPlayType("audio/mpeg").match(r)) this.type = "mp3"; else if (e.canPlayType('audio/ogg; codecs="vorbis"').match(r)) this.type = "ogg"; else {
if (!e.canPlayType("audio/wav").match(r)) return;
this.type = "wav";
}
} catch (t) {
return;
}
e.setAttribute("autobuffer", "true");
e.setAttribute("preload", "");
this.dom = e;
this.remainingLoop = 1;
this.loop = 1;
this.play_count = 0;
this.load(t);
this.dom.addEventListener("ended", n, !1);
}
}
function o() {
this.play_count++;
if (a.isSafari && this.play_count >= 50) {
this.play_count = 0;
this.dom.load();
}
if (this.remainingLoop > 0) {
this.remainingLoop--;
s.call(this);
var t = this.dom.play();
void 0 !== t && t.catch(r);
}
}
function r() {}
function s() {
this.dom && this.dom.currentTime && (this.dom.currentTime = 0);
}
var a = i(7), _ = i(24), l = 10;
n.prototype.load = function(t) {
this.dom.setAttribute("src", t + "." + this.type);
this.remainingLoop = 0;
};
n.prototype.play = function(t) {
this.remainingLoop += t ? t : this.loop;
o.call(this);
};
n.prototype.stop = function() {
this.dom.pause();
s.call(this);
};
n.prototype.setVolume = function(t) {
t = parseInt(t, 10);
if (!isNaN(t)) {
t > l && (t = l);
t < 0 && (t = 0);
this.dom.volume = t / l;
}
};
n.prototype.setLoop = function(t) {
t = parseInt(t, 10);
this.loop = _(t) ? t : 1;
};
t.exports = n;
e(n, "meshim_common_sounds_AudioTag");
return n;
}();
}).call(e, i(3));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t) {
var e, i = +new Date() + Math.round(1e4 * Math.random()), n = t.substring(0, t.lastIndexOf("/") + 1) + "JSMP3.swf";
if (o.isIE) {
try {
new window.ActiveXObject("ShockwaveFlash.ShockwaveFlash");
} catch (t) {
return;
}
e = document.createElement("div");
document.body.insertBefore(e, document.body.firstChild);
var s = '<object id="__zopimSoundPlayer' + i + '" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="1" height="1"><param name="movie" value="' + n + '" /><param name="allowScriptAccess" value="always" /></object>';
e.innerHTML = s;
e = e.firstChild;
var a = document.title.split("#")[0];
r(function() {
document.title !== a && (document.title = a);
});
} else {
if (!navigator.mimeTypes["application/x-shockwave-flash"]) return;
e = document.createElement("embed");
e.id = "__zopimSoundPlayer" + i;
e.src = n;
e.setAttribute("allowScriptAccess", "always");
document.body.insertBefore(e, document.body.firstChild);
}
e.style.left = e.style.top = "-9999px";
e.style.position = "absolute";
this.dom = e;
this.loop = 1;
this.load(t);
}
var o = i(7), r = i(13), s = 10;
n.prototype.load = function(t) {
if (this.dom.loadSound) {
this.dom.loadSound(t + ".mp3");
this.loaded = !0;
} else {
var e = this;
setTimeout(function() {
e.load(t);
}, 1e3);
}
};
n.prototype.play = function(t) {
if (this.loaded) try {
this.dom.playSound(t || this.loop);
} catch (t) {} else {
var e = this;
setTimeout(function() {
e.play(t);
}, 1e3);
}
};
n.prototype.stop = function() {
if (this.loaded) try {
this.dom.stopSound();
} catch (t) {}
};
n.prototype.setVolume = function(t) {
t = parseInt(t, 10);
if (!isNaN(t)) {
t > s && (t = s);
t < 0 && (t = 0);
if (this.loaded) try {
this.dom.setVolume(t / s);
} catch (t) {} else {
var e = this;
setTimeout(function() {
e.setVolume(t);
}, 500);
}
}
};
n.prototype.setLoop = function(t) {
this.loop = t;
if (this.loaded) try {
this.dom.setLoop(t);
} catch (t) {} else {
var e = this;
setTimeout(function() {
e.setLoop(t);
}, 500);
}
};
t.exports = n;
e(n, "meshim_common_sounds_FlashSound");
return n;
}();
}).call(e, i(3));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t) {
if (o.isIE && !(o.isIE >= 9)) {
var e = document.createElement("bgsound");
document.body ? document.body.insertBefore(e, document.body.firstChild) : document.documentElement.appendChild(e);
this.dom = e;
this.loop = 0;
this.load(t);
}
}
var o = i(7);
n.prototype.load = function(t) {
this.src = t + ".wav";
};
n.prototype.play = function(t) {
this.dom.src = this.src;
this.dom.loop = t ? t : this.loop;
};
n.prototype.stop = function() {
this.dom.src = "";
};
n.prototype.setVolume = function() {};
n.prototype.setLoop = function(t) {
this.loop = parseInt(t, 10);
};
t.exports = n;
e(n, "meshim_common_sounds_BGSoundTag");
return n;
}();
}).call(e, i(3));
}, function(t, e, i) {
(function(e, n, o, r, s, a) {
e.__$$__meshim_widget_widgets_menu_Item = i(274);
e.__$$__meshim_widget_widgets_menu_IconFont = i(277);
e.__$$__jx_ui_Label = i(104);
t.exports = function() {
function t(s, a, l, u, d) {
if (!(this instanceof t)) return new t(s, a, l, u, d);
a = a || n.generateID();
var c = o(157), h = [ e.__$$__meshim_widget_widgets_menu_Item, "", "", [ [ e.__$$__meshim_widget_widgets_menu_IconFont, "icon", "", [], {
id: "icon"
} ], [ e.__$$__jx_ui_Label, "", "", [ c ], {} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:widgets": "meshim.widget.widgets",
"xmlns:menu": "meshim.widget.widgets.menu"
} ], f = h[0].call(this, s, a, null, n.mangleIDs(a, h[3]), h[4]), p = f || this;
n.set(a, p);
var g = n.get(a + "__icon");
if (!t.__jx__jcss_generated) {
r.generate(s, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var m = function() {
function t() {
p.on("click", function() {
s.getValue() && _.update("cookie_form");
});
p.autobind(s, "value", function(t) {
g.setIcon(t);
e();
});
p.autobind(a, "value", e);
}
function e() {
a.getValue() && s.getValue() ? p.setDisplay("") : p.setDisplay("none");
}
var n = i(41), o = n.root.$("livechat"), r = o.$("profile"), s = r.$("allow_cookies$bool"), a = o.$("settings").$("cookie_law").$("enabled$bool"), _ = o.$("ui").$("chat_window").$("main_stack_name$string");
t();
}();
for (var $ in m) m.hasOwnProperty($) && (p[$] = m[$]);
p.fire && p.fire("init");
p.setStyle && p.setStyle(l);
p.setAttributes && p.setAttributes(d);
"function" == typeof p.addChildren ? p.addChildren(u) : n.addChildren(p, u);
if (p !== this) {
p.__jx__constructor = _;
p.__jx__native = !1;
}
return p;
}
var _;
t.prototype = s(e.__$$__meshim_widget_widgets_menu_Item.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__meshim_widget_widgets_menu_Item;
t.__jx__jcss = {
"**self": {}
};
a(t, "meshim_widget_components_chatWindow_settingsMenu_Cookies");
_ = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(4), i(21), i(23), i(31), i(15), i(3));
}, function(t, e, i) {
(function(e, n, o, r, s, a) {
e.__$$__meshim_widget_widgets_menu_Item = i(274);
e.__$$__meshim_widget_widgets_menu_ButtonLabel = i(275);
t.exports = function() {
function t(s, a, l, u, d) {
if (!(this instanceof t)) return new t(s, a, l, u, d);
a = a || n.generateID();
var c = o(156), h = [ e.__$$__meshim_widget_widgets_menu_Item, "", "", [ [ e.__$$__meshim_widget_widgets_menu_ButtonLabel, "", "", [ c ], {} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:widgets": "meshim.widget.widgets",
"xmlns:menu": "meshim.widget.widgets.menu"
} ], f = h[0].call(this, s, a, null, n.mangleIDs(a, h[3]), h[4]), p = f || this;
n.set(a, p);
if (!t.__jx__jcss_generated) {
r.generate(s, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var g = function() {
function t() {
p.on("click", function() {
n.update("about_panel");
});
}
var e = i(41), n = e.root.$("livechat").$("ui").$("chat_window").$("main_stack_name$string");
t();
}();
for (var m in g) g.hasOwnProperty(m) && (p[m] = g[m]);
p.fire && p.fire("init");
p.setStyle && p.setStyle(l);
p.setAttributes && p.setAttributes(d);
"function" == typeof p.addChildren ? p.addChildren(u) : n.addChildren(p, u);
if (p !== this) {
p.__jx__constructor = _;
p.__jx__native = !1;
}
return p;
}
var _;
t.prototype = s(e.__$$__meshim_widget_widgets_menu_Item.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__meshim_widget_widgets_menu_Item;
t.__jx__jcss = {};
a(t, "meshim_widget_components_chatWindow_settingsMenu_About");
_ = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(4), i(21), i(23), i(31), i(15), i(3));
}, function(t, e, i) {
(function(e, n, o, r, s, a) {
e.__$$__meshim_widget_widgets_menu_Item = i(274);
e.__$$__jx_ui_Label = i(104);
e.__$$__meshim_widget_widgets_SendFile = i(286);
t.exports = function() {
function t(s, a, l, u, d) {
if (!(this instanceof t)) return new t(s, a, l, u, d);
a = a || n.generateID();
var c = o(158), h = [ e.__$$__meshim_widget_widgets_menu_Item, "", "", [ [ e.__$$__jx_ui_Label, "", "", [ c ], {} ], [ e.__$$__meshim_widget_widgets_SendFile, "send_file", "", [], {
id: "send_file",
addClass: "send_file"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:widgets": "meshim.widget.widgets",
"xmlns:menu": "meshim.widget.widgets.menu"
} ], f = h[0].call(this, s, a, null, n.mangleIDs(a, h[3]), h[4]), p = f || this;
n.set(a, p);
var g = n.get(a + "__send_file");
if (!t.__jx__jcss_generated) {
r.generate(s, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var m = function() {
function t() {
g.on("before_submit", function() {
r.update("");
});
p.autobind(a, "value", e);
p.autobind(l, "value", e);
p.autobind(_, "value", e);
}
function e() {
var t = a.getValue(), e = l.getValue("color_customization_enabled$int") || l.getValue("widget_customization_enabled$int"), i = _.getValue(), n = !0;
e ? t === !1 && (n = !1) : n = !1;
p.setDisplay(n && i ? "" : "none");
}
var n = i(41), o = n.root.$("livechat"), r = o.$("ui").$("chat_window").$("menu_stack_name$string"), s = o.$("settings").$("file_sending"), a = s.$("enabled$bool"), _ = o.$("channel").$("chatting$bool"), l = o.$("settings").$("package");
t();
}();
for (var $ in m) m.hasOwnProperty($) && (p[$] = m[$]);
p.fire && p.fire("init");
p.setStyle && p.setStyle(l);
p.setAttributes && p.setAttributes(d);
"function" == typeof p.addChildren ? p.addChildren(u) : n.addChildren(p, u);
if (p !== this) {
p.__jx__constructor = _;
p.__jx__native = !1;
}
return p;
}
var _;
t.prototype = s(e.__$$__meshim_widget_widgets_menu_Item.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__meshim_widget_widgets_menu_Item;
t.__jx__jcss = {
".send_file": {
position: "absolute",
"bottom, right": 0
}
};
a(t, "meshim_widget_components_chatWindow_settingsMenu_SendFile");
_ = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(4), i(21), i(23), i(31), i(15), i(3));
}, function(t, e, i) {
(function(e, n, o, r, s) {
e.__$$__jx_ui_Widget = i(18);
e.__$$__meshim_widget_widgets_FileUploader = i(287);
e.__$$__jx_ui_Input = i(121);
t.exports = function() {
function t(r, s, _, l, u) {
if (!(this instanceof t)) return new t(r, s, _, l, u);
s = s || n.generateID();
var d = [ e.__$$__jx_ui_Widget, "", "", [ [ e.__$$__meshim_widget_widgets_FileUploader, "file_form", "", [ [ e.__$$__jx_ui_Input, "file_input", "", [], {
id: "file_input",
name: "file[]",
type: "file",
multiple: "true",
addClass: "file_input"
} ] ], {
id: "file_form"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:widgets": "meshim.widget.widgets"
} ], c = d[0].call(this, r, s, null, n.mangleIDs(s, d[3]), d[4]), h = c || this;
n.set(s, h);
var f = n.get(s + "__file_form"), p = n.get(s + "__file_input");
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var g = function() {
function t() {
p.on("change", function() {
if (!_) {
_ = !0;
c.reconnectIfServerRetired(function() {
_ = !1;
e();
});
}
});
h.autobind(y, "value", o);
h.autobind(A, "value", o);
h.autobind(j, "value", r);
}
function e() {
if (a && p.getValue()) {
var t = [], e = [], i = 0, o = p.dom.files, r = c.getHost();
if (r) {
if (o) {
for (var _ = 0, $ = o.length; _ < $; _++) {
if (!u.isValidType(o[_].name, s)) {
S.update({
error$string: "type"
});
p.setValue("");
return;
}
t.push(o[_].name);
e.push(o[_].type);
i += o[_].size || 0;
}
if (i > l.FILE_UPLOAD_MAX) {
S.update({
error$string: "size"
});
p.setValue("");
return;
}
t = t.join(", ");
e = e.join(", ");
} else {
o = p.dom.value || "";
if (!o) return;
t = o.substr(o.lastIndexOf("\\") + 1);
e = t.substr(t.lastIndexOf(".") + 1);
if (!u.isValidType(t, s)) {
S.update({
error$string: "type"
});
p.setValue("");
return;
}
}
var b = g.livechat.sendFile({
file_name: t,
file_type: e,
file_size: i
}), v = {
ts: b,
mid: w.getValue(),
uid: x.getValue()
}, y = "https://" + r + l.FILE_UPLOAD_PATH + "?" + d.buildQuery(v);
f.setPath(y);
h.fire("before_submit");
o && "FormData" in window ? n(r, b, o) : f.submit();
m.increment("file_upload");
p.setValue("");
}
}
}
function n(t, e, i) {
for (var n = new window.XMLHttpRequest(), o = new window.FormData(), r = {
ts: e
}, s = "https://" + t + l.FILE_UPLOAD_PATH + "?" + d.buildQuery(r), a = 0, _ = i.length; a < _; a++) o.append("file_" + i[a].name, i[a]);
n.open("POST", s, !0);
n.setRequestHeader("X-Zopim-MID", w.getValue());
n.setRequestHeader("X-Zopim-UID", x.getValue());
n.send(o);
}
function o() {
var t = y.getValue(), e = A.getValue("color_customization_enabled$int") || A.getValue("widget_customization_enabled$int");
a = !!e && t !== !1;
}
function r() {
var t = j.getValue() || "";
s = t.trim().replace(/\s*,\s*/g, ",").split(",");
}
var s, a, _, l = i(43), u = i(55), d = i(29), c = i(62), g = i(41), m = i(63), $ = g.root, b = $.$("livechat"), w = b.$("profile").$("mid$string"), x = b.$("profile").$("uid$string"), v = b.$("settings").$("file_sending"), y = v.$("enabled$bool"), j = v.$("allowed_extensions$string"), C = b.$("ui").$("chat_window"), S = C.$("chat_panel").$("file_toast"), A = b.$("settings").$("package");
t();
}();
for (var m in g) g.hasOwnProperty(m) && (h[m] = g[m]);
h.fire && h.fire("init");
h.setStyle && h.setStyle(_);
h.setAttributes && h.setAttributes(u);
"function" == typeof h.addChildren ? h.addChildren(l) : n.addChildren(h, l);
if (h !== this) {
h.__jx__constructor = a;
h.__jx__native = !1;
}
return h;
}
var a;
t.prototype = r(e.__$$__jx_ui_Widget.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_Widget;
t.__jx__jcss = {
".file_input": {
fontSize: "1000px",
outline: "none",
opacity: "0"
}
};
s(t, "meshim_widget_widgets_SendFile");
a = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(4), i(21), i(31), i(15), i(3));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t, e, i, o, r) {
if (!(this instanceof n)) return new n(t, e, i, o, r);
r || (r = {});
s.call(this, t, e, i, o, r);
this.setAttribute("method", "post");
this.setAttribute("enctype", "multipart/form-data");
}
var o = i(15), r = i(7), s = i(122);
n.prototype = o(s.prototype);
n.prototype.submit = function() {
if (this.path) {
this.setAttribute("action", this.path);
var t, e = "_widget_fileuploader_" + +new Date();
if (r.bugs.noBoxSizing) t = this.doc.createElement('<iframe name="' + e + '">'); else {
t = this.doc.createElement("iframe");
t.setAttribute("name", e);
}
t.setAttribute("id", e);
t.style.display = "none";
this.dom.target = e;
this.appendChild(t);
s.prototype.submit.call(this);
}
};
n.prototype.setPath = function(t) {
this.path = t;
return this;
};
t.exports = n;
e(n, "meshim_widget_widgets_FileUploader");
return n;
}();
}).call(e, i(3));
}, function(t, e, i) {
(function(e, n, o, r, s, a) {
e.__$$__meshim_widget_widgets_menu_Item = i(274);
e.__$$__meshim_widget_widgets_menu_ButtonLabel = i(275);
t.exports = function() {
function t(s, a, l, u, d) {
if (!(this instanceof t)) return new t(s, a, l, u, d);
a = a || n.generateID();
var c = o(159), h = [ e.__$$__meshim_widget_widgets_menu_Item, "", "", [ [ e.__$$__meshim_widget_widgets_menu_ButtonLabel, "", "", [ c ], {} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:widgets": "meshim.widget.widgets",
"xmlns:menu": "meshim.widget.widgets.menu"
} ], f = h[0].call(this, s, a, null, n.mangleIDs(a, h[3]), h[4]), p = f || this;
n.set(a, p);
if (!t.__jx__jcss_generated) {
r.generate(s, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var g = function() {
function t() {
p.on("click", function() {
n.update("email_transcript_menu");
});
}
var e = i(41), n = e.root.$("livechat").$("ui").$("chat_window").$("menu_stack_name$string");
t();
}();
for (var m in g) g.hasOwnProperty(m) && (p[m] = g[m]);
p.fire && p.fire("init");
p.setStyle && p.setStyle(l);
p.setAttributes && p.setAttributes(d);
"function" == typeof p.addChildren ? p.addChildren(u) : n.addChildren(p, u);
if (p !== this) {
p.__jx__constructor = _;
p.__jx__native = !1;
}
return p;
}
var _;
t.prototype = s(e.__$$__meshim_widget_widgets_menu_Item.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__meshim_widget_widgets_menu_Item;
t.__jx__jcss = {
"**self": {}
};
a(t, "meshim_widget_components_chatWindow_settingsMenu_EmailTranscript");
_ = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(4), i(21), i(23), i(31), i(15), i(3));
}, function(t, e, i) {
(function(e, n, o, r, s, a) {
e.__$$__meshim_widget_widgets_menu_Item = i(274);
e.__$$__meshim_widget_widgets_Button = i(162);
e.__$$__jx_ui_Label = i(104);
t.exports = function() {
function t(s, a, l, u, d) {
if (!(this instanceof t)) return new t(s, a, l, u, d);
a = a || n.generateID();
var c = o(160), h = [ e.__$$__meshim_widget_widgets_menu_Item, "", "", [ [ e.__$$__meshim_widget_widgets_Button, "", "", [ c ], {
addClass: "end_chat wide short"
} ], [ e.__$$__jx_ui_Label, "", "", [ c ], {
addClass: "end_chat_mobile"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:widgets": "meshim.widget.widgets",
"xmlns:menu": "meshim.widget.widgets.menu"
} ], f = h[0].call(this, s, a, null, n.mangleIDs(a, h[3]), h[4]), p = f || this;
n.set(a, p);
if (!t.__jx__jcss_generated) {
r.generate(s, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var g = function() {
function t() {
p.on("click", function() {
r.update("end_chat_menu");
});
p.autobind(o, "value", function(t) {
p.setDisplay(t ? "" : "none");
});
p.autobind(s, "value", function(t) {
var e = !!t;
p.setDisabled(e);
});
}
var e = i(41), n = e.root.$("livechat"), o = n.$("settings").$("end_chat_menu").$("enabled$bool"), r = n.$("ui").$("chat_window").$("menu_stack_name$string"), s = e.root.$("connection").$("message$string");
t();
}();
for (var m in g) g.hasOwnProperty(m) && (p[m] = g[m]);
p.fire && p.fire("init");
p.setStyle && p.setStyle(l);
p.setAttributes && p.setAttributes(d);
"function" == typeof p.addChildren ? p.addChildren(u) : n.addChildren(p, u);
if (p !== this) {
p.__jx__constructor = _;
p.__jx__native = !1;
}
return p;
}
var _;
t.prototype = s(e.__$$__meshim_widget_widgets_menu_Item.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__meshim_widget_widgets_menu_Item;
t.__jx__jcss = {
"**self": {
cursor: "default",
"&:hover": {
background: "transparent !important"
},
".end_chat": {
display: "block",
textAlign: "center",
cursor: "pointer",
"&.disabled": {
cursor: "default"
}
},
".end_chat_mobile": {
display: "none"
}
},
"&.mobile": {
".end_chat": {
display: "none"
},
".end_chat_mobile": {
display: "block"
}
}
};
a(t, "meshim_widget_components_chatWindow_settingsMenu_EndChat");
_ = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(4), i(21), i(23), i(31), i(15), i(3));
}, function(t, e, i) {
(function(e, n, o, r, s) {
e.__$$__meshim_widget_widgets_Menu = i(271);
e.__$$__meshim_widget_widgets_ViewStack = i(89);
e.__$$__meshim_widget_components_chatWindow_profileMenu_Login = i(291);
e.__$$__meshim_widget_components_chatWindow_profileMenu_Status = i(293);
e.__$$__meshim_widget_components_chatWindow_profileMenu_Edit = i(295);
t.exports = function() {
function t(r, s, _, l, u) {
if (!(this instanceof t)) return new t(r, s, _, l, u);
s = s || n.generateID();
var d = [ e.__$$__meshim_widget_widgets_Menu, "", "", [ [ e.__$$__meshim_widget_widgets_ViewStack, "vs", "", [ [ e.__$$__meshim_widget_components_chatWindow_profileMenu_Login, "", "", [], {
addClass: "login"
} ], [ e.__$$__meshim_widget_components_chatWindow_profileMenu_Status, "", "", [], {
addClass: "status"
} ], [ e.__$$__meshim_widget_components_chatWindow_profileMenu_Edit, "", "", [], {
addClass: "edit"
} ] ], {
id: "vs"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:widgets": "meshim.widget.widgets",
"xmlns:menu": "meshim.widget.widgets.menu",
"xmlns:profileMenu": "meshim.widget.components.chatWindow.profileMenu"
} ], c = d[0].call(this, r, s, null, n.mangleIDs(s, d[3]), d[4]), h = c || this;
n.set(s, h);
var f = n.get(s + "__vs");
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var p = function() {
function t() {
h.autobind(l, "value", function() {
var t = l.getValue();
o = 0;
for (var e in t) if (t.hasOwnProperty(e)) {
if ("email$bool" == e) continue;
t[e] && o++;
}
});
h.autobind(a, "value", function(t) {
r || f.setIndex(isNaN(t) ? e() : t);
});
f.on("indexChange", function(t) {
r = !0;
a.update(t);
r = !1;
});
h.autobind(_, "value", function(t) {
n = t;
e();
});
h.on("hide", e);
}
function e() {
f.setIndex(n ? 1 : o ? 0 : 2);
}
var n, o, r, s = i(41), a = s.root.$("livechat").$("ui").$("chat_window").$("profile_menu").$("index$int"), _ = s.root.$("livechat").$("profile").$("logged_in$bool"), l = s.root.$("livechat").$("settings").$("login").$("allowed_types");
t();
}();
for (var g in p) p.hasOwnProperty(g) && (h[g] = p[g]);
h.fire && h.fire("init");
h.setStyle && h.setStyle(_);
h.setAttributes && h.setAttributes(u);
"function" == typeof h.addChildren ? h.addChildren(l) : n.addChildren(h, l);
if (h !== this) {
h.__jx__constructor = a;
h.__jx__native = !1;
}
return h;
}
var a;
t.prototype = r(e.__$$__meshim_widget_widgets_Menu.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__meshim_widget_widgets_Menu;
t.__jx__jcss = {};
s(t, "meshim_widget_components_chatWindow_ProfileMenu");
a = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(4), i(21), i(31), i(15), i(3));
}, function(t, e, i) {
(function(e, n, o, r, s, a) {
e.__$$__jx_ui_Widget = i(18);
e.__$$__meshim_widget_widgets_menu_Section = i(272);
e.__$$__meshim_widget_widgets_menu_Header = i(292);
e.__$$__meshim_widget_widgets_menu_Item = i(274);
t.exports = function() {
function t(s, a, l, u, d) {
if (!(this instanceof t)) return new t(s, a, l, u, d);
a = a || n.generateID();
var c = o(139), h = o(140), f = [ e.__$$__jx_ui_Widget, "", "", [ [ e.__$$__meshim_widget_widgets_menu_Section, "external_section", "", [ [ e.__$$__meshim_widget_widgets_menu_Header, "", "", [ c ], {
addClass: "item"
} ], [ e.__$$__jx_ui_Widget, "types", "", [], {
id: "types",
addClass: "external_types"
} ] ], {
id: "external_section"
} ], [ e.__$$__meshim_widget_widgets_menu_Section, "email", "", [ [ e.__$$__meshim_widget_widgets_menu_Item, "", "", [ h ], {} ] ], {
id: "email",
addClass: "border_top"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:widgets": "meshim.widget.widgets",
"xmlns:menu": "meshim.widget.widgets.menu"
} ], p = f[0].call(this, s, a, null, n.mangleIDs(a, f[3]), f[4]), g = p || this;
n.set(a, g);
var m = n.get(a + "__external_section"), $ = n.get(a + "__types"), b = n.get(a + "__email");
if (!t.__jx__jcss_generated) {
r.generate(s, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var w = function() {
function t() {
l.mobile(g);
n = h.getValue();
for (var t in f) if (f.hasOwnProperty(t)) if (n) f[t] = new s($, null, null, null, {
name: t,
addClass: "float " + t,
icon: p[t] + "_out"
}); else {
f[t] = new a($, null, null, null, {
name: t
});
new r(f[t], null, null, null, {
addClass: "menu_icon " + t,
icon: p[t]
});
new u(f[t], null, null, [ _.external_login[t] || t ], {
addClass: "label"
});
}
g.autobind(d, "value", e);
$.on("click", function(t) {
var e = t.target.jx_wrapper;
if (e != $) {
for (;e.parentNode != $; ) e = e.parentNode;
var i = e.getName && e.getName();
i && o.livechat.doExternalLogin(i);
}
});
b.on("click", function() {
c.update(2);
});
}
function e() {
var t = d.getValue();
if (t) {
n = h.getValue();
b.setDisplay(t.email$bool ? "" : "none");
var e, i;
for (var o in f) if (f.hasOwnProperty(o)) {
i = t[o + "$bool"];
f[o].setDisplay(i ? "" : "none");
n && i && f[o].setDisplay("inline-block");
i && (e = !0);
}
m.setDisplay(e ? "" : "none");
}
}
var n, o = i(41), r = i(160), s = i(161), a = i(274), _ = i(99), l = i(97), u = i(104), d = o.root.$("livechat").$("settings").$("login").$("allowed_types"), c = o.root.$("livechat").$("ui").$("chat_window").$("profile_menu").$("index$int"), h = o.root.$$("livechat.ui.mobile$bool"), f = {
facebook: null,
twitter: null,
google: null
}, p = {
facebook: "facebook",
twitter: "twitter",
google: "google_2016"
};
t();
}();
for (var x in w) w.hasOwnProperty(x) && (g[x] = w[x]);
g.fire && g.fire("init");
g.setStyle && g.setStyle(l);
g.setAttributes && g.setAttributes(d);
"function" == typeof g.addChildren ? g.addChildren(u) : n.addChildren(g, u);
if (g !== this) {
g.__jx__constructor = _;
g.__jx__native = !1;
}
return g;
}
var _;
t.prototype = s(e.__$$__jx_ui_Widget.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_Widget;
t.__jx__jcss = {
".meshim_widget_widgets_menu_Item": {
".label": {
marginLeft: "10px"
},
"&[name=facebook] .menu_icon": {
top: "1px"
},
"&[name=google]   .menu_icon": {
top: "2px"
}
},
".menu_icon": {
position: "relative",
float: "left",
fontSize: "$$fontSizeXL"
},
"&.mobile": {
".external_types": {
margin: "$$menuItemPadding"
}
}
};
a(t, "meshim_widget_components_chatWindow_profileMenu_Login");
_ = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(4), i(21), i(23), i(31), i(15), i(3));
}, function(t, e, i) {
(function(e, n, o, r, s) {
e.__$$__jx_ui_Widget = i(18);
t.exports = function() {
function t(r, s, a, _, l) {
if (!(this instanceof t)) return new t(r, s, a, _, l);
s = s || n.generateID();
var u = [ e.__$$__jx_ui_Widget, "", "", [], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui"
} ], d = u[0].call(this, r, s, null, n.mangleIDs(s, u[3]), u[4]), c = d || this;
n.set(s, c);
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var h = void 0;
for (var f in h) h.hasOwnProperty(f) && (c[f] = h[f]);
c.fire && c.fire("init");
c.setStyle && c.setStyle(a);
c.setAttributes && c.setAttributes(l);
"function" == typeof c.addChildren ? c.addChildren(_) : n.addChildren(c, _);
if (c !== this) {
c.__jx__constructor = i;
c.__jx__native = !1;
}
return c;
}
var i;
t.prototype = r(e.__$$__jx_ui_Widget.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_Widget;
t.__jx__jcss = {
"**self": {
marginBottom: "$$margin",
color: "$$menuHeaderColor"
},
"&.item": {
margin: "$$menuItemPadding"
}
};
s(t, "meshim_widget_widgets_menu_Header");
i = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(4), i(21), i(31), i(15), i(3));
}, function(t, e, i) {
(function(e, n, o, r, s, a) {
e.__$$__jx_ui_Widget = i(18);
e.__$$__meshim_widget_widgets_menu_Section = i(272);
e.__$$__meshim_widget_widgets_VisitorProfileCard = i(294);
e.__$$__meshim_widget_widgets_iconFont_Button = i(155);
t.exports = function() {
function t(s, a, l, u, d) {
if (!(this instanceof t)) return new t(s, a, l, u, d);
a = a || n.generateID();
var c = o(150), h = o(151), f = [ e.__$$__jx_ui_Widget, "", "", [ [ e.__$$__meshim_widget_widgets_menu_Section, "", "", [ [ e.__$$__jx_ui_Widget, "external", "", [ [ e.__$$__jx_ui_Widget, "", "", [ [ e.__$$__meshim_widget_widgets_VisitorProfileCard, "profile_card", "", [], {
id: "profile_card",
addClass: "profile_card"
} ], [ e.__$$__jx_ui_Widget, "", "", [ [ e.__$$__meshim_widget_widgets_iconFont_Button, "sign_out", "", [], {
id: "sign_out",
icon: "dustbin",
title: c
} ] ], {
addClass: "controls"
} ] ], {
addClass: "positioned"
} ], [ e.__$$__jx_ui_Widget, "phone_container_external", "", [ [ e.__$$__jx_ui_Widget, "", "", [ [ e.__$$__jx_ui_Widget, "phone_text_external", "", [], {
id: "phone_text_external",
addClass: "phone_text_external break_word"
} ], [ e.__$$__jx_ui_Widget, "", "", [ [ e.__$$__meshim_widget_widgets_iconFont_Button, "edit_external_phone", "", [], {
id: "edit_external_phone",
icon: "pencil",
title: h
} ] ], {
addClass: "controls"
} ] ], {
addClass: "positioned"
} ] ], {
id: "phone_container_external",
addClass: "phone_container_external"
} ] ], {
id: "external"
} ], [ e.__$$__jx_ui_Widget, "name_email", "", [ [ e.__$$__jx_ui_Widget, "", "", [ [ e.__$$__jx_ui_Widget, "name", "", [], {
id: "name",
addClass: "name break_word"
} ], [ e.__$$__jx_ui_Widget, "email", "", [], {
id: "email",
addClass: "email break_word"
} ], [ e.__$$__jx_ui_Widget, "phone_text", "", [], {
id: "phone_text",
addClass: "phone break_word"
} ] ], {
addClass: "name_email"
} ], [ e.__$$__jx_ui_Widget, "edit_controls", "", [ [ e.__$$__meshim_widget_widgets_iconFont_Button, "edit", "", [], {
id: "edit",
icon: "pencil",
title: h
} ], [ e.__$$__meshim_widget_widgets_iconFont_Button, "sign_out_name_email", "", [], {
id: "sign_out_name_email",
icon: "dustbin",
title: c
} ] ], {
id: "edit_controls",
addClass: "controls"
} ] ], {
id: "name_email",
addClass: "positioned"
} ] ], {
addClass: "flow"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:widgets": "meshim.widget.widgets",
"xmlns:menu": "meshim.widget.widgets.menu"
} ], p = f[0].call(this, s, a, null, n.mangleIDs(a, f[3]), f[4]), g = p || this;
n.set(a, g);
var m = n.get(a + "__external"), $ = n.get(a + "__profile_card"), b = n.get(a + "__sign_out"), w = n.get(a + "__phone_container_external"), x = n.get(a + "__phone_text_external"), v = n.get(a + "__edit_external_phone"), y = n.get(a + "__name_email"), j = n.get(a + "__name"), C = n.get(a + "__email"), S = n.get(a + "__phone_text"), A = n.get(a + "__edit_controls"), k = n.get(a + "__edit"), I = n.get(a + "__sign_out_name_email");
if (!t.__jx__jcss_generated) {
r.generate(s, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var N = function() {
function t() {
function t() {
if (e) {
w.setDisplay(o ? "" : "none");
x.setText(n || _.placeholder.phone);
x[n ? "removeClass" : "addClass"]("placeholder");
} else if (o && n) {
S.setText(n);
S.setDisplay("");
} else S.setDisplay("none");
}
function i() {
T.update(2);
}
g.autobind(c, "value", function(t) {
A.setDisplay(t ? "none" : "");
});
$.setDataNode(u);
a.mobile(g);
a.rtl(g);
g.autobind(f, "value", function(t) {
s.isDefaultName(t) && (t = "");
j.setText(t || "");
j.setDisplay(t ? "" : "none");
});
g.autobind(p, "value", function(t) {
C.setText(t || "");
C.setDisplay(t ? "" : "none");
});
g.autobind(N, "value", function(e) {
n = e;
t();
});
g.autobind(B, "value", function(e) {
o = e;
t();
});
g.autobind(h, "value", function(i) {
e = i;
if (i) {
m.setDisplay("");
y.setDisplay("none");
} else {
m.setDisplay("none");
y.setDisplay("");
}
t();
});
k.on("click", i);
v.on("click", i);
x.on("click", function() {
n || i();
});
b.on("click", function() {
r.livechat.doExternalLogout();
});
I.on("click", function() {
u.write({
display_name$string: "",
email$string: "",
phone$string: ""
});
D.update("");
});
}
var e, n, o, r = i(41), s = (i(52), i(51)), a = i(97), _ = i(99), l = r.root.$("livechat"), u = l.$("profile"), d = l.$("ui"), c = d.$("visitor").$("authenticated$bool"), h = u.$("auth").$("type$string"), f = u.$("display_name$string"), p = u.$("email$string"), N = u.$("phone$string"), B = l.$("settings").$("login").$("phone_display$bool"), T = d.$("chat_window").$("profile_menu").$("index$int"), D = d.$("chat_window").$("menu_stack_name$string");
t();
}();
for (var B in N) N.hasOwnProperty(B) && (g[B] = N[B]);
g.fire && g.fire("init");
g.setStyle && g.setStyle(l);
g.setAttributes && g.setAttributes(d);
"function" == typeof g.addChildren ? g.addChildren(u) : n.addChildren(g, u);
if (g !== this) {
g.__jx__constructor = _;
g.__jx__native = !1;
}
return g;
}
var _;
t.prototype = s(e.__$$__jx_ui_Widget.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_Widget;
t.__jx__jcss = {
"**self": {
position: "relative"
},
".name_email": {
".name": {
paddingRight: "40px"
}
},
"&.rtl .name_email": {
".name": {
paddingRight: 0,
paddingLeft: "40px"
}
},
".controls": {
position: "absolute",
"top, right": 0,
".meshim_widget_widgets_iconFont_Button": {
display: "inline-block",
cursor: "pointer",
height: "100%",
paddingLeft: "5px",
color: "$$menuHeaderColor",
"&:hover, &:focus": {
color: "$$menuColor"
}
}
},
"&.rtl .controls": {
right: "auto",
left: 0,
".meshim_widget_widgets_iconFont_Button": {
paddingLeft: 0,
paddingRight: "5px"
}
},
".break_word": {
wordWrap: "break-word"
},
".name, .email, .phone": {
lineHeight: 1.5
},
".phone_text_external": {
paddingRight: "40px",
"&.placeholder": {
cursor: "pointer",
color: "$$inputPlaceholderColor",
fontStyle: "$$inputPlaceholderFontStyle"
}
},
"&.rtl .phone_text_external": {
paddingRight: 0,
paddingLeft: "40px"
},
".profile_card": {
cursor: "default",
".avatar_cell": {
width: "32px"
},
".content_cell": {
paddingLeft: "10px"
},
".profile_name": {
whiteSpace: "nowrap",
paddingRight: "20px"
}
},
"&.rtl .profile_card": {
".content_cell": {
paddingLeft: 0,
paddingRight: "10px"
},
".profile_name, .profile_email, .profile_title": {
paddingRight: 0,
paddingLeft: "20px"
}
},
".name": {
fontWeight: "bold"
},
".positioned": {
position: "relative"
},
".phone_container_external": {
"marginTop, paddingTop": "10px",
borderTopWidth: "$$menuBorderWidth",
borderTopStyle: "$$menuBorderStyle",
borderTopColor: "$$menuBorderColor"
},
"&.mobile": {
".controls": {
height: "100%",
".meshim_widget_widgets_iconFont_Button": {
"paddingRight, paddingLeft": "10px"
}
},
".name_email": {
".name, .email": {
paddingRight: "80px"
}
},
".profile_card": {
".profile_name, .profile_email, .profile_title": {
paddingRight: "40px"
}
},
".phone_text_external": {
lineHeight: "32px"
}
},
"&.mobile.rtl": {
".name_email": {
".name, .email": {
paddingRight: 0,
paddingLeft: "80px"
}
},
".profile_card": {
".profile_name, .profile_email, .profile_title": {
paddingRight: 0,
paddingLeft: "40px"
}
}
}
};
a(t, "meshim_widget_components_chatWindow_profileMenu_Status");
_ = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(4), i(21), i(23), i(31), i(15), i(3));
}, function(t, e, i) {
(function(e, n, o, r, s) {
e.__$$__meshim_widget_widgets_ProfileCard = i(197);
t.exports = function() {
function t(r, s, a, _, l) {
if (!(this instanceof t)) return new t(r, s, a, _, l);
s = s || n.generateID();
var u = [ e.__$$__meshim_widget_widgets_ProfileCard, "", "", [], {
xmlns: "meshim.widget.widgets"
} ], d = u[0].call(this, r, s, null, n.mangleIDs(s, u[3]), u[4]), c = d || this;
n.set(s, c);
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var h = function() {
function t(t) {
i.call(c, t);
t && c.setTitleNode(t.$("email$string"));
}
function e() {
i = c.setDataNode || function() {};
c.setDataNode = t;
}
var i;
e();
}();
for (var f in h) h.hasOwnProperty(f) && (c[f] = h[f]);
c.fire && c.fire("init");
c.setStyle && c.setStyle(a);
c.setAttributes && c.setAttributes(l);
"function" == typeof c.addChildren ? c.addChildren(_) : n.addChildren(c, _);
if (c !== this) {
c.__jx__constructor = i;
c.__jx__native = !1;
}
return c;
}
var i;
t.prototype = r(e.__$$__meshim_widget_widgets_ProfileCard.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__meshim_widget_widgets_ProfileCard;
t.__jx__jcss = {};
s(t, "meshim_widget_widgets_VisitorProfileCard");
i = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(4), i(21), i(31), i(15), i(3));
}, function(t, e, i) {
(function(e, n, o, r, s, a) {
e.__$$__meshim_widget_widgets_ConnAwareForm = i(143);
e.__$$__meshim_widget_widgets_menu_Section = i(272);
e.__$$__meshim_widget_widgets_menu_Header = i(292);
e.__$$__jx_ui_Widget = i(18);
e.__$$__meshim_widget_widgets_TextField = i(131);
e.__$$__meshim_widget_widgets_ErrorMessage = i(156);
e.__$$__meshim_widget_widgets_EmailField = i(157);
e.__$$__meshim_widget_widgets_PhoneField = i(159);
e.__$$__meshim_widget_widgets_Controls = i(263);
e.__$$__meshim_widget_widgets_ConnAwareSubmit = i(178);
e.__$$__meshim_widget_widgets_Button = i(162);
t.exports = function() {
function t(s, a, l, u, d) {
if (!(this instanceof t)) return new t(s, a, l, u, d);
a = a || n.generateID();
var c = o(141), h = o(142), f = o(143), p = o(144), g = o(145), m = o(146), $ = o(147), b = o(148), w = o(149), x = [ e.__$$__meshim_widget_widgets_ConnAwareForm, "", "", [ [ e.__$$__meshim_widget_widgets_menu_Section, "internal_section", "", [ [ e.__$$__meshim_widget_widgets_menu_Header, "label", "", [ c ], {
id: "label",
addClass: "label",
selectable: "false"
} ], [ e.__$$__jx_ui_Widget, "name_email_container", "", [ [ e.__$$__meshim_widget_widgets_TextField, "name", "", [], {
id: "name",
placeholder: h,
required: "true",
addClass: "standalone mobile_error_icon"
} ], [ e.__$$__meshim_widget_widgets_ErrorMessage, "name_error", "", [ f ], {
id: "name_error",
useDisplay: "true"
} ], [ e.__$$__meshim_widget_widgets_EmailField, "email", "", [], {
id: "email",
placeholder: p,
required: "true",
addClass: "standalone mobile_error_icon"
} ], [ e.__$$__meshim_widget_widgets_ErrorMessage, "email_error", "", [ g ], {
id: "email_error",
useDisplay: "true"
} ] ], {
id: "name_email_container"
} ], [ e.__$$__jx_ui_Widget, "phone_container", "", [ [ e.__$$__meshim_widget_widgets_PhoneField, "phone", "", [], {
id: "phone",
placeholder: m,
addClass: "standalone mobile_error_icon"
} ], [ e.__$$__meshim_widget_widgets_ErrorMessage, "phone_error", "", [ $ ], {
id: "phone_error",
useDisplay: "true"
} ] ], {
id: "phone_container"
} ], [ e.__$$__meshim_widget_widgets_Controls, "", "", [ [ e.__$$__meshim_widget_widgets_ConnAwareSubmit, "", "", [], {
placement: "primary",
value: b,
addClass: "save short wide"
} ], [ e.__$$__meshim_widget_widgets_Button, "cancel", "", [ w ], {
placement: "secondary",
id: "cancel",
addClass: "cancel secondary wide"
} ] ], {
addClass: "controls_margin"
} ] ], {
id: "internal_section",
addClass: "flow"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:widgets": "meshim.widget.widgets",
"xmlns:menu": "meshim.widget.widgets.menu",
noValidate: "true"
} ], v = x[0].call(this, s, a, null, n.mangleIDs(a, x[3]), x[4]), y = v || this;
n.set(a, y);
var j = n.get(a + "__internal_section"), C = n.get(a + "__label"), S = n.get(a + "__name_email_container"), A = n.get(a + "__name"), k = n.get(a + "__name_error"), I = n.get(a + "__email"), N = n.get(a + "__email_error"), B = n.get(a + "__phone_container"), T = n.get(a + "__phone"), D = n.get(a + "__phone_error"), E = n.get(a + "__cancel");
if (!t.__jx__jcss_generated) {
r.generate(s, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var O = function() {
function t() {
l.mobile(y);
A.setLabelElement(C).setErrorMessageElement(k).setValidity(!0);
I.setErrorMessageElement(N).setValidity(!0);
T.setErrorMessageElement(D).setValidity(!0);
y.autobind(p, "value", function(t) {
r = t;
});
y.autobind(h, "value", function(t) {
o = t;
S.setDisplay(t ? "none" : "");
});
y.autobind(g, "value", function(t) {
_.isDefaultName(t) && (t = "");
t = t || "";
A.setValue(t);
A.setInitialValue(t);
t && A.hidePlaceholder();
});
y.autobind(m, "value", function(t) {
t = t || "";
I.setValue(t);
I.setInitialValue(t);
t && I.hidePlaceholder();
});
y.autobind($, "value", function(t) {
t = t || "";
T.setValue(t);
T.setInitialValue(t);
t && T.hidePlaceholder();
});
y.autobind(O, "value", function(t) {
s = t;
B.setDisplay(t ? "" : "none");
});
y.autobind(b, "value", function(t) {
"profile_menu" == t && e();
});
y.autobind(w, "value", function(t) {
2 == t && e();
});
E.on("click", function(t) {
t.preventDefault();
b.update("");
});
y.onConnectedAndSubmit(function(t) {
t.preventDefault();
if (y.validate(!0)) {
var e = {};
if (!o) {
e.name = A.getValue().trim();
e.email = I.getValue().trim();
}
s && (e.phone = T.getValue().trim());
a.livechat.updateProfile(e);
b.update("");
}
});
y.autobind(v, "value", n);
y.autobind(P, "value", function() {
var t = P.getValue("profile_required$bool"), e = P.$("form").$("4").getValue("required$bool");
A.setRequired(t);
I.setRequired(t);
T.setRequired(e);
});
}
function e() {
A.reset();
I.reset();
T.reset();
}
function n() {
var t = v.getValue();
t && j.setDisplay(t.email$bool ? "" : "none");
}
var o, r, s, a = i(41), _ = i(51), l = i(97), u = a.root.$("livechat"), d = u.$("profile"), c = u.$("ui"), h = d.$("auth").$("type$string"), f = c.$("chat_window"), p = d.$("logged_in$bool"), g = d.$("display_name$string"), m = d.$("email$string"), $ = d.$("phone$string"), b = f.$("menu_stack_name$string"), w = f.$("profile_menu").$("index$int"), x = u.$("settings").$("login"), v = x.$("allowed_types"), O = x.$("phone_display$bool"), P = u.$("settings").$("forms").$("pre_chat_form");
t();
}();
for (var P in O) O.hasOwnProperty(P) && (y[P] = O[P]);
y.fire && y.fire("init");
y.setStyle && y.setStyle(l);
y.setAttributes && y.setAttributes(d);
"function" == typeof y.addChildren ? y.addChildren(u) : n.addChildren(y, u);
if (y !== this) {
y.__jx__constructor = _;
y.__jx__native = !1;
}
return y;
}
var _;
t.prototype = s(e.__$$__meshim_widget_widgets_ConnAwareForm.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__meshim_widget_widgets_ConnAwareForm;
t.__jx__jcss = {
".cancel": {
display: "none"
},
".controls_margin": {
marginTop: "10px"
},
"&.mobile": {
".cancel": {
display: "inline-block"
},
".external": {
marginBottom: "20px",
".header": {
padding: "10px 0",
borderTop: "none"
}
}
}
};
a(t, "meshim_widget_components_chatWindow_profileMenu_Edit");
_ = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(4), i(21), i(23), i(31), i(15), i(3));
}, function(t, e, i) {
(function(e, n, o, r, s, a) {
e.__$$__meshim_widget_widgets_Menu = i(271);
e.__$$__meshim_widget_widgets_menu_Section = i(272);
e.__$$__jx_ui_Widget = i(18);
e.__$$__meshim_widget_widgets_Controls = i(263);
e.__$$__meshim_widget_widgets_Button = i(162);
t.exports = function() {
function t(s, a, l, u, d) {
if (!(this instanceof t)) return new t(s, a, l, u, d);
a = a || n.generateID();
var c = o(114), h = o(115), f = [ e.__$$__meshim_widget_widgets_Menu, "", "", [ [ e.__$$__meshim_widget_widgets_menu_Section, "", "", [ [ e.__$$__jx_ui_Widget, "message", "", [], {
id: "message",
addClass: "message"
} ], [ e.__$$__meshim_widget_widgets_Controls, "", "", [ [ e.__$$__meshim_widget_widgets_Button, "end_chat", "", [ c ], {
placement: "primary",
id: "end_chat",
addClass: "wide short"
} ], [ e.__$$__meshim_widget_widgets_Button, "cancel", "", [ h ], {
placement: "secondary",
id: "cancel",
addClass: "wide secondary short"
} ] ], {} ] ], {
addClass: "flow"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:widgets": "meshim.widget.widgets",
"xmlns:menu": "meshim.widget.widgets.menu"
} ], p = f[0].call(this, s, a, null, n.mangleIDs(a, f[3]), f[4]), g = p || this;
n.set(a, g);
var m = n.get(a + "__message"), $ = n.get(a + "__end_chat"), b = n.get(a + "__cancel");
if (!t.__jx__jcss_generated) {
r.generate(s, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var w = function() {
function t() {
g.autobind(a, "value", function(t) {
m.setText(t || n.end_chat_menu_message || "");
});
$.on("click", function() {
if (_.getValue() && u.getValue() && !d.getValue()) {
c.update(!0);
s.update("rating_panel");
} else e.livechat.endChat();
r.update("");
});
b.on("click", function() {
r.update("");
});
}
var e = i(41), n = i(99), o = e.root.$("livechat"), r = o.$("ui").$("chat_window").$("menu_stack_name$string"), s = o.$("ui").$("chat_window").$("main_stack_name$string"), a = o.$("settings").$("end_chat_menu").$("message$string"), _ = o.$("settings").$("rating").$("enabled$bool"), l = o.$("channel"), u = l.$("served$bool"), d = l.$("rating$string"), c = o.$("ui").$("chat_window").$("rating_panel").$("end_chat$bool");
t();
}();
for (var x in w) w.hasOwnProperty(x) && (g[x] = w[x]);
g.fire && g.fire("init");
g.setStyle && g.setStyle(l);
g.setAttributes && g.setAttributes(d);
"function" == typeof g.addChildren ? g.addChildren(u) : n.addChildren(g, u);
if (g !== this) {
g.__jx__constructor = _;
g.__jx__native = !1;
}
return g;
}
var _;
t.prototype = s(e.__$$__meshim_widget_widgets_Menu.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__meshim_widget_widgets_Menu;
t.__jx__jcss = {
".message": {
marginBottom: "10px"
}
};
a(t, "meshim_widget_components_chatWindow_EndChatMenu");
_ = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(4), i(21), i(23), i(31), i(15), i(3));
}, function(t, e, i) {
(function(e, n, o, r, s, a) {
e.__$$__meshim_widget_widgets_Menu = i(271);
e.__$$__meshim_widget_widgets_menu_Section = i(272);
e.__$$__meshim_widget_widgets_ConnAwareForm = i(143);
e.__$$__meshim_widget_widgets_menu_Header = i(292);
e.__$$__meshim_widget_widgets_EmailField = i(157);
e.__$$__meshim_widget_widgets_ErrorMessage = i(156);
e.__$$__meshim_widget_widgets_Controls = i(263);
e.__$$__meshim_widget_widgets_ConnAwareSubmit = i(178);
e.__$$__meshim_widget_widgets_Button = i(162);
t.exports = function() {
function t(s, a, l, u, d) {
if (!(this instanceof t)) return new t(s, a, l, u, d);
a = a || n.generateID();
var c = o(116), h = o(117), f = o(118), p = o(119), g = o(120), m = [ e.__$$__meshim_widget_widgets_Menu, "", "", [ [ e.__$$__meshim_widget_widgets_menu_Section, "", "", [ [ e.__$$__meshim_widget_widgets_ConnAwareForm, "form", "", [ [ e.__$$__meshim_widget_widgets_menu_Header, "label", "", [ c ], {
id: "label",
addClass: "label",
selectable: "false"
} ], [ e.__$$__meshim_widget_widgets_EmailField, "email", "", [], {
id: "email",
addClass: "email mobile_error_icon",
placeholder: h,
required: "true"
} ], [ e.__$$__meshim_widget_widgets_ErrorMessage, "error_message", "", [ f ], {
id: "error_message",
useDisplay: "true"
} ], [ e.__$$__meshim_widget_widgets_Controls, "", "", [ [ e.__$$__meshim_widget_widgets_ConnAwareSubmit, "", "", [], {
placement: "primary",
value: p,
addClass: "short wide"
} ], [ e.__$$__meshim_widget_widgets_Button, "cancel", "", [ g ], {
placement: "secondary",
id: "cancel",
addClass: "secondary short wide"
} ] ], {
addClass: "controls_margin"
} ] ], {
id: "form",
noValidate: "true"
} ] ], {
addClass: "flow"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:widgets": "meshim.widget.widgets",
"xmlns:menu": "meshim.widget.widgets.menu"
} ], $ = m[0].call(this, s, a, null, n.mangleIDs(a, m[3]), m[4]), b = $ || this;
n.set(a, b);
var w = n.get(a + "__form"), x = n.get(a + "__label"), v = n.get(a + "__email"), y = n.get(a + "__error_message"), j = n.get(a + "__cancel");
if (!t.__jx__jcss_generated) {
r.generate(s, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var C = function() {
function t() {
v.setLabelElement(x).setErrorMessageElement(y).setValidity(!0);
w.onConnectedAndSubmit(function(t) {
t.preventDefault();
if (v.validate(!0)) {
var e = v.getValue();
l.getValue() ? r.write({
email_transcript$string: e
}) : r.write({
email_last_transcript$string: e
});
a.update(e);
s.update("email_transcript_notification");
v.reset();
}
});
j.on("click", function() {
s.update("");
});
b.autobind(s, "value", function(t) {
if (t == b.getName()) {
v.setValidity(!0);
v.focus();
}
});
b.autobind(_, "value", function(t) {
u.activeElement !== v.dom && v.setValue(t || "");
});
}
var e = i(41), n = e.root.$("livechat"), o = n.$("ui").$("chat_window"), r = n.$("channel"), s = o.$("menu_stack_name$string"), a = o.$("email_transcript_notification").$("last_sent_email$string"), _ = n.$("profile").$("email$string"), l = r.$("chatting$bool"), u = b.dom.ownerDocument;
t();
}();
for (var S in C) C.hasOwnProperty(S) && (b[S] = C[S]);
b.fire && b.fire("init");
b.setStyle && b.setStyle(l);
b.setAttributes && b.setAttributes(d);
"function" == typeof b.addChildren ? b.addChildren(u) : n.addChildren(b, u);
if (b !== this) {
b.__jx__constructor = _;
b.__jx__native = !1;
}
return b;
}
var _;
t.prototype = s(e.__$$__meshim_widget_widgets_Menu.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__meshim_widget_widgets_Menu;
t.__jx__jcss = {
".controls_margin": {
marginTop: "10px"
}
};
a(t, "meshim_widget_components_chatWindow_EmailTranscriptMenu");
_ = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(4), i(21), i(23), i(31), i(15), i(3));
}, function(t, e, i) {
(function(e, n, o, r, s, a, _, l) {
e.__$$__meshim_widget_widgets_Menu = i(271);
e.__$$__meshim_widget_widgets_menu_Section = i(272);
e.__$$__jx_ui_Localizer = i(125);
e.__$$__jx_ui_Label = i(104);
t.exports = function() {
function t(_, l, d, c, h) {
if (!(this instanceof t)) return new t(_, l, d, c, h);
l = l || n.generateID();
var f = o(121), p = [ e.__$$__meshim_widget_widgets_Menu, "", "", [ [ e.__$$__meshim_widget_widgets_menu_Section, "", "", [ [ e.__$$__jx_ui_Localizer, "localizer", "", [ [ e.__$$__jx_ui_Label, "", "", [], {
addClass: "email"
} ] ], {
id: "localizer",
delimiter: "@@@@"
} ] ], {
addClass: "flow"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:widgets": "meshim.widget.widgets",
"xmlns:menu": "meshim.widget.widgets.menu"
} ], g = p[0].call(this, _, l, null, n.mangleIDs(l, p[3]), p[4]), m = g || this;
n.set(l, m);
var $ = n.get(l + "__localizer");
if (!t.__jx__jcss_generated) {
r.generate(_, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var b = function() {
function t() {
m.autobind(d, "value", function(t) {
l = t;
u && window.clearTimeout(u);
if (t == m.getName()) {
_ && a(function() {
m.addClass("fade_out");
});
u = window.setTimeout(e, r);
} else _ && a(function() {
m.removeClass("fade_out");
});
});
m.autobind(c, "value", function(t) {
$.setContent(f.replace("<email>", t));
});
o.onTransitionEnd(m, m, e);
}
function e() {
"email_transcript_notification" == l && d.update("");
}
var n = i(41), o = i(51), r = 4100, _ = o.isStyleSupported("transition");
s.isFF && (_ = !1);
var l, u, d = n.root.$("livechat").$("ui").$("chat_window").$("menu_stack_name$string"), c = n.root.$("livechat").$("ui").$("chat_window").$("email_transcript_notification").$("last_sent_email$string");
t();
}();
for (var w in b) b.hasOwnProperty(w) && (m[w] = b[w]);
m.fire && m.fire("init");
m.setStyle && m.setStyle(d);
m.setAttributes && m.setAttributes(h);
"function" == typeof m.addChildren ? m.addChildren(c) : n.addChildren(m, c);
if (m !== this) {
m.__jx__constructor = u;
m.__jx__native = !1;
}
return m;
}
var u;
t.prototype = _(e.__$$__meshim_widget_widgets_Menu.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__meshim_widget_widgets_Menu;
t.__jx__jcss = {
"**self": {
transition: "opacity 0.5s linear 3.5s",
opacity: 1,
"&.fade_out": {
opacity: 0
}
},
".email": {
fontWeight: "bold"
}
};
l(t, "meshim_widget_components_chatWindow_EmailTranscriptNotification");
u = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(4), i(21), i(23), i(31), i(7), i(13), i(15), i(3));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t, e, i, o, a) {
if (!(this instanceof n)) return new n(t, e, i, o, a);
s.call(this, t, e, i, o, a);
this.setBase64(r);
this.setFont("zopim");
}
var o = i(15), r = {
woff: "d09GRgABAAAAADF8ABEAAAAARrwAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABGRlRNAAAxWAAAABsAAAAcf/ER1UdERUYAADE8AAAAHAAAAB4AJwA8T1MvMgAAAfAAAABAAAAAVldBZEtjbWFwAAACpAAAASYAAALul/WZpGN2dCAAAAWwAAAADAAAAAwApgDFZnBnbQAAA8wAAAGxAAACZVO0L6dnYXNwAAAxNAAAAAgAAAAIAAAAEGdseWYAAAYsAAAoxAAAOQBjxgTmaGVhZAAAAYAAAAAwAAAANipjvSBoaGVhAAABsAAAAB4AAAAkI2YeimhtdHgAAAIwAAAAcgAAAMLrWAZ/bG9jYQAABbwAAABuAAAAbibXF3JtYXhwAAAB0AAAACAAAAAgAWMDYm5hbWUAAC7wAAABWgAAAmfHg21lcG9zdAAAMEwAAADnAAACTzaaqDdwcmVwAAAFgAAAAC4AAAAusPIrFHdlYmYAADF0AAAABgAAAAaMKlnAeNpjYGRgYADishs6AvH8Nl8Z5FkYQODqM5siKL3i/5//nPIZYHEOBiYQBQBCTQvveNpjYGRgYGH495WBQT7z/x8gmcEAFEEB2gCAnwUvAAAAAQAAADYBmQAVAAAAAAACAAEAAgAWAAABAAHFAAAAAHjaY2BkjWKcwMDKwMLUyXSGgYGhH0IzvmYwYuRgYGBiYGVmwAoC0lxTGBwYFP//ZwHzWRgYuYEUI4gNAM80CUB42mNhgADGUAYGFgYGHiAG0cxAfJyF4f9/IH0EKlYMxBVQtgSIZvwCZusA1f2BiP//C6RToWrUgTgaiNWAOIonlyGCw44hAiqHhMF2cAHxN6iYjeAjiDrWHgYB4QYGBvlMsDgTGDJC3csGdTgDAAn1E7cAAHjazdDNSsNAFAXgM2mqUDVqW2uXndJkFi3i76aPIOi7qOBzFLqo3fUBfIO6dO1SGsEQ3MTudRccT+bGjSCCKwe+OTPDhMy9AKoAKjSgGt1DcYZ65aly55Xy3McNs4sOVx40+pjrsZ7oqc70slsP82gYzUxgmqaVtq3lXbkz+uEOrLUvNranyXVylVwmYdJ7zp8a8WN8EfsLu/jo7Mhbfhnr7r29crfr/iuKuvoln+Yl1qxHNOZ6hTkRRZ16KrDGzETxB70U2GAL6gIBEOYCm0A0FNhizgS2ARMI8BvTFGgwWwLcp4y0zYk1v53ROdd7zFsH2Gc+OMABM3OAQ6j3VQc4YtYc4Jh55wAn7A/r/Gqm8jh537qoyn7J8PGPR/WP330C0A5ZfQAAeNpdUbtOW0EQ3Q0PA4HE2CA52hSzmZDGe6EFCcTVjWJkO4XlCGk3cpGLcQEfQIFEDdqvGaChpEibBiEXSHxCPiESM2uIojQ7O7NzzpkzS8qRqnfpa89T5ySQwt0GzTb9Tki1swD3pOvrjYy0gwdabGb0ynX7/gsGm9GUO2oA5T1vKQ8ZTTuBWrSn/tH8Cob7/B/zOxi0NNP01DoJ6SEE5ptxS4PvGc26yw/6gtXhYjAwpJim4i4/plL+tzTnasuwtZHRvIMzEfnJNEBTa20Emv7UIdXzcRRLkMumsTaYmLL+JBPBhcl0VVO1zPjawV2ys+hggyrNgQfYw1Z5DB4ODyYU0rckyiwNEfZiq8QIEZMcCjnl3Mn+pED5SBLGvElKO+OGtQbGkdfAoDZPs/88m01tbx3C+FkcwXe/GUs6+MiG2hgRYjtiKYAJREJGVfmGGs+9LAbkUvvPQJSA5fGPf50ItO7YRDyXtXUOMVYIen7b3PLLirtWuc6LQndvqmqo0inN+17OvscDnh4Lw0FjwZvP+/5Kgfo8LK40aA4EQ3o3ev+iteqIq7wXPrIn07+xWgAAALgB/4WwAY0AS7AIUFixAQGOWbFGBitYIbAQWUuwFFJYIbCAWR2wBitcWFmwFCsAAAAAAD0AWwBQAEsAOAAAAAwADAAMAFgAcACEAKwA0AD0ARgBMgFMAXYBrAHCAcoCsALwAyQDWAOUA9YEagTQBV4FwAb8CKIJdAm+CkILcAxIDLYM9g4SDuQRIBHMEkYTdBVMFcAWUBbAF2AYkBmqGdwaYBqaGxIcFhyAAAB42o17CZgcxX1vV/fM9Jw93T33fffcx849e8we2l1pb0m7Wh27ukD3DRJXQAiCwBIGAzaObcBH8hHsGL+kZmWIH05e5LwkNi+Zj/hznl7yJdiOnTj4DC/GYPzY0ftX9+wiCE6yO9tTXV1VXfX///5n1VKIgh/mNRVcKKonJISY195xyndGys18h/kJZaG8VJDKUViVx542duSxr41wKI+pa1DC1iL28a0gSmNnEevarTBKU4WemtWPSqFiE1WEcg5FQmEO2ahytWi3aiJhRigJxlA9TL8aaoTgsxoJ10Pocn1zo5FI1L/2ZKgegg/9beV79QTUb64jEX2sc5KC+V7vMK8xP6AMFCWEYKRQJSREhBB6/Bvo8c6Zb3TOoI/An3JHQXuGcjJ/w/yQUlNUTYcsJsQw33wn/9voM52bnOj76GedXZtKpN3XYdwwjGuhKNHqQPZitRzXIbjA/DUs+roPfdS30OfvvIjGfT5z3Jrwdc7S/gVf55Svb96PJqF6wWc2I6gGkqLr16lXmX9h6pRAUXS5hqpFGJOsHgbVhJEfPQrNYci+ZArG7LzkW0BeqHjU7++c9s/3+dBU5yU/mdefwbwCMC8Yp1aGFUhlZSgWhpH+TGnXDxN4pNvz5pSPTIaM0TnrnyeVfWQcivoO0K2XjMPL64M5laVImIUhwx8wHfpX0Pes78Zlk3VRZ6lbmDPMrZSeopqohuIhIY44dFYXQhdep0f/ofNoaBYvhtDR763+/hudB0Jq0udO6hxzG3OO9KkJDtREdqCo485/QGdDs4PacOf+18/RW99A50Oq5mK484l/BJLBuxIw389RWspBUQqPhYhV1Nj7EHC9VKxKQEnmtTPvvHX6Cxp/4Llvf94f0Ng7L3deTqCLnR8j25+ioxFr50dAqogd1Tovwzyc17/PfJN5BUYUKYSdeay+ho3tlkvGrCg1UQAJBKU2oVb1I5gjh+IopCvMBv6xNlv7fmA2bwh2nnDOBDqPotrsgN6F6VPxWi2++tQXHYbBGWfnp36dE0VlOlHoI8xr9CLgT6QwlccMSI0q31LL7yKoJZKGPvINhTfrPz0UIDUDPP8jkEIPVaOGqAlqK/UtChvzONvGo3k80cYzeTxYwlvauLeIw3nsgLHnZYn0trGXbzVAHAfaeIBvTUFpro3n+FYcSmK7tQBfVfdLg/jt36dsaT2HVTxmrraK6G1cukpdYVTFUg5+0HoJD7lRq+EVRKxt4AHhRUdIX8gPb4g6GnhKXMkaRxuNBp4TVuzhcShRrawRmuobeFRoFSrwaEJsVQX4nhGueOPUMOm3RcRio9BjsdodjMaPioPIXirWqjUQNikuhVkNq3GUyX3RYXfYbVZSAYIjmVGtCuJYlVlk1YRZ6FuthcKRqpWIK4A5U8i6kY4Ttf9jcuaeY4f7Bwf7Dx/7JSkMVMu7lq8t7ypXSeH45Eaz6eM2pE1lX40Wo9GiVrf1+FZd54c08+fk3uWi65Mf6ev8SsvrNB/ywCjH3zp2eKDZHDh87J7j66McX95ZqXo1+qOvGPWVe+8qRSJuV/R0ZWys/PVSNFqKgB69/g7w8kfMRYoD1HkoN7UCfE0Dx7BI9CnC3nzLJ2NC6qrMOMoR6KlkdclqwkyJiajYgSLDFPtZV+eCa3SDu3MBfdFf95vNNf9ZYcvZyXR6Mk0/kw4E0qsH2JrXVzHz6F87fylr9eurzE+Yb4NEaSgXRdliCJRIvOYg9AVyAsFZmeIsOtx5s4R06J9fT/3MxBt4jVZvCJcGPD67neeYZaTr6byNfvWzxE/NFqvPGw1J4RIyaDm9kZL13Sr1FLznIKyRopu0PYCImDtkKTITOZLyNJIYnVTvA7Q+5xjotdqMVkcnalALWVfUqWI6P3PQUl3S2eTnVqPV1tcPz3Va3qBWOdUMEpxEVg6C/nmAeZQC4lal6iACQMivI2iBt5mR/E5NOI9YDklnOc76939vNZkSlQoU/It+q1IDV7iBQqXynPwICgmTibTxW9cqrH6/3JlatzvfBQ4GqBUX4aGlvWJx6dNXhiyMLo2wJ9/yKsJdpoKwfILdd39rMKcghRLomSdVndc1rJ4DLezxh2PJbE/Fcv7Jzs2dv0M/+j8o8Liq821WpzMZzSazwchqEa197q7HUIDwMk5FmW8wvwB7nKHq1P0U1hDZx9E8rpZwqo0LRYQbXT1wJeSltGksyQohC1Jfbl8RylmoAo3Xi9KtEAWCGmhgr4D9DSyJrUgKxDQLkuzQEJkWxFZPFb7LAjY3sFHEHEh31CGIVygj5wc5JhJMlqbIbqUshTWKrIYJquR7CxHMASQ/UlcIon0IBFeKDzePnrzn/MmjA0MeyVMqLmz/xvaFYtkd95Sr01X40L9ZId8Vmrr3zPGhDcODx07dZ/V4rId3LJbKlfL2XYcsTidKS5WKtCxflteKhE5LVIz5GPMmZQZepUF/YjvxWjCTx8kSLB9HgE4ZmU58EbNtzCoeTLxNCNViCWF8DRwUWjY7ECAutjxeUG2yxupDyoLSCJakrF9ZfjxUYNENS1yqxhCZE4pVmXp1995v71uu1el3/hrR98K6YHXMoFStSsuxajXWSd6yb0+t0ajt2X/GqEJn5cpleAxrkWAtX2feAp4XqH7qFIUNsh8GPO8tEYNQhrUMyGtRA8/VhOeJNlbzrR5YUb19ha/3QJWt3Wqu8ZxuYLWAmUarJyGIK3qDh3CbF1qVXviuE92MbQK2NGQ/DvhXuVEXy/eEvxFZa7yfIjcyWQJ2lnoWtr9MWAtsHhoEnt974mhzsAxkkWkjVdYYvWDxeCyHd3a5e9jidIkXzpwYGgHOn6ZPyJS6kc9AGqDNLkoCPr8FvqAHZAP4bJLlAfgcK4EzigNAm4RMG2MRyEOoAiKKI+1WEoihJsQwEQFo2R2w9IjYEvg1Pq/D1uIIFSq1dy3TjTze1eUkYnoQ4fF39u6u1gl/CYSZoXV0vvMJk1q7zmL60++CVUvtuK4znmQ6lI6ygk4rUyPUIqzrPNJSK6BX01cSS0fPRR0lAtOh4opIFI+rje/Kr9CNU6VSCe9rt1QHikVcaONSEe/jsSl4TWjt3Q+PQm08nsfbwMjcm8f6a9jexnaeWBtsbmMz34pCKdZuFSvQPca3+uE208YZvrUEpfNtvLuIz/Ot2+DmXBuf41vHoHS03boAtPPZATomowjQafXHQFUkClBayoB22DCxfQdoh9Zt54G8+xr4nIBvauBjIj4A+oMSoXJ7A7uEFSTtIL3vYgXxRb3ZZvdl+km3fSG41xR37lrec5OsZBwVBN6SDYVslnI1SAx/JCxVrYreIVgEJKKScONtJWIBLpWKsu8ArZFVFlINYWIegc0gqqkmRMCTtEEzB/kDpy8iEB8CeLxetAk7kLPzBvpm56fIOfosQs9+9qHLTz/uiy6c9Bg8sYWpOHrn8vLYnePNyak7dtYvX16OTS7kcpsDC+j3jn6snGWjAZfNbNA6Junyx46evHQJCQ8t7l8aXjp+aGTy0mAtOW7WXRpoVLcyN6PDd93UeepuFLrv+efve+i5Z//3M+n+5UhlLj1QWz2JQpl9i+fv2jy3bVvn0cfCowtTW3PZXvqjE4dK6T61Rm3Q6XWuWbp06J2DE+it1av00Nhcfz1fPdB5AG2qT2ZiVlPnC6Q0We98hdhrNeDu/2qbjAP0Sj91E+iVy+jPqZX7CeLcofwegrj72i3HsWJxZR9Urni3XyRoO9TGi0WsBSe0hA0EaNVxqFWBQM1BS5WBmENVWJfGBh6fhucruk23k35n2iuamXNFaHPmNGlz5iwxmQ8rOriNeb7FEvUEAOsn6hn3860C3OTbOM+3Jok7C4PhA+3WcWg2cgIAO9/G83zrEjy6pYjvbOOzxZU7L5Gh77xdl165dCcpXjqtS7c+LHu8WAI3VsvmXqZarDb3MvGB377/6jbiA6uxlse6qxyYAay+KjecmCQNJyeUhurvXB1TGk7yeOYqnuDxpqsvaXquzpBaFR7JcXj4qqp1QvU2h09eVYOeuaJRs5Y0Q10ZHjlxUnaoX9DohjfNyGXZqW6FeBAhlctLhKDQD2KRbLSOHwBRmtsHymhewEsNfElsLW4nXvWh++GBawke3AdW6Tx8a8U/pHhn38DWhQNEbM4YYIQoscnlJioVA4iNd7FsBYeoBD62QxaFuKSG8IkodBCPLuhJiAu6zYyEGKj6QdBw0NUMTqLSyib4oTMx6oojDsInCxs0ZDWxSqlSspVskfe+JweR/478oYXISL+6p+YeGOaMBtPwkLvWw/SPhnccsNto7qg76E8Gp7cK5iNabTbjjbp9DvRP2dTSM+lsYdu0WsqnehPLS7THo+4JhD3eSKSQntt6PCZ5E96A6/E0enrq6LPPqlS+oCURVafyzsFRP/Ieuruh0y2p1ZFkbHw2nomp1Ms6Xf/IIGZcnVWtQaNrNOuHOq+i0Fg4GWNVWrYz+jvziShrTubTGnYzq1Wzu/Z0fulwMlt1OqfBpDXsun8hr1Vr2Wc51d/s/fzn9/685vA7aGaJZWM7tiLDum/4JnWR8ipaG7wwhB/Mtx4Ch7DVIHZmA7DGRgg6iGTHuwbBs1Ko9pTzNPAlnqPjkiMu1aoOeBiXymvPI6RpqUYMsJ90Kq75lHFZv9kdRHuBj02bieNrpjU+BFz3q9aaBZB8QUjNmiwmg2B1+SM7/C7eqFEhRNO81Ww3iBaWVtEMrVKZ1WoNjWgV74iGWRM40YzOvIk3aywms9aoNgpWow58cRoxKlqtVomsGobQGg1Og4WDMAFMoV70pbyZSMBlFYycaNJrVAwdSfiSRiun5wwmncFkMvBGs96gtfjcBl70+FmTSefRewIWD8xHbwgsWwP+FFhahLSIMZpUVo6m4YWM2WTlbD7kTOR4gx65rX6P3qRjzX6vTTB5fSzoQZYXBd6k1hh0JgO8zWpM+hIRou/o9byRBTxCiMg9ecy1iRdIXD4w+ZUPyFghwHaZiACRJhAQHyqxERCYcCNM/wwu8FkV4YJePB/LLodDbmYhbNQ/rrl8/m7l6VqrztT5WyczZZq5B/HGwE33dC6jO947pykq240MJ9u4psxtOo8t18BZweliawbUXsQCOsBqlz2UD5quBaSyWsuhOJHOHBpAxDsFQSzXCAzAISeKwe4AO8iSP+taYP3+5fw9Z0pMBKQ+g0FvNcd7BE5w+s3pgcFxJlAJuNJ8PMLFwkFHWEpsnD24731LXf1b5HKibJhWaQdTtEalQnzJF3JVAiGGMwYrAaugtSYdKnPUqWXnJmdzJYpSrdPBCVQ4AVL0/S4ttpTkIEslB1m7dOkvpwOqXaY0ToO6z+NsCV9o40oRl/J4bwkfaRORwyev4bvaOEtsE5UDyxMDZ4knzi9ebuNlvrUZSottfFORCGfrZBZks9DAMaGVvgBa9S5xSMdbQkJyw9jEWZKraAovqiu66sjkFLlbFvGWRmtxM7g55V1LYCVBNVtUcKcTXHOkQUBo8VMwTlpciY1NEsf6rNBKjsD3BfEPc4Xm9t179itujcJBkHTFnQbRV/xLttIV+5IcRBG3JRKOC7IOCLGRrkwrvGM11q54O+xWVoFDxBapRBSlXFmHhuM9gZrivnMIIjUA7yLD0JzJY00smY3ZSC0+GnCEvTFXLMPaWU5Fa4PcrnFaSx99ApW27tRb7KyZ1UVdDYuWM2mFSpmTLE4TGoGRvjr4VfisoaghWmPp3pGgaNBa7VK27q2HWTUBi1Zj0HicNqfgHTLQKtbkSs5b9DoVg5CP8/gEs9rK9KGbaRPaMSi4fAanwxeeqElZi9GWEvXmZIaLhtN7fARyRfK+r55XgPdUtdwfSUbtPqfY6B+J5z2pgB2wdf369VXA1jGqCjK2gzpAPUatqAm2Jtq4L49LbRIIAh4CeTxXwuE23g8xw8E8jl+THRCxjUWeJAhbh+CvEAdWZ2r1GcJqUfiyOlccmCBll/giFwg2B8fmZUj0TYBpR5SBmPZMCcqcWCBYWBRwDjAivmCLL+3dd7OMA0mxm90QWomcqzfwqVQLKWZcYSCx58RY24k0yzZgDQ5gmEkK089wJCcSI/wvARIADygeuzA9P9gbCqSqDrvbGoxY7XqDxebZ3t95vf9UMFLOFwZ0PBfLTwz1eWpL5Uiwl3WZzGpVpnikvFU0OitjQxmjsxyJDKErj2967LFNj79yUywa93lymWL/nCQ4vILd7/bE4qloNO5wR6vZfLm2y+1Bbmci6vP81syIhPQJtWgWbRw3HEnG6cSuqRSdm16aSiOUO/LYYxOPPSbnkSg98Ou7jIcaJHmWfsIpur1C9xMVQEvEaRzKt4aVTQYF0GsKj1YUniI179N4gHWi8tbFhmQT9W77+HCzMnzEYrEE3bmNiYDbl3S53dPHTt2tri7X0tPe0X5DLthfT/YjSdo0ffiWBxc2z+xgHPYkmh1QaXX1hQJjYFnkzWRLjczuakPjtNeWqyG/KRJpWFhXM80ZDh04smV7oex0kLW9eb1Dv878Dei5IrXiIGuj8thawghQViQJXgjy9IA/F4Sx1zBdJBGbUGy55eVa3mONNO+aozefLPffkcpG6IM+r4r5kvbZl9B3n/zQnsYIw3wGCaLRe+uTHT/6HmXq6tlDVA6koUltpBaoM9Tt1APU49SnqS9Sf0G9QlECwVkfctjBk4MQGAgLmBuE7yYiAXG8q1FYm+Jcgv7qQ1CmIdwK2UJhqVztA30E9CUFst+TRmGpJkMa7JUfkcCZhUq2ImcMcogsy8bK/eWsLgz/nr796IYnduWJTX5UlWBQmO06S3NI9qviEhGPbo44FY1lNvx3lUGVYI16k4qjd++5qbhYauS945HO13u2l1G9vMcb2OQZj9YPFVmdBh3pfFKj02l+z8T/Bfk+1L18PxdP5FE9M5aQQtHcoedEjTU3l1+2i4yeRQKr17OdfyXXQ+uX9drP6dnDpHiYxWqNJlwxW3mt3cKqjAzDqmmDx6Jh+RxrNPAGA4+mslud7k8xjF/NnmYM9MRkZXftib4lh2hNT2Qz8XAsv2RzODovcPrwQU5v5U5o9HqTXp9+IjXtcGamck+kZ+yuC4dZITfT2XIWHRXQ1zh4N6s/AVOA0hJnAMwaNiuV20wmxqi3ez0cbxINiDGxbquJ1zl45ndhNlqtQY4V+0Emv8R8hypQA9QstUQdoe6gVowEvzvb+FBRKULgNp/Hs+2WJwfh2SyPbe0VprIPYj48lscSWOej8oZLD1jnIu5Rdimaxe72xKJioKeLxEYfgBtvEVvbJOVAtWbnwfFBzgZoS5HkmwTFBgIsFIea7AYRNFUUQ5qmZUNqRjY2bBGUPIBA0jUWJZNVK8ndfSjCdHd75JRC7cam/QE7QoxGaxKc9DmnYNJqGBrZ/X77GZphdeARfePrTpHTaVT0GftDEbs1HE8GTgM9tfq3dBBkaJ+rhVPhsM0WfpVcoskQ/b1sePX39IBBrV6vNUGB3h7N+i+ZeJNFz3F6CxQuodV70fftXq+947PHovRT42adlhhGBpSNeXz1fvRPtmDQ1vHaQiFhvaHfDzyykXhe+B54TSIVhYh+ltpMbaXmqYMg3x8Gm/cFkO429WOkRiLqQXV0O/okRVkgrgO/ogIhR209nydbGdkGSXHiIljkONFBtGhFkf8w1NsKSu6T9AcFTOiucdR6apaa3caCjMLIigGLhJmqrKi7NooIqeynVmXVnUc2eAk8szjCcWAu8FRmpYUYQxB4DeE3EyW+UrG6nt+RA9kQyUTmUFgDc4AphtXdpJ2cqvSh7h2ZL1FUa0MoGUxBTu0J8kO7YiWUvNKNb1Ki4l/zKsVor3tvxM0mYdj6LBUPy6YQyY+6i5cn351ojURzZIA8WlsYRODyxHZoK+nAQg4FPJmRKaerms80dIMbw2G9x1U352ddwdv09UNSyOMXhEAhG99X1NIR6TedjkSsUJiyl2dtHh8EYCJETJ8ZQ4LAhPstCZs1orp5fLwq9UyOBHUjm8Kh6vZ7RTG3Q0p73Vr/th69JuxmBvVI9VWXgIqC0yl86w29x9b5luByCd/6N/TC4ImhyqEQpzVZzbq+qdq0CjXN9r4jF45ntKMHx9h7Uc2X9nv9x/w+f8rXuKm3d7/Xj97uPTicn7VBjS/lt8wVRg5lwwOJgYkJuKAvwpDVQ0GzlhV0vK53ujalQgMw5uH7jmW0Gw6OaS+goMkQ3RXvz6Zy2fDmgslp2dHXy2pNNjXjjQbj+eLmXDiwodfhs4e86ZEBncGuV6F/8SV9pS+yFr3oNvzuExYjb+VM16CO/mxpKZSq6HRVKWyQVHqft3MwJkV0MSm7EO0fFDfkmugvUxItiMEop+s7lYhEkLS/svrd/koJkGGd7LHN9XAWX7D/KxD09v71xG28CoV8IzO1Uo+0Oi4VzNGB8WgkojUNfY72+8KFbDleAyWfnPDy/DYEKmQ1GfK4wi4UMPIWjzPs6nz32v0nBlMRzmI0CLrGaNnCjRwbGLxYHBgsfM/m89leqYUjkXDtFVL+Vt9NtVqh2Jd66PhAMuYkVfQucu28FU0PXNu8Ib51aHA+/iV5RLNoNGh17xvyTww21ua0iE2pGna7ebXOwme9jNmo1bhMolbnb8TyQb/DpjPaeI/ZGNU4DBEy/h2Jr7E6hNyiaPrjW802zizofxedsPn9NrK/SM6PMK9BDFulRqhPUSs8MQbuNpbyxJ0OybvWRdD8YAA2yPk+Wxvb+FYKdDw8D/MtP5RqEPXyZFuKWARDm6QPwZ7051uj4HaHU+B2u6VskbjafqEVKZCUWFgCx9rW6CWOdUgY0vmTqVq9b6ApbzFnxSvW/OAQKRYFCPAg3hKInBMXBDQ8R7yYHBK7YZEsxiFbCaqhVtYHjq5GVN/gRwdrIfqXoVoQvle18L0xLg1vmNl6flTd+bdndAuDubkcfEayWzafmdkwLNGNXZt27ty06873dArW0Gu/NdyMSWN3z/l8J4qDudlds7nU7CYp1vyDxcXxxUUlXwFkVH+Y+TyVpCrUNmpFQ6gKlPPnIaJFuJrH6BqhsptvmYFqhnarBpQyu4FSGps/RhZugFg0RCjltwniixCOmIIZmYQxAYdkW9oNCrvLDxF1L2to2VsjJOhu86AbiMAPNY+dvPDg4YNndJ1N1HX9aKU+Oj08NDU1NDx9bOqB5syW5QsnjzWZ3/nobR+FDz3fgbuhvt5XHiwWXqwtOl0J6YFPPiAlNj7QFwgONo91/o40+yisWU8WbrmP+SNKBzYsTQ3Bum+izlMXqT+h/pKiBtDaPkC1XJNZ5EdsiKzAXq05uk69JUT2aTSo1LXspW52k5gAtdLN7oDaSIXwGtpWQeHL/CfqXfWfD1wDpV1cU/Hxd+M1B8nKsYrJ6Gp9+3tPL5C8Kyox4HWwNvRg5yJd6NyNPjyfzXxq99GZiSl1hzUVSwvF3ZEdhb6xHce2zo2g/fpk5sl99JFHtj8990gqfnnr/OV4iv6rXObj24bORS9fjp0bmv94Jv9wdc/Z3dXqnlv30Eey6ad2H52enNJ0WK6nvFBcjpLhdh69Ybix866d5ToIuhjnBzYkar5Qs9Y3uXN0OH7OPlWoBLwWIWrvG5UavojHXxvcfvPEOH3Hwyj6+VWkeublk4YL6MP3XOjcds8//8ns1M5SD75lUyKJIpF9PS5/Jo16xuLpuc4AOjK3a+fmzifRXYvDg6NjzeHF6oG5yflKBp1/Z8vOfG1hYvNnzu2r1/c3Gvvqtf/3Hwz1F0OZEnI7oi4zp1cZzbwjkmqWd7m9KBzsG4rEHfaggzMZNCYzb4+kBgu5kg+IPcT8weon0FDnx53HUOCOL1Bmgq3AEeaPAVsxKguaajv4RvdTl6k/o/6a+jnSowDKovEbUWa5AQzdCN2xHmeEZNH4L+JMo+CMrq3hTP1fGbqmbC3/O6SV/kOkxTXvQ1q59p4+HLK+/42kudyGqEZl4ws8FwGtLaPyvmWQVcjCQHL/NZL7FxRNYosoO/8Cuth5EOB9D3p4MZt5avex6alJwKP+4LbenmRgR6F/dCfAe/sn0M2GRHZ603762BrA5wHgSQB4+uPbB89KDz8cOzu08PFs/nJtz9lCriIj/AQZ8eiMjHBlRP+OfL8sMPKIycz0xD560z3eZOZ00AcYNw2PAsbDgPEpgvGz9ulcxe+18DFxaCRR90e9gPHFg5OA8ctIUjB+mjmRy0zPLh+b3yzd49zfrC9XqrvrQ8Wc40JyZuupPXPTO+k3Hg6VKgNbbh98ZG4mN5miB3PpJxeHbo3Kk976ZCb/SG33LbvL5Vz+1t306OlHLn9Yp/d5mtYDlbrTvi5DaOPe2ekdpULrzORWmxjY2+P2ZdKf+sS4lN7caaKjsgx9At25ONIcHW2OLFYPzk1uLWfRve9s2VWoovnJuc+e3V9DXs/+3sb+eu3pXz/Ynw9nna41KeJMgj2aJFLkCwcHBiOJrhCpzZwsXj1EiBACiwRi9HE03Plp5yPIf8fn0cjuuel0tlbZVa6P1PfesrceDdfLuyuNXObpHzErnQfTLveGCzs6l9Dx+aXsfK3zNBpTZrywevf6hPfVUW1/b+8+r7eWuudTMz+4p3O96fbpdQ84nb21w0gluxQkO878SPYrMlSJ2tj1K7xtHFd8ibJsAa1tbOXJoVOsb7cqxFewQqyYlR0ELy+I2NXAceGK050tyNm22gd4AXIkY6vdeAZNCYYcNUeNjcTpUO+NCfLe0FeD/urxTG7bpo3JdDq5cWJh2wSUjvzB/Gd/H209D017Q9BlVYRLuBe8nv7exOk+U0Ia2fDp0WEpkZCGR596etPk05uInX93nRPUZHeV9jZO5bEGVjkpr7JPTnP3KacXYKFTsFAIg0VsJacXXrCH4/WxTcSy68VWMCZvEHzQQmvrGeAKyYZB6Kbp6gTQI3IIZyX5M5JqJJoB9AQxkvT79wf+aP+5u/Zu68kmvVLKHtSm8paKTxqKqRanJsuWsDfsGyyAp2gybcyC7RHeT4//Odis79mxT6fzpwS1KeF06qyO2JDEm1WgtUMTAxbEo+KMXkWnqr7ADTiwUhIgYbbrCQXbJEnGA4WyN/iUPsUTypEDCuDzfFmj5uMpOSMb1AC1IuTcwYt6AxWOytVrB5iChCh8N2ajHbL/50eEauE4W8khGQdxenTDLecQf9stI6OjI7fcdunmrzw6/asNZ0dHz26AayyyLV2cv2/kkftG0BuXzt1KGt0Kzc/dsmF0+tGvbG4ebzaPnz/e1Od3BvewfY27exuKn4coxPyQ+SGsbyN1uMt/RxsnCf9XkhqS90zmSd5zkwyFhnzMo7G+1glYa4NAwdbAPvCCNWoHH5aqG8ZlDxDgECWikHQANRCsvCgvW+TJioNk7fyaexJfQ8cAWtshWscGRPjvh4aDUAcRQiAzkGRsDEofugSlL23ec/PsWCIWdgTCMVNEMqedgXKAGf+NFO9xep3lOMfrDYbemG8ibkQnFQIRynZe7xKtXiplZyZmzc4Ip7Inbaxggf4mEzNY8fQXzciEkoNaFR3OIIdbPt9IbYX444tUmRql7kIaipz+4Ut4pI1PywcVxtp4b57kqcbJCYJMGx/KY3+bHJPraePNeRwBDP2GjKEKSJmyU8S2W5mxYpGcC5PgdrqNp/nWNihBR79yDsbVbt2tHKVt/viNceUcgJTjcOKqqjWtfpvDk1dfavKv71eeHIMnx6+2nOq3seMq9YcOp5SYnD52PNf9QV92OBOTx3Pr520lFrSY6Q6IbKYFfHsDbxNXIkt7SaTjF/BBYOgIAyw3NrBWfjwm4jsaLf8h6LTtYEPeXOoey1r3DuAWmGupgf+RRkq2QaMkTruZWI2N5Mrk7KqgZF5jQnVtC7okp1RIYw6tb1fUHMQ7YOR0bnjNRSlGn48UfS7BYWJFl+j9eTUeNE0gUA8tk2ss36emDWanP1WMPB8tNgTj8wZBMDxvFJBvIh8S9IjWm3xBvVZjFF0GA8OYdSpV0isaVK1gD5rQWpyBf3EZLQa1wW+PfSFaLEZpFae3GtWcWpWKlFGYjY/EP1fwFovZVKGZKhv3RUqlyOp1GhkFwbh6Ha6bUMo0V9+WC1l1nMBJf2rmbFrGZtAZkTFkc6GecOcfw04vorUqg9toU/C1BfD1POBrD3WK+gWF9XmSsgTtc6KN1fmWZqFUwkttPEICM9ybxzeXyFmsUBHh0zfAamL91JUdJDY2AujaC8jkW0fgga/dOtMFE/N6RoFMBSBTvdoqq8nB7JcGm2/mlCMoGqhnr6pbCwRk81epF9gSqPP5LpBe1MBtdX4hl3sXTBMVwIV+O4DHLOBmA9vFVmqQaAXXHETQvHmCbFONLEEj24aGHB0ONnCvSJoWBJwEOHU3BVirEi3GFVTYFJCRZBrBD7vuprIEW4zDAo36UFUBoCBj7d1oKF6Tk7ayXVK/H3j+UPx/ucBhCxlNNEDC5onJgAFshYvI6+IdZtbk4GK/6JniJuqAC0fwzZzBCKBIjaYDZh3NaMwht9mCPAEjzxs7r9qjDvoJGWgy5GhddJPN+dt9G2KmkDFXHi30We6PFIsRmo4UCxEVr7eZ1AaaRhsane/pkTtscyPW6DHZVZ03LDuG9lRitJrV8Aaz9JzgELzpT9M0gfFqB67KHhYln/n+WypAUeTsDJDJVlvffO1mB0Oyi2FjppvDk6EfXIEQOibRUgyi6M4m+Qb9cvKeSOwnP5HrBP7TcqV8Q94Bmk5Hv8a0qR7qnPy/OZyccfG1yVnXHOi0ogw+oY0FxT8KtHGAJ1tJOAnWhW/pFT1XIj6TAMqEbEwKK5yNIVrGLV6xx6QssSFJoWVSEbTYfWSfWxsMySYk1o2bIWAAQymf9wG7qbgbmrAk13dbkJCHnKbQDJ+6eGp4JL953+a8r9RX9Luj7hF/sb/oL2zeuyX/q5FTw8OnRtAvO9rC5nx+c4GO+ko++HTKotstos919vmLfvigv8pvycOne66DugTyeTv4T25yroNX/Kb1w9guCGPkf3ax3+Dw6RChvwO9IOQE9IKjtFhcfay0WDqH7kP3hWOrj0loFN2RSXd+y2xGx9KZzmV4WFqkt3e+hgY5+Z2PMv/M3AK0nyE7ZsohGznGWtuNl7clZFmQdyJk8KeRonBtKivZXXOQ/1kgud+yRA5bQTxlDQDO9LzRbBx32S28QV/I+wSeM+m1LKvVmzhe8OULegNvsbvGoRGvN9KZQNp88QE+7TdfvGj2p/kHLppBAi5eRP/NK3JaDUJajUGrq5RiVrWKVem19PNanVrDqK2xclnPks1LWq3lLJ4f/LsRzPLIii9O1vuavN691DNUmkL403m8/RoeauMhvvVRQNLZduszgKSh7YL4wjMH7r90+SnidhHN8euIU/w1xJGbFNcMz1r0m+8+Xj/soJx0klVLrXrj7w3hMummidzYr9tT7vtrKI34D6Z0ljGLEcRZRJfFaeJ5zml1i1ae442CWmvgBLPVYDYbrGaBU6keYjghrOc4q8Vpc1kdvKiHH5F3WF02p8XKcXqWFYyimjVYXY6gyy9YrYLfFXS4rCrVr+eb8EFs6/xCNHBIZ+RtTtCZqVQiFHDZzSY9o9IaBJuP1XMWh2/M57RxBq3J/EloTKtYMl2r0y3/78FN2aQU8nscVtFk1GrUiGZ1vNWv50SXL5bqOVVKSX63hTOYOEo+p0OdBxwcp8wgbU4qRO2XT1zz8n8BevPkvLElj1UgfuEbDna615WPACVduxUBoLh5JXoJCNgp/6uBzbEWsrUcTjmji+1K1lbZ/hXk/V+pFhJClhBi4hKxRUR0Uj5mly+V8r3znC+1kdn1znNRRuz8/Jt7jldiQKzJr9GHvImEd/UpcqUPrT6FXu28+LmnNxaLG4sU9f8BK3N4TXjafZDNTsJAFIVP+VMhGqOJC+Ni3LiQpOUnIYS4xo1ujGFfYFpK2k5TBgLs3PoYPoDP4NaX8Fk8lKtLmkznu2fOnJk7AC7wAwf77xQ3wg6q6AmXcIQn4TKOEQhXyG/CVTTwIVyj/iVcR9O5FW7g0lkywamcsLou0nbs0HUvXMIZHoTLOMercIVshKu4wrtwjfqncB0jfAs3cOc8I0ICHyE0PCywIjWxphYDUeKH2luswuY6Ybllelb4sTVZxOmFu0Is6fWRs9ThMvYJAZ0pLLpoc/QpmNR2293+waUR03LeISosigYXLco6X0QmVW23dXD7I7enRYRPg8aUEWNs+N+31aFqGaA4csYkpKHEabYQkxUb3K3NqUyou4zVqc59q6dqvFF8i461gQpyk6ghj9ZxbFSWm7meWJpnxRkZBnxM7/+yf+kuM3fnYmZtNvC8QALciUnwC776YtQAAHjabZFJTwMxFIPnmwJTylbKvrYUaNmZvLwZ4IzEXwEkhLhw4N+DRJwDIlIUx892LKUoi9/VK/5f7c+mKCnpMMMsc1R0mafHAossscwKfVYZsMY6G2yyxTY77LLHPgccMmTEEWOOOeGUCVPOOOeCS6645oZbagJGxLvPb18fL6PYVAmI0MTEWGYagTaZgggBz8CSxKrP91drnh7T/f6vJdZp8pCIUAsow9Oprnr+TkJZLVtVPqh8UPnQSiy75U45x1Qut5QrSuN6y5Xs0riSXckuVyNXlCZKE7Irl9co5t9RMfdvelSNRwAAAQAB//8AD3jaY2BkYGDgAWIxIGZiYARCUyBmAfMYAAXlAGR42mNgYGBkAIIrKjN2geirz2yKoPQKAEvZB1QAAAFZwIwpAAA="
}, s = i(300);
n.prototype = o(s.prototype);
t.exports = n;
e(n, "meshim_widget_widgets_fontLoader_ZopimFont");
return n;
}();
}).call(e, i(3));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t, e, i, o, r) {
if (!(this instanceof n)) return new n(t, e, i, o, r);
a.call(this, t, e, i, o, r);
}
var o = i(15), r = i(7), s = i(13), a = i(27), _ = i(43), l = [ "woff", "ttf", "svg" ], u = [ "svg", "woff", "ttf" ], d = {
woff: "url(@@DATA@@)format('woff')",
ttf: "url(@@DATA@@)format('truetype')",
svg: "url(@@DATA@@)format('svg')"
}, c = {
woff: "application/font-woff",
ttf: "font/ttf",
svg: "font/svg"
}, h = "@font-face{font-family:'@@NAME@@';src:@@FORMATS@@;font-weight:normal;font-style:normal;}", f = "data:@@MIME@@;base64,@@B64DATA@@ ", p = "'@@FONTS_URL@@/@@NAME@@.@@FORMAT@@'";
n.prototype = o(a.prototype);
n.prototype.setFont = function(t) {
var e, i, n, o = [], a = l, g = this.getBase64();
(r.isIE <= 8 || r.isQuirks || window.document.documentMode && window.document.documentMode <= 8) && (g = {});
r.isChrome && r.isWindows && (a = u);
for (var m = 0, $ = a.length; m < $; m++) {
n = a[m];
i = d[n];
try {
o.push(i.replace(/@@DATA@@/g, g[n] ? f : p).replace(/@@FONTS_URL@@/g, _.FONTS_URL).replace(/@@FORMAT@@/g, n).replace(/@@MIME@@/g, c[n]).replace(/@@B64DATA@@/g, g[n]));
} catch (t) {}
}
e = h.replace(/@@FORMATS@@/g, o.join(",")).replace(/@@NAME@@/g, t);
var b = this;
s(function() {
b.dom && b.addChildren([ e ]);
});
return this;
};
n.prototype.getBase64 = function() {
return this.base64 || {};
};
n.prototype.setBase64 = function(t) {
this.base64 = t;
};
t.exports = n;
e(n, "meshim_widget_widgets_FontLoader");
return n;
}();
}).call(e, i(3));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t, e, i, o, r) {
function s(e) {
if (e) for (var i in e) e.hasOwnProperty(i) && i in h && h[i](e[i], t);
}
if (!(this instanceof n)) return new n(t, e, i, o, r);
var a = c.root.$("tmp").$("api_settings").$("settings").$("theme").$("custom_fonts").$("config$json");
a.on("value", s);
}
function o(t, e) {
for (var i = 0, n = t.urls.length; i < n; i++) u(e, null, null, null, {
href: t.urls[i]
});
}
function r(t, e) {
u(e, null, null, null, {
href: l(t.families, t.text)
});
}
function s(t, e) {
var i = t.projectId, n = t.version, o = "//fast.fonts.net/jsapi/" + i + ".js" + (n ? "?v=" + n : "");
new d(e, null, null, null, {
src: o
});
}
function a(t, e) {
var i = e.ownerDocument;
0 === i.documentElement.getElementsByTagName("script").length && new d(e);
var n = t.api || "https://use.typekit.net";
!function(e) {
var i, o = {
kitId: t.id,
scriptTimeout: 3e3
}, r = e.documentElement, s = setTimeout(function() {
r.className = r.className.replace(/\bwf-loading\b/g, "") + " wf-inactive";
}, o.scriptTimeout), a = e.createElement("script"), _ = !1, l = e.getElementsByTagName("script")[0];
r.className += " wf-loading";
a.src = n + "/" + o.kitId + ".js";
a.async = !0;
a.onload = a.onreadystatechange = function() {
i = this.readyState;
if (!(_ || i && "complete" != i && "loaded" != i)) {
_ = !0;
clearTimeout(s);
try {
var t = e.defaultView ? e.defaultView : e.parentWindow;
t.Typekit.load(o);
} catch (t) {}
}
};
l.parentNode.insertBefore(a, l);
}(i);
}
function _(t, e) {
var i = window.location.hostname, n = t.id, o = "//f.fontdeck.com/s/css/js/" + i + "/" + n + ".js";
new d(e, null, null, null, {
src: o
});
}
function l(t, e) {
for (var i = "//fonts.googleapis.com/css?family=", n = [], o = [], r = 0, s = t.length; r < s; r++) {
var a = t[r].split(":");
3 === a.length && o.push(a.pop().replace(/ /g, "+"));
var _ = 2 == a.length && "" != a[1] ? ":" : "";
n.push(a.join(_).replace(/ /g, "+"));
}
i += n.join("%7C");
o.length > 0 && (i += "&subset=" + o.join(","));
e && e.length > 0 && (i += "&text=" + window.encodeURIComponent(e));
return i;
}
var u = i(302), d = i(303), c = i(41), h = {
custom: o,
google: r,
monotype: s,
typekit: a,
fontdeck: _
};
t.exports = n;
e(n, "meshim_widget_widgets_fontLoader_CustomFonts");
return n;
}();
}).call(e, i(3));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t, e, i, o, s) {
if (!(this instanceof n)) return new n(t, e, i, o, s);
var a = t.ownerDocument;
s || (s = {});
s.tagName || (s.tagName = "link");
r.call(this, a.getElementsByTagName("head")[0], e, i, null, s);
this.dom.rel = "stylesheet";
this.dom.type = "text/css";
}
var o = i(15), r = i(18);
n.prototype = o(r.prototype);
t.exports = n;
e(n, "jx_ui_ExternalStyleSheet");
return n;
}();
}).call(e, i(3));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t, e, i, o, s) {
if (!(this instanceof n)) return new n(t, e, i, o, s);
s || (s = {});
s.tagName = "script";
r.call(this, t, e, i, o, s);
}
var o = i(15), r = i(19);
n.prototype = o(r.prototype);
t.exports = n;
e(n, "jx_ui_html_script");
return n;
}();
}).call(e, i(3));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t) {
var e;
c = m.root.$("livechat").$("account").$("key$string");
d = t;
f.on("error", a);
c.bindValue(function(t) {
if (p(t, S) != -1) {
f.window.on("error", s);
f.window.on("unload", function() {
f.window.un("error", s);
});
}
});
e = {
ignoreErrors: y,
logger: "widget",
release: g.info.gitCommit,
shouldSendCallback: function(t) {
w.submitToServer(t);
return !1;
}
};
e.whitelistUrls = [ C ];
x.config("https://0@0/0", e);
}
function o(t) {
t && (t.onerror = a);
}
function r(t, e, i, n, o) {
try {
w.handleErrorEvent(t, e, i, n, o);
} catch (t) {}
}
function s(t, e, i, n, o) {
r(t, e, i, n, o);
return !1;
}
function a(t, e, i, n, o) {
r(t, e, i, n, o);
return !0;
}
function _(t, e, i, n, o) {
if ((t || o) && !k) {
var r = o || t, s = r.stack ? [ r.toString(), r.stack ].join("\n") : r.toString(), a = [ s, e, i ].join(" ");
if (!(r.name && v.indexOf(r.name) > -1 || I[a])) {
I[a] = !0;
w.post(r);
}
}
}
function l(t) {
if (!(Math.random() > A) && t && d) {
var e = m.root, i = e.$("livechat").$("account").getValue(), n = e.$("livechat").$("profile").$("mid$string").getValue(), o = {
key: i.key$string,
is_voltron: i.is_voltron$bool,
status: i.status$string,
mid: n
};
x.setUserContext({
id: o.key
}).captureException(t, {
extra: {
system: g.info,
connection: d.getConnectionStats(),
account: o
}
});
}
}
function u(t) {
var e = d.getHost();
if (t && e) {
try {
var i = t.exception.values[0], n = i.type, o = i.stacktrace.frames, r = o[o.length - 1].lineno;
t.fingerprint = [ n, r + "" ];
} catch (t) {}
b.post("https://" + e + "/client/widget/errors", {
params: {
sentry_data: $.stringify(t)
}
});
}
}
var d, c, h = i(7), f = i(6), p = i(8), g = (i(23), i(305)), m = i(41), $ = i(49), b = i(306), w = {
init: n,
post: l,
bind: o,
handleErrorEvent: _,
submitToServer: u
}, x = i(307), v = [ "SyntaxError" ], y = [ "Out of memory", "too much recursion" ], j = /^en/i, C = /^($|about:blank$|(https?:\/\/)?([\w_-]+\.)*zopim\.(?:com|org))/i, S = [ "zopim" ], A = .1, k = (h.isIE || h.isNewIE) && ("language" in window.navigator && !j.test(window.navigator.language) || "userLanguage" in window.navigator && !j.test(window.navigator.userLanguage) || "browserLanguage" in window.navigator && !j.test(window.navigator.browserLanguage)), I = {};
t.exports = w;
e(w, "meshim_widget_controllers_ErrorHandler");
return w;
}();
}).call(e, i(3));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
var n = i(1), o = i(7), r = {
info: {
gitCommit: n.git_commit,
buildNumber: n.build_number,
releaseTag: n.release_tag,
userAgent: window.navigator.userAgent,
platform: window.navigator.platform,
language: o.language,
browser: o.browser,
version: o.version,
javaVersion: o.hasJava,
flashVersion: o.hasFlash,
url: window.location.toString()
}
};
t.exports = r;
e(r, "meshim_common_System");
return r;
}();
}).call(e, i(3));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t, e, i) {
_(e) && (i = e, e = null);
e || (e = {});
u("POST", t, e, i);
}
function o(t, e, i) {
_(e) && (i = e, e = null);
e || (e = {});
u("GET", t, e, i);
}
function r(t, e, i, n) {
var o, r, s, a = "form" + ~~(1e5 * Math.random()), _ = i.timeout || 1e4, u = document.createElement("form"), d = document.createElement("iframe");
u.method = t;
u.action = e;
d.style.display = "none";
if (i.params) for (r in i.params) if (i.params.hasOwnProperty(r)) {
s = document.createElement("input");
s.name = r;
s.value = i.params[r];
u.appendChild(s);
}
document.body.appendChild(u);
document.body.appendChild(d);
u.target = d.contentWindow.name = a;
l(function() {
u.submit();
document.body.removeChild(u);
s = u = null;
d.onload = function() {
d.onload = null;
d.contentWindow.location.href = "about:blank";
d.onload = function() {
d.onload = null;
clearTimeout(o);
n && n(null, d.contentWindow.name);
document.body.removeChild(d);
d = null;
};
};
});
o = setTimeout(function() {
n && n("timeout");
document.body.removeChild(d);
d = null;
}, _);
}
function s(t, e, i, n) {
function o() {
if (h.contentWindow.frames.length) {
h.contentWindow.location.href = "about:blank";
clearTimeout(s);
setTimeout(function() {
n && n(null, h.contentWindow.name);
r.body.removeChild(h);
r = h = null;
}, 0);
} else a = setTimeout(o, 100);
}
var r = document;
if (window.ActiveXObject) try {
r = new window.ActiveXObject("htmlfile");
r.open(), r.close();
} catch (t) {}
var s, a, _, l, u = "form" + ~~(1e5 * Math.random()), d = i.timeout || 1e4, c = r.createElement('<form target="' + u + '"/>'), h = r.createElement('<iframe name="' + u + '"/>');
c.method = t;
c.action = e;
h.style.display = "none";
if (i.params) for (_ in i.params) if (i.params.hasOwnProperty(_)) {
l = r.createElement('<input name="' + _ + '"/>');
l.value = i.params[_];
c.appendChild(l);
}
r.body.appendChild(c);
r.body.appendChild(h);
c.submit();
r.body.removeChild(c);
l = c = null;
a = setTimeout(o, 100);
s = setTimeout(function() {
n && n("timeout");
clearTimeout(a);
r.body.removeChild(h);
r = h = null;
}, d);
}
var a = i(7), _ = i(10), l = i(13), u = a.isIE6 || a.isIE7 || a.isIE8 ? s : r;
u.get = o;
u.post = n;
t.exports = u;
e(u, "jx_io_Form");
return u;
}();
}).call(e, i(3));
}, function(t, e, i) {
(function(e) {
"use strict";
var n = i(308), o = "undefined" != typeof window ? window : "undefined" != typeof e ? e : "undefined" != typeof self ? self : {}, r = o.Raven, s = new n();
s.noConflict = function() {
o.Raven = r;
return s;
};
s.afterLoad();
t.exports = s;
}).call(e, function() {
return this;
}());
}, function(t, e, i) {
(function(e, n, o, r) {
"use strict";
function s() {
return +new Date();
}
function a() {
this._hasJSON = !("object" != typeof JSON || !JSON.stringify);
this._hasDocument = !n(D);
this._hasNavigator = !n(E);
this._lastCapturedException = null;
this._lastData = null;
this._lastEventId = null;
this._globalServer = null;
this._globalKey = null;
this._globalProject = null;
this._globalContext = {};
this._globalOptions = {
logger: "javascript",
ignoreErrors: [],
ignoreUrls: [],
whitelistUrls: [],
includePaths: [],
crossOrigin: "anonymous",
collectWindowErrors: !0,
maxMessageLength: 0,
maxUrlLength: 250,
stackTraceLimit: 50,
autoBreadcrumbs: !0,
instrument: !0,
sampleRate: 1
};
this._ignoreOnError = 0;
this._isRavenInstalled = !1;
this._originalErrorStackTraceLimit = Error.stackTraceLimit;
this._originalConsole = T.console || {};
this._originalConsoleMethods = {};
this._plugins = [];
this._startTime = s();
this._wrappedBuiltIns = [];
this._breadcrumbs = [];
this._lastCapturedEvent = null;
this._keypressTimeout;
this._location = T.location;
this._lastHref = this._location && this._location.href;
this._resetBackoff();
for (var t in this._originalConsole) this._originalConsoleMethods[t] = this._originalConsole[t];
}
function n(t) {
return void 0 === t;
}
function o(t) {
return "function" == typeof t;
}
function r(t) {
return "[object String]" === O.toString.call(t);
}
function _(t) {
for (var e in t) return !1;
return !0;
}
function l(t, e) {
var i, o;
if (n(t.length)) for (i in t) c(t, i) && e.call(null, i, t[i]); else {
o = t.length;
if (o) for (i = 0; i < o; i++) e.call(null, i, t[i]);
}
}
function u(t, e) {
if (!e) return t;
l(e, function(e, i) {
t[e] = i;
});
return t;
}
function d(t, e) {
return !e || t.length <= e ? t : t.substr(0, e) + "â€¦";
}
function c(t, e) {
return O.hasOwnProperty.call(t, e);
}
function h(t) {
for (var e, i = [], n = 0, o = t.length; n < o; n++) {
e = t[n];
r(e) ? i.push(e.replace(/([.*+?^=!:${}()|\[\]\/\\])/g, "\\$1")) : e && e.source && i.push(e.source);
}
return new RegExp(i.join("|"), "i");
}
function f(t) {
var e = [];
l(t, function(t, i) {
e.push(encodeURIComponent(t) + "=" + encodeURIComponent(i));
});
return e.join("&");
}
function p(t) {
var e = t.match(/^(([^:\/?#]+):)?(\/\/([^\/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);
if (!e) return {};
var i = e[6] || "", n = e[8] || "";
return {
protocol: e[2],
host: e[4],
path: e[5],
relative: e[5] + i + n
};
}
function g() {
var t = T.crypto || T.msCrypto;
if (!n(t) && t.getRandomValues) {
var e = new Uint16Array(8);
t.getRandomValues(e);
e[3] = 4095 & e[3] | 16384;
e[4] = 16383 & e[4] | 32768;
var i = function(t) {
for (var e = t.toString(16); e.length < 4; ) e = "0" + e;
return e;
};
return i(e[0]) + i(e[1]) + i(e[2]) + i(e[3]) + i(e[4]) + i(e[5]) + i(e[6]) + i(e[7]);
}
return "xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g, function(t) {
var e = 16 * Math.random() | 0, i = "x" === t ? e : 3 & e | 8;
return i.toString(16);
});
}
function m(t) {
for (var e, i = 5, n = 80, o = [], r = 0, s = 0, a = " > ", _ = a.length; t && r++ < i; ) {
e = $(t);
if ("html" === e || r > 1 && s + o.length * _ + e.length >= n) break;
o.push(e);
s += e.length;
t = t.parentNode;
}
return o.reverse().join(a);
}
function $(t) {
var e, i, n, o, s, a = [];
if (!t || !t.tagName) return "";
a.push(t.tagName.toLowerCase());
t.id && a.push("#" + t.id);
e = t.className;
if (e && r(e)) {
i = e.split(/\s+/);
for (s = 0; s < i.length; s++) a.push("." + i[s]);
}
var _ = [ "type", "name", "title", "alt" ];
for (s = 0; s < _.length; s++) {
n = _[s];
o = t.getAttribute(n);
o && a.push("[" + n + '="' + o + '"]');
}
return a.join("");
}
function b(t, e) {
return !!(!!t ^ !!e);
}
function w(t, e) {
if (b(t, e)) return !1;
t = t.values[0];
e = e.values[0];
return t.type === e.type && t.value === e.value && x(t.stacktrace, e.stacktrace);
}
function x(t, e) {
if (b(t, e)) return !1;
var i = t.frames, n = e.frames;
if (i.length !== n.length) return !1;
for (var o, r, s = 0; s < i.length; s++) {
o = i[s];
r = n[s];
if (o.filename !== r.filename || o.lineno !== r.lineno || o.colno !== r.colno || o.function !== r.function) return !1;
}
return !0;
}
function v(t, e, i, n) {
var o = t[e];
t[e] = i(o);
n && n.push([ t, e, o ]);
}
var y = i(309), j = i(311), C = i(312), S = i(310), A = S.isError, k = S.isObject, I = i(313).wrapMethod, N = "source protocol user pass host port path".split(" "), B = /^(?:(\w+):)?\/\/(?:(\w+)(:\w+)?@)?([\w\.-]+)(?::(\d+))?(\/.*)/, T = "undefined" != typeof window ? window : "undefined" != typeof e ? e : "undefined" != typeof self ? self : {}, D = T.document, E = T.navigator;
a.prototype = {
VERSION: "3.15.0",
debug: !1,
TraceKit: y,
config: function(t, e) {
var i = this;
if (i._globalServer) {
this._logDebug("error", "Error: Raven has already been configured");
return i;
}
if (!t) return i;
var n = i._globalOptions;
e && l(e, function(t, e) {
"tags" === t || "extra" === t || "user" === t ? i._globalContext[t] = e : n[t] = e;
});
i.setDSN(t);
n.ignoreErrors.push(/^Script error\.?$/);
n.ignoreErrors.push(/^Javascript error: Script error\.? on line 0$/);
n.ignoreErrors = h(n.ignoreErrors);
n.ignoreUrls = !!n.ignoreUrls.length && h(n.ignoreUrls);
n.whitelistUrls = !!n.whitelistUrls.length && h(n.whitelistUrls);
n.includePaths = h(n.includePaths);
n.maxBreadcrumbs = Math.max(0, Math.min(n.maxBreadcrumbs || 100, 100));
var o = {
xhr: !0,
console: !0,
dom: !0,
location: !0
}, r = n.autoBreadcrumbs;
"[object Object]" === {}.toString.call(r) ? r = u(o, r) : r !== !1 && (r = o);
n.autoBreadcrumbs = r;
var s = {
tryCatch: !0
}, a = n.instrument;
"[object Object]" === {}.toString.call(a) ? a = u(s, a) : a !== !1 && (a = s);
n.instrument = a;
y.collectWindowErrors = !!n.collectWindowErrors;
return i;
},
install: function() {
var t = this;
if (t.isSetup() && !t._isRavenInstalled) {
y.report.subscribe(function() {
t._handleOnErrorStackInfo.apply(t, arguments);
});
t._globalOptions.instrument && t._globalOptions.instrument.tryCatch && t._instrumentTryCatch();
t._globalOptions.autoBreadcrumbs && t._instrumentBreadcrumbs();
t._drainPlugins();
t._isRavenInstalled = !0;
}
Error.stackTraceLimit = t._globalOptions.stackTraceLimit;
return this;
},
setDSN: function(t) {
var e = this, i = e._parseDSN(t), n = i.path.lastIndexOf("/"), o = i.path.substr(1, n);
e._dsn = t;
e._globalKey = i.user;
e._globalSecret = i.pass && i.pass.substr(1);
e._globalProject = i.path.substr(n + 1);
e._globalServer = e._getGlobalServer(i);
e._globalEndpoint = e._globalServer + "/" + o + "api/" + e._globalProject + "/store/";
this._resetBackoff();
},
context: function(t, e, i) {
if (o(t)) {
i = e || [];
e = t;
t = void 0;
}
return this.wrap(t, e).apply(this, i);
},
wrap: function(t, e, i) {
function r() {
var n = [], r = arguments.length, a = !t || t && t.deep !== !1;
i && o(i) && i.apply(this, arguments);
for (;r--; ) n[r] = a ? s.wrap(t, arguments[r]) : arguments[r];
try {
return e.apply(this, n);
} catch (e) {
s._ignoreNextOnError();
s.captureException(e, t);
throw e;
}
}
var s = this;
if (n(e) && !o(t)) return t;
if (o(t)) {
e = t;
t = void 0;
}
if (!o(e)) return e;
try {
if (e.__raven__) return e;
if (e.__raven_wrapper__) return e.__raven_wrapper__;
} catch (t) {
return e;
}
for (var a in e) c(e, a) && (r[a] = e[a]);
r.prototype = e.prototype;
e.__raven_wrapper__ = r;
r.__raven__ = !0;
r.__inner__ = e;
return r;
},
uninstall: function() {
y.report.uninstall();
this._restoreBuiltIns();
Error.stackTraceLimit = this._originalErrorStackTraceLimit;
this._isRavenInstalled = !1;
return this;
},
captureException: function(t, e) {
if (!A(t)) return this.captureMessage(t, u({
trimHeadFrames: 1,
stacktrace: !0
}, e));
this._lastCapturedException = t;
try {
var i = y.computeStackTrace(t);
this._handleStackInfo(i, e);
} catch (e) {
if (t !== e) throw e;
}
return this;
},
captureMessage: function(t, e) {
if (!this._globalOptions.ignoreErrors.test || !this._globalOptions.ignoreErrors.test(t)) {
e = e || {};
var i = u({
message: t + ""
}, e);
if (this._globalOptions.stacktrace || e && e.stacktrace) {
var n;
try {
throw new Error(t);
} catch (t) {
n = t;
}
n.name = null;
e = u({
fingerprint: t,
trimHeadFrames: (e.trimHeadFrames || 0) + 1
}, e);
var o = y.computeStackTrace(n), r = this._prepareFrames(o, e);
i.stacktrace = {
frames: r.reverse()
};
}
this._send(i);
return this;
}
},
captureBreadcrumb: function(t) {
var e = u({
timestamp: s() / 1e3
}, t);
if (o(this._globalOptions.breadcrumbCallback)) {
var i = this._globalOptions.breadcrumbCallback(e);
if (k(i) && !_(i)) e = i; else if (i === !1) return this;
}
this._breadcrumbs.push(e);
this._breadcrumbs.length > this._globalOptions.maxBreadcrumbs && this._breadcrumbs.shift();
return this;
},
addPlugin: function(t) {
var e = [].slice.call(arguments, 1);
this._plugins.push([ t, e ]);
this._isRavenInstalled && this._drainPlugins();
return this;
},
setUserContext: function(t) {
this._globalContext.user = t;
return this;
},
setExtraContext: function(t) {
this._mergeContext("extra", t);
return this;
},
setTagsContext: function(t) {
this._mergeContext("tags", t);
return this;
},
clearContext: function() {
this._globalContext = {};
return this;
},
getContext: function() {
return JSON.parse(j(this._globalContext));
},
setEnvironment: function(t) {
this._globalOptions.environment = t;
return this;
},
setRelease: function(t) {
this._globalOptions.release = t;
return this;
},
setDataCallback: function(t) {
var e = this._globalOptions.dataCallback;
this._globalOptions.dataCallback = o(t) ? function(i) {
return t(i, e);
} : t;
return this;
},
setBreadcrumbCallback: function(t) {
var e = this._globalOptions.breadcrumbCallback;
this._globalOptions.breadcrumbCallback = o(t) ? function(i) {
return t(i, e);
} : t;
return this;
},
setShouldSendCallback: function(t) {
var e = this._globalOptions.shouldSendCallback;
this._globalOptions.shouldSendCallback = o(t) ? function(i) {
return t(i, e);
} : t;
return this;
},
setTransport: function(t) {
this._globalOptions.transport = t;
return this;
},
lastException: function() {
return this._lastCapturedException;
},
lastEventId: function() {
return this._lastEventId;
},
isSetup: function() {
if (!this._hasJSON) return !1;
if (!this._globalServer) {
if (!this.ravenNotConfiguredError) {
this.ravenNotConfiguredError = !0;
this._logDebug("error", "Error: Raven has not been configured.");
}
return !1;
}
return !0;
},
afterLoad: function() {
var t = T.RavenConfig;
t && this.config(t.dsn, t.config).install();
},
showReportDialog: function(t) {
if (D) {
t = t || {};
var e = t.eventId || this.lastEventId();
if (!e) throw new C("Missing eventId");
var i = t.dsn || this._dsn;
if (!i) throw new C("Missing DSN");
var n = encodeURIComponent, o = "";
o += "?eventId=" + n(e);
o += "&dsn=" + n(i);
var r = t.user || this._globalContext.user;
if (r) {
r.name && (o += "&name=" + n(r.name));
r.email && (o += "&email=" + n(r.email));
}
var s = this._getGlobalServer(this._parseDSN(i)), a = D.createElement("script");
a.async = !0;
a.src = s + "/api/embed/error-page/" + o;
(D.head || D.body).appendChild(a);
}
},
_ignoreNextOnError: function() {
var t = this;
this._ignoreOnError += 1;
setTimeout(function() {
t._ignoreOnError -= 1;
});
},
_triggerEvent: function(t, e) {
var i, n;
if (this._hasDocument) {
e = e || {};
t = "raven" + t.substr(0, 1).toUpperCase() + t.substr(1);
if (D.createEvent) {
i = D.createEvent("HTMLEvents");
i.initEvent(t, !0, !0);
} else {
i = D.createEventObject();
i.eventType = t;
}
for (n in e) c(e, n) && (i[n] = e[n]);
if (D.createEvent) D.dispatchEvent(i); else try {
D.fireEvent("on" + i.eventType.toLowerCase(), i);
} catch (t) {}
}
},
_breadcrumbEventHandler: function(t) {
var e = this;
return function(i) {
e._keypressTimeout = null;
if (e._lastCapturedEvent !== i) {
e._lastCapturedEvent = i;
var n;
try {
n = m(i.target);
} catch (t) {
n = "<unknown>";
}
e.captureBreadcrumb({
category: "ui." + t,
message: n
});
}
};
},
_keypressEventHandler: function() {
var t = this, e = 1e3;
return function(i) {
var n;
try {
n = i.target;
} catch (t) {
return;
}
var o = n && n.tagName;
if (o && ("INPUT" === o || "TEXTAREA" === o || n.isContentEditable)) {
var r = t._keypressTimeout;
r || t._breadcrumbEventHandler("input")(i);
clearTimeout(r);
t._keypressTimeout = setTimeout(function() {
t._keypressTimeout = null;
}, e);
}
};
},
_captureUrlChange: function(t, e) {
var i = p(this._location.href), n = p(e), o = p(t);
this._lastHref = e;
i.protocol === n.protocol && i.host === n.host && (e = n.relative);
i.protocol === o.protocol && i.host === o.host && (t = o.relative);
this.captureBreadcrumb({
category: "navigation",
data: {
to: e,
from: t
}
});
},
_instrumentTryCatch: function() {
function t(t) {
return function(e, n) {
for (var r = new Array(arguments.length), s = 0; s < r.length; ++s) r[s] = arguments[s];
var a = r[0];
o(a) && (r[0] = i.wrap(a));
return t.apply ? t.apply(this, r) : t(r[0], r[1]);
};
}
function e(t) {
var e = T[t] && T[t].prototype;
if (e && e.hasOwnProperty && e.hasOwnProperty("addEventListener")) {
v(e, "addEventListener", function(e) {
return function(n, o, s, a) {
try {
o && o.handleEvent && (o.handleEvent = i.wrap(o.handleEvent));
} catch (t) {}
var _, l, u;
if (r && r.dom && ("EventTarget" === t || "Node" === t)) {
l = i._breadcrumbEventHandler("click");
u = i._keypressEventHandler();
_ = function(t) {
if (t) {
var e;
try {
e = t.type;
} catch (t) {
return;
}
return "click" === e ? l(t) : "keypress" === e ? u(t) : void 0;
}
};
}
return e.call(this, n, i.wrap(o, void 0, _), s, a);
};
}, n);
v(e, "removeEventListener", function(t) {
return function(e, i, n, o) {
try {
i = i && (i.__raven_wrapper__ ? i.__raven_wrapper__ : i);
} catch (t) {}
return t.call(this, e, i, n, o);
};
}, n);
}
}
var i = this, n = i._wrappedBuiltIns, r = this._globalOptions.autoBreadcrumbs;
v(T, "setTimeout", t, n);
v(T, "setInterval", t, n);
T.requestAnimationFrame && v(T, "requestAnimationFrame", function(t) {
return function(e) {
return t(i.wrap(e));
};
}, n);
for (var s = [ "EventTarget", "Window", "Node", "ApplicationCache", "AudioTrackList", "ChannelMergerNode", "CryptoOperation", "EventSource", "FileReader", "HTMLUnknownElement", "IDBDatabase", "IDBRequest", "IDBTransaction", "KeyOperation", "MediaController", "MessagePort", "ModalWindow", "Notification", "SVGElementInstance", "Screen", "TextTrack", "TextTrackCue", "TextTrackList", "WebSocket", "WebSocketWorker", "Worker", "XMLHttpRequest", "XMLHttpRequestEventTarget", "XMLHttpRequestUpload" ], a = 0; a < s.length; a++) e(s[a]);
},
_instrumentBreadcrumbs: function() {
function t(t, i) {
t in i && o(i[t]) && v(i, t, function(t) {
return e.wrap(t);
});
}
var e = this, i = this._globalOptions.autoBreadcrumbs, n = e._wrappedBuiltIns;
if (i.xhr && "XMLHttpRequest" in T) {
var s = XMLHttpRequest.prototype;
v(s, "open", function(t) {
return function(i, n) {
r(n) && n.indexOf(e._globalKey) === -1 && (this.__raven_xhr = {
method: i,
url: n,
status_code: null
});
return t.apply(this, arguments);
};
}, n);
v(s, "send", function(i) {
return function(n) {
function r() {
if (s.__raven_xhr && (1 === s.readyState || 4 === s.readyState)) {
try {
s.__raven_xhr.status_code = s.status;
} catch (t) {}
e.captureBreadcrumb({
type: "http",
category: "xhr",
data: s.__raven_xhr
});
}
}
for (var s = this, a = [ "onload", "onerror", "onprogress" ], _ = 0; _ < a.length; _++) t(a[_], s);
"onreadystatechange" in s && o(s.onreadystatechange) ? v(s, "onreadystatechange", function(t) {
return e.wrap(t, void 0, r);
}) : s.onreadystatechange = r;
return i.apply(this, arguments);
};
}, n);
}
i.xhr && "fetch" in T && v(T, "fetch", function(t) {
return function(i, n) {
for (var o = new Array(arguments.length), r = 0; r < o.length; ++r) o[r] = arguments[r];
var s, a = o[0], _ = "GET";
if ("string" == typeof a) s = a; else {
s = a.url;
a.method && (_ = a.method);
}
o[1] && o[1].method && (_ = o[1].method);
var l = {
method: _,
url: s,
status_code: null
};
e.captureBreadcrumb({
type: "http",
category: "fetch",
data: l
});
return t.apply(this, o).then(function(t) {
l.status_code = t.status;
return t;
});
};
}, n);
if (i.dom && this._hasDocument) if (D.addEventListener) {
D.addEventListener("click", e._breadcrumbEventHandler("click"), !1);
D.addEventListener("keypress", e._keypressEventHandler(), !1);
} else {
D.attachEvent("onclick", e._breadcrumbEventHandler("click"));
D.attachEvent("onkeypress", e._keypressEventHandler());
}
var a = T.chrome, _ = a && a.app && a.app.runtime, u = !_ && T.history && history.pushState;
if (i.location && u) {
var d = T.onpopstate;
T.onpopstate = function() {
var t = e._location.href;
e._captureUrlChange(e._lastHref, t);
if (d) return d.apply(this, arguments);
};
v(history, "pushState", function(t) {
return function() {
var i = arguments.length > 2 ? arguments[2] : void 0;
i && e._captureUrlChange(e._lastHref, i + "");
return t.apply(this, arguments);
};
}, n);
}
if (i.console && "console" in T && console.log) {
var c = function(t, i) {
e.captureBreadcrumb({
message: t,
level: i.level,
category: "console"
});
};
l([ "debug", "info", "warn", "error", "log" ], function(t, e) {
I(console, e, c);
});
}
},
_restoreBuiltIns: function() {
for (var t; this._wrappedBuiltIns.length; ) {
t = this._wrappedBuiltIns.shift();
var e = t[0], i = t[1], n = t[2];
e[i] = n;
}
},
_drainPlugins: function() {
var t = this;
l(this._plugins, function(e, i) {
var n = i[0], o = i[1];
n.apply(t, [ t ].concat(o));
});
},
_parseDSN: function(t) {
var e = B.exec(t), i = {}, n = 7;
try {
for (;n--; ) i[N[n]] = e[n] || "";
} catch (e) {
throw new C("Invalid DSN: " + t);
}
if (i.pass && !this._globalOptions.allowSecretKey) throw new C("Do not specify your secret key in the DSN. See: http://bit.ly/raven-secret-key");
return i;
},
_getGlobalServer: function(t) {
var e = "//" + t.host + (t.port ? ":" + t.port : "");
t.protocol && (e = t.protocol + ":" + e);
return e;
},
_handleOnErrorStackInfo: function() {
this._ignoreOnError || this._handleStackInfo.apply(this, arguments);
},
_handleStackInfo: function(t, e) {
var i = this._prepareFrames(t, e);
this._triggerEvent("handle", {
stackInfo: t,
options: e
});
this._processException(t.name, t.message, t.url, t.lineno, i, e);
},
_prepareFrames: function(t, e) {
var i = this, n = [];
if (t.stack && t.stack.length) {
l(t.stack, function(t, e) {
var o = i._normalizeFrame(e);
o && n.push(o);
});
if (e && e.trimHeadFrames) for (var o = 0; o < e.trimHeadFrames && o < n.length; o++) n[o].in_app = !1;
}
n = n.slice(0, this._globalOptions.stackTraceLimit);
return n;
},
_normalizeFrame: function(t) {
if (t.url) {
var e = {
filename: t.url,
lineno: t.line,
colno: t.column,
function: t.func || "?"
};
e.in_app = !(this._globalOptions.includePaths.test && !this._globalOptions.includePaths.test(e.filename) || /(Raven|TraceKit)\./.test(e.function) || /raven\.(min\.)?js$/.test(e.filename));
return e;
}
},
_processException: function(t, e, i, n, o, r) {
var s;
if (!this._globalOptions.ignoreErrors.test || !this._globalOptions.ignoreErrors.test(e)) {
e += "";
if (o && o.length) {
i = o[0].filename || i;
o.reverse();
s = {
frames: o
};
} else i && (s = {
frames: [ {
filename: i,
lineno: n,
in_app: !0
} ]
});
if ((!this._globalOptions.ignoreUrls.test || !this._globalOptions.ignoreUrls.test(i)) && (!this._globalOptions.whitelistUrls.test || this._globalOptions.whitelistUrls.test(i))) {
var a = u({
exception: {
values: [ {
type: t,
value: e,
stacktrace: s
} ]
},
culprit: i
}, r);
this._send(a);
}
}
},
_trimPacket: function(t) {
var e = this._globalOptions.maxMessageLength;
t.message && (t.message = d(t.message, e));
if (t.exception) {
var i = t.exception.values[0];
i.value = d(i.value, e);
}
var n = t.request;
if (n) {
n.url && (n.url = d(n.url, this._globalOptions.maxUrlLength));
n.Referer && (n.Referer = d(n.Referer, this._globalOptions.maxUrlLength));
}
t.breadcrumbs && t.breadcrumbs.values && this._trimBreadcrumbs(t.breadcrumbs);
return t;
},
_trimBreadcrumbs: function(t) {
for (var e, i, n, o = [ "to", "from", "url" ], r = 0; r < t.values.length; ++r) {
i = t.values[r];
if (i.hasOwnProperty("data") && k(i.data)) {
n = i.data;
for (var s = 0; s < o.length; ++s) {
e = o[s];
n.hasOwnProperty(e) && (n[e] = d(n[e], this._globalOptions.maxUrlLength));
}
}
}
},
_getHttpData: function() {
if (this._hasNavigator || this._hasDocument) {
var t = {};
this._hasNavigator && E.userAgent && (t.headers = {
"User-Agent": navigator.userAgent
});
if (this._hasDocument) {
D.location && D.location.href && (t.url = D.location.href);
if (D.referrer) {
t.headers || (t.headers = {});
t.headers.Referer = D.referrer;
}
}
return t;
}
},
_resetBackoff: function() {
this._backoffDuration = 0;
this._backoffStart = null;
},
_shouldBackoff: function() {
return this._backoffDuration && s() - this._backoffStart < this._backoffDuration;
},
_isRepeatData: function(t) {
var e = this._lastData;
return !(!e || t.message !== e.message || t.culprit !== e.culprit) && (t.stacktrace || e.stacktrace ? x(t.stacktrace, e.stacktrace) : !t.exception && !e.exception || w(t.exception, e.exception));
},
_setBackoffState: function(t) {
if (!this._shouldBackoff()) {
var e = t.status;
if (400 === e || 401 === e || 429 === e) {
var i;
try {
i = t.getResponseHeader("Retry-After");
i = 1e3 * parseInt(i, 10);
} catch (t) {}
this._backoffDuration = i ? i : 2 * this._backoffDuration || 1e3;
this._backoffStart = s();
}
}
},
_send: function(t) {
var e = this._globalOptions, i = {
project: this._globalProject,
logger: e.logger,
platform: "javascript"
}, n = this._getHttpData();
n && (i.request = n);
t.trimHeadFrames && delete t.trimHeadFrames;
t = u(i, t);
t.tags = u(u({}, this._globalContext.tags), t.tags);
t.extra = u(u({}, this._globalContext.extra), t.extra);
t.extra["session:duration"] = s() - this._startTime;
this._breadcrumbs && this._breadcrumbs.length > 0 && (t.breadcrumbs = {
values: [].slice.call(this._breadcrumbs, 0)
});
_(t.tags) && delete t.tags;
this._globalContext.user && (t.user = this._globalContext.user);
e.environment && (t.environment = e.environment);
e.release && (t.release = e.release);
e.serverName && (t.server_name = e.serverName);
o(e.dataCallback) && (t = e.dataCallback(t) || t);
t && !_(t) && (o(e.shouldSendCallback) && !e.shouldSendCallback(t) || (this._shouldBackoff() ? this._logDebug("warn", "Raven dropped error due to backoff: ", t) : "number" == typeof e.sampleRate ? Math.random() < e.sampleRate && this._sendProcessedPayload(t) : this._sendProcessedPayload(t)));
},
_getUuid: function() {
return g();
},
_sendProcessedPayload: function(t, e) {
var i = this, n = this._globalOptions;
if (this.isSetup()) {
this._lastEventId = t.event_id || (t.event_id = this._getUuid());
t = this._trimPacket(t);
if (this._globalOptions.allowDuplicates || !this._isRepeatData(t)) {
this._lastData = t;
this._logDebug("debug", "Raven about to send:", t);
var o = {
sentry_version: "7",
sentry_client: "raven-js/" + this.VERSION,
sentry_key: this._globalKey
};
this._globalSecret && (o.sentry_secret = this._globalSecret);
var r = t.exception && t.exception.values[0];
this.captureBreadcrumb({
category: "sentry",
message: r ? (r.type ? r.type + ": " : "") + r.value : t.message,
event_id: t.event_id,
level: t.level || "error"
});
var s = this._globalEndpoint;
(n.transport || this._makeRequest).call(this, {
url: s,
auth: o,
data: t,
options: n,
onSuccess: function() {
i._resetBackoff();
i._triggerEvent("success", {
data: t,
src: s
});
e && e();
},
onError: function(n) {
i._logDebug("error", "Raven transport failed to send: ", n);
n.request && i._setBackoffState(n.request);
i._triggerEvent("failure", {
data: t,
src: s
});
n = n || new Error("Raven send failed (no additional details provided)");
e && e(n);
}
});
} else this._logDebug("warn", "Raven dropped repeat event: ", t);
}
},
_makeRequest: function(t) {
var e = new XMLHttpRequest(), i = "withCredentials" in e || "undefined" != typeof XDomainRequest;
if (i) {
var n = t.url;
if ("withCredentials" in e) e.onreadystatechange = function() {
if (4 === e.readyState) if (200 === e.status) t.onSuccess && t.onSuccess(); else if (t.onError) {
var i = new Error("Sentry error code: " + e.status);
i.request = e;
t.onError(i);
}
}; else {
e = new XDomainRequest();
n = n.replace(/^https?:/, "");
t.onSuccess && (e.onload = t.onSuccess);
t.onError && (e.onerror = function() {
var i = new Error("Sentry error code: XDomainRequest");
i.request = e;
t.onError(i);
});
}
e.open("POST", n + "?" + f(t.auth));
e.send(j(t.data));
}
},
_logDebug: function(t) {
this._originalConsoleMethods[t] && this.debug && Function.prototype.apply.call(this._originalConsoleMethods[t], this._originalConsole, [].slice.call(arguments, 1));
},
_mergeContext: function(t, e) {
n(e) ? delete this._globalContext[t] : this._globalContext[t] = u(this._globalContext[t] || {}, e);
}
};
var O = Object.prototype;
"undefined" != typeof __DEV__ && __DEV__ && (a.utils = {
isUndefined: n,
isFunction: o,
isString: r,
isObject: k,
isEmptyObject: _,
isError: A,
each: l,
objectMerge: u,
truncate: d,
hasKey: c,
joinRegExp: h,
urlencode: f,
uuid4: g,
htmlTreeAsString: m,
htmlElementAsString: $,
parseUrl: p,
fill: v
});
a.prototype.setUser = a.prototype.setUserContext;
a.prototype.setReleaseContext = a.prototype.setRelease;
t.exports = a;
}).call(e, function() {
return this;
}(), i(11), i(10), i(20));
}, function(t, e, i) {
(function(e) {
"use strict";
function n() {
return "undefined" == typeof document || "undefined" == typeof document.location ? "" : document.location.href;
}
var o = i(310), r = {
collectWindowErrors: !0,
debug: !1
}, s = "undefined" != typeof window ? window : "undefined" != typeof e ? e : "undefined" != typeof self ? self : {}, a = [].slice, _ = "?", l = /^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/;
r.report = function() {
function t(t) {
c();
$.push(t);
}
function e(t) {
for (var e = $.length - 1; e >= 0; --e) $[e] === t && $.splice(e, 1);
}
function i() {
h();
$ = [];
}
function u(t, e) {
var i = null;
if (!e || r.collectWindowErrors) {
for (var n in $) if ($.hasOwnProperty(n)) try {
$[n].apply(null, [ t ].concat(a.call(arguments, 2)));
} catch (t) {
i = t;
}
if (i) throw i;
}
}
function d(t, e, i, s, a) {
var d = null;
if (x) {
r.computeStackTrace.augmentStackTraceWithInitialElement(x, e, i, t);
f();
} else if (a && o.isError(a)) {
d = r.computeStackTrace(a);
u(d, !0);
} else {
var c, h = {
url: e,
line: i,
column: s
}, p = void 0, m = t;
if ("[object String]" === {}.toString.call(t)) {
var c = t.match(l);
if (c) {
p = c[1];
m = c[2];
}
}
h.func = _;
d = {
name: p,
message: m,
url: n(),
stack: [ h ]
};
u(d, !0);
}
return !!g && g.apply(this, arguments);
}
function c() {
if (!m) {
g = s.onerror;
s.onerror = d;
m = !0;
}
}
function h() {
if (m) {
s.onerror = g;
m = !1;
g = void 0;
}
}
function f() {
var t = x, e = b;
b = null;
x = null;
w = null;
u.apply(null, [ t, !1 ].concat(e));
}
function p(t, e) {
var i = a.call(arguments, 1);
if (x) {
if (w === t) return;
f();
}
var n = r.computeStackTrace(t);
x = n;
w = t;
b = i;
setTimeout(function() {
w === t && f();
}, n.incomplete ? 2e3 : 0);
if (e !== !1) throw t;
}
var g, m, $ = [], b = null, w = null, x = null;
p.subscribe = t;
p.unsubscribe = e;
p.uninstall = i;
return p;
}();
r.computeStackTrace = function() {
function t(t) {
if ("undefined" != typeof t.stack && t.stack) {
for (var e, i, o, r = /^\s*at (.*?) ?\(((?:file|https?|blob|chrome-extension|native|eval|webpack|<anonymous>|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i, s = /^\s*(.*?)(?:\((.*?)\))?(?:^|@)((?:file|https?|blob|chrome|webpack|resource|\[native).*?)(?::(\d+))?(?::(\d+))?\s*$/i, a = /^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i, l = /(\S+) line (\d+)(?: > eval line \d+)* > eval/i, u = /\((\S*)(?::(\d+))(?::(\d+))\)/, d = t.stack.split("\n"), c = [], h = (/^(.*) is undefined$/.exec(t.message), 
0), f = d.length; h < f; ++h) {
if (i = r.exec(d[h])) {
var p = i[2] && 0 === i[2].indexOf("native"), g = i[2] && 0 === i[2].indexOf("eval");
if (g && (e = u.exec(i[2]))) {
i[2] = e[1];
i[3] = e[2];
i[4] = e[3];
}
o = {
url: p ? null : i[2],
func: i[1] || _,
args: p ? [ i[2] ] : [],
line: i[3] ? +i[3] : null,
column: i[4] ? +i[4] : null
};
} else if (i = a.exec(d[h])) o = {
url: i[2],
func: i[1] || _,
args: [],
line: +i[3],
column: i[4] ? +i[4] : null
}; else {
if (!(i = s.exec(d[h]))) continue;
var g = i[3] && i[3].indexOf(" > eval") > -1;
if (g && (e = l.exec(i[3]))) {
i[3] = e[1];
i[4] = e[2];
i[5] = null;
} else 0 !== h || i[5] || "undefined" == typeof t.columnNumber || (c[0].column = t.columnNumber + 1);
o = {
url: i[3],
func: i[1] || _,
args: i[2] ? i[2].split(",") : [],
line: i[4] ? +i[4] : null,
column: i[5] ? +i[5] : null
};
}
!o.func && o.line && (o.func = _);
c.push(o);
}
return c.length ? {
name: t.name,
message: t.message,
url: n(),
stack: c
} : null;
}
}
function e(t, e, i, n) {
var o = {
url: e,
line: i
};
if (o.url && o.line) {
t.incomplete = !1;
o.func || (o.func = _);
if (t.stack.length > 0 && t.stack[0].url === o.url) {
if (t.stack[0].line === o.line) return !1;
if (!t.stack[0].line && t.stack[0].func === o.func) {
t.stack[0].line = o.line;
return !1;
}
}
t.stack.unshift(o);
t.partial = !0;
return !0;
}
t.incomplete = !0;
return !1;
}
function i(t, s) {
for (var a, l, u = /function\s+([_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*)?\s*\(/i, d = [], c = {}, h = !1, f = i.caller; f && !h; f = f.caller) if (f !== o && f !== r.report) {
l = {
url: null,
func: _,
line: null,
column: null
};
f.name ? l.func = f.name : (a = u.exec(f.toString())) && (l.func = a[1]);
if ("undefined" == typeof l.func) try {
l.func = a.input.substring(0, a.input.indexOf("{"));
} catch (t) {}
c["" + f] ? h = !0 : c["" + f] = !0;
d.push(l);
}
s && d.splice(0, s);
var p = {
name: t.name,
message: t.message,
url: n(),
stack: d
};
e(p, t.sourceURL || t.fileName, t.line || t.lineNumber, t.message || t.description);
return p;
}
function o(e, o) {
var s = null;
o = null == o ? 0 : +o;
try {
s = t(e);
if (s) return s;
} catch (t) {
if (r.debug) throw t;
}
try {
s = i(e, o + 1);
if (s) return s;
} catch (t) {
if (r.debug) throw t;
}
return {
name: e.name,
message: e.message,
url: n()
};
}
o.augmentStackTraceWithInitialElement = e;
o.computeStackTraceFromStackProp = t;
return o;
}();
t.exports = r;
}).call(e, function() {
return this;
}());
}, function(t, e) {
"use strict";
function i(t) {
return "object" == typeof t && null !== t;
}
function n(t) {
switch ({}.toString.call(t)) {
case "[object Error]":
return !0;

case "[object Exception]":
return !0;

case "[object DOMException]":
return !0;

default:
return t instanceof Error;
}
}
t.exports = {
isObject: i,
isError: n
};
}, function(t, e) {
"use strict";
function i(t, e) {
for (var i = 0; i < t.length; ++i) if (t[i] === e) return i;
return -1;
}
function n(t, e, i, n) {
return JSON.stringify(t, o(e, n), i);
}
function o(t, e) {
var n = [], o = [];
null == e && (e = function(t, e) {
return n[0] === e ? "[Circular ~]" : "[Circular ~." + o.slice(0, i(n, e)).join(".") + "]";
});
return function(r, s) {
if (n.length > 0) {
var a = i(n, this);
~a ? n.splice(a + 1) : n.push(this);
~a ? o.splice(a, 1 / 0, r) : o.push(r);
~i(n, s) && (s = e.call(this, r, s));
} else n.push(s);
return null == t ? s : t.call(this, r, s);
};
}
e = t.exports = n;
e.getSerialize = o;
}, function(t, e) {
"use strict";
function i(t) {
this.name = "RavenConfigError";
this.message = t;
}
i.prototype = new Error();
i.prototype.constructor = i;
t.exports = i;
}, function(t, e) {
"use strict";
var i = function(t, e, i) {
var n = t[e], o = t;
if (e in t) {
var r = "warn" === e ? "warning" : e;
t[e] = function() {
var t = [].slice.call(arguments), e = "" + t.join(" "), s = {
level: r,
logger: "console",
extra: {
arguments: t
}
};
i && i(e, s);
n && Function.prototype.apply.call(n, o, t);
};
}
};
t.exports = {
wrapMethod: i
};
}, function(t, e, i) {
(function(e, n, o, r, s, a, _) {
e.__$$__jx_ui_FloatingFrame = i(84);
e.__$$__meshim_widget_widgets_fontLoader_ZopimFont = i(299);
e.__$$__meshim_widget_components_chatButton_Bubble = i(315);
e.__$$__meshim_widget_components_chatButton_Button = i(327);
t.exports = function() {
function t(a, _, u, d, c) {
if (!(this instanceof t)) return new t(a, _, u, d, c);
_ = _ || n.generateID();
var h = [ e.__$$__jx_ui_FloatingFrame, "", "", [ [ e.__$$__meshim_widget_widgets_fontLoader_ZopimFont, "", "", [], {} ], [ e.__$$__meshim_widget_components_chatButton_Bubble, "", "", [], {
addClass: "bubble"
} ], [ e.__$$__meshim_widget_components_chatButton_Button, "", "", [], {} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:widgets": "meshim.widget.widgets",
"xmlns:chatButton": "meshim.widget.components.chatButton",
cursor: "pointer"
} ], f = h[0].call(this, a, _, null, n.mangleIDs(_, h[3]), h[4]), p = f || this;
n.set(_, p);
if (!t.__jx__jcss_generated) {
o.generate(a, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var g = function() {
function t() {
g.bind(p.iwin);
p.dom.className = "zopim";
p.iframe.setStyle("display", "block");
p.content.addClass("meshim_widget_Widget");
p.wrapper.addClass(p.__jx__fqname);
p.ibody.style.overflow = "hidden";
f(p.ibody);
B && p.setPosition("relative");
p.autobind(y, "value", function(t) {
if (j != t) {
j = t;
a();
}
});
p.autobind(I, "value", function(t) {
t = parseInt(t, 10);
if (!isNaN(t) && t >= 0) {
D = t;
n();
}
});
p.autobind(N, "value", function(t) {
t = parseInt(t, 10);
if (!isNaN(t) && t >= 0) {
T = t;
n();
}
});
p.autobind(A, "value", function(t) {
t && a();
});
p.autobind(k, "value", function(t) {
l && p.wrapper.removeClass(l);
l = t;
l && p.wrapper.addClass(l);
n();
});
p.autobind(C, "value", function(t) {
t && a();
});
p.autobind(S, "value", function(t) {
t && a();
});
p.autobind(x, "value", function(t) {
if (v != t) {
v = t;
e();
}
});
p.on("click", function() {
c.trackEvent("Button Clicked");
u.resetUnreadCount();
w.write({
button_clicked$bool: !0
});
h.userShowBadgeOrWindow();
});
}
function e() {
var t = v;
p.setDisplay(t ? "" : "none");
a();
}
function n() {
o();
r.bugs.noBoxSizing && window.setTimeout(function() {
p.dom.className = p.dom.className;
}, 100);
}
function o() {
if (B) p.setTop("").setRight("").setBottom("").setLeft(""); else switch (l) {
case "br":
p.setTop("").setLeft("").setMarginLeft("").setRight(D).setBottom(T);
break;

case "bm":
p.setTop("").setRight("").setBottom(T).setLeft("50%").setMarginLeft(-Math.round(p.__width / 2) + "px");
break;

case "bl":
p.setTop("").setRight("").setMarginLeft("").setBottom(T).setLeft(D);
break;

case "tr":
p.setBottom("").setLeft("").setMarginLeft("").setTop(T).setRight(D);
break;

case "tm":
p.setRight("").setBottom("").setTop(T).setLeft("50%").setMarginLeft(-Math.round(p.__width / 2) + "px");
break;

case "tl":
p.setRight("").setBottom("").setMarginLeft("").setTop(T).setLeft(D);
}
}
function a() {
_();
s(_, p, "once");
}
function _() {
var t = C.getValue() || 10;
t !== p.getWidth() && p.setWidth(t + "px");
var e = S.getValue() || 10;
j && (e += A.getValue() || 0);
e !== p.getHeight() && p.setHeight(e + "px");
}
var l, u = i(87), d = i(41), c = i(180), h = i(113), f = i(301), g = i(304), m = d.root.$("livechat"), $ = m.$("settings"), b = m.$("ui"), w = b.$("chat_button"), x = w.$("display$bool"), v = -1, y = w.$("bubble").$("display$bool"), j = -1, C = w.$("button_width$int"), S = w.$("button_height$int"), A = w.$("bubble_height$int"), k = $.$("theme").$("chat_button").$("position$string"), I = $.$$("theme.chat_button.h_offset$int"), N = $.$$("theme.chat_button.v_offset$int"), B = b.$("mockup$bool").getValue(), T = 0, D = 10;
t();
}();
for (var m in g) g.hasOwnProperty(m) && (p[m] = g[m]);
p.fire && p.fire("init");
p.setStyle && p.setStyle(u);
p.setAttributes && p.setAttributes(c);
"function" == typeof p.addChildren ? p.addChildren(d) : n.addChildren(p, d);
if (p !== this) {
p.__jx__constructor = l;
p.__jx__native = !1;
}
return p;
}
var l;
t.prototype = a(e.__$$__jx_ui_FloatingFrame.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_FloatingFrame;
t.__jx__jcss = {
"**self": {
"*width": "100%"
},
"&.bm, &.tm": {
margin: "0 auto"
},
"&.br, &.bm, &.bl": {
".button_bar": {
"borderTopLeftRadius, borderTopRightRadius": "$$chatButtonRadius"
},
".favicon": {
borderTopLeftRadius: "$$chatButtonRadius"
},
".rtl .favicon": {
borderTopLeftRadius: 0,
borderTopRightRadius: "$$chatButtonRadius"
}
},
"&.tr, &.tm, &.tl": {
".button_bar": {
"borderBottomLeftRadius, borderBottomRightRadius": "$$chatButtonRadius"
},
".favicon": {
borderBottomLeftRadius: "$$chatButtonRadius"
},
".rtl .favicon": {
borderBottomLeftRadius: 0,
borderBottomRightRadius: "$$chatButtonRadius"
}
}
};
_(t, "meshim_widget_components_ChatButton");
l = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(4), i(21), i(31), i(7), i(13), i(15), i(3));
}, function(t, e, i) {
(function(e, n, o, r, s) {
e.__$$__jx_ui_Widget = i(18);
e.__$$__meshim_widget_components_chatButton_BubbleRenderer = i(316);
t.exports = function() {
function t(r, s, _, l, u) {
if (!(this instanceof t)) return new t(r, s, _, l, u);
s = s || n.generateID();
var d = [ e.__$$__jx_ui_Widget, "", "", [ [ e.__$$__meshim_widget_components_chatButton_BubbleRenderer, "", "", [], {
addClass: "bubble_renderer"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:button": "meshim.widget.components.chatButton",
"xmlns:widgets": "meshim.widget.widgets"
} ], c = d[0].call(this, r, s, null, n.mangleIDs(s, d[3]), d[4]), h = c || this;
n.set(s, h);
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var f = function() {
function t() {
h.autobind(o, "value", function(t) {
if (r != t) {
r = t;
h.setDisplay(r ? "" : "none");
}
});
}
var e = i(41), n = e.root.$("livechat").$("ui").$("chat_button"), o = n.$("bubble").$("display$bool"), r = -1;
t();
}();
for (var p in f) f.hasOwnProperty(p) && (h[p] = f[p]);
h.fire && h.fire("init");
h.setStyle && h.setStyle(_);
h.setAttributes && h.setAttributes(u);
"function" == typeof h.addChildren ? h.addChildren(l) : n.addChildren(h, l);
if (h !== this) {
h.__jx__constructor = a;
h.__jx__native = !1;
}
return h;
}
var a;
t.prototype = r(e.__$$__jx_ui_Widget.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_Widget;
t.__jx__jcss = {
"**self": {
position: "absolute",
width: "100%",
"top, left": 0,
cursor: "pointer"
}
};
s(t, "meshim_widget_components_chatButton_Bubble");
a = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(4), i(21), i(31), i(15), i(3));
}, function(t, e, i) {
(function(e, n, o, r, s, a, _) {
e.__$$__jx_ui_Widget = i(18);
e.__$$__meshim_widget_components_chatButton_BubbleVector = i(317);
e.__$$__meshim_widget_widgets_IconFont = i(98);
t.exports = function() {
function t(a, _, u, d, c) {
if (!(this instanceof t)) return new t(a, _, u, d, c);
_ = _ || n.generateID();
var h = o(113), f = [ e.__$$__jx_ui_Widget, "", "", [ [ e.__$$__meshim_widget_components_chatButton_BubbleVector, "bubble_vector", "", [], {
id: "bubble_vector",
position: "absolute"
} ], [ e.__$$__jx_ui_Widget, "", "", [ [ e.__$$__meshim_widget_widgets_IconFont, "close", "", [], {
id: "close",
icon: "cross",
addClass: "close",
title: h
} ], [ e.__$$__jx_ui_Widget, "bubble_title_container", "", [], {
id: "bubble_title_container",
class: "bubble_title"
} ], [ e.__$$__jx_ui_Widget, "bubble_text_container", "", [], {
id: "bubble_text_container",
class: "bubble_text"
} ] ], {
class: "bubble_text_wrapper"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:button": "meshim.widget.components.chatButton",
"xmlns:widgets": "meshim.widget.widgets",
visibility: "hidden"
} ], p = f[0].call(this, a, _, null, n.mangleIDs(_, f[3]), f[4]), g = p || this;
n.set(_, g);
var m = n.get(_ + "__bubble_vector"), $ = n.get(_ + "__close"), b = n.get(_ + "__bubble_title_container"), w = n.get(_ + "__bubble_text_container");
if (!t.__jx__jcss_generated) {
r.generate(a, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var x = function() {
function t() {
p.rtl(g);
g.autobind(A, "value", function(t) {
if (o != t) {
o = t;
e();
}
});
g.autobind(k, "value", function(t) {
if (r != t) {
r = t;
e();
}
});
g.autobind(B, "value", function(t) {
if (a != t) {
a = t;
b.setText(x.get(B));
e();
}
});
g.autobind(T, "value", function(t) {
if (_ != t) {
_ = t;
w.setText(x.get(T));
w.setDisplay(t ? "" : "none");
e();
}
});
g.autobind(D, "value", function(t) {
t && l != t && (l = t);
});
g.autobind(I, "value", function(t) {
if (t) {
if (u != l) {
u = l;
var i = new v(u);
m.setFill("linear top from(" + i.lighten(.1).toRGB() + ") to(" + i.darken(.2).toRGB() + ") ");
}
e();
}
});
g.autobind(E, "value", function(t) {
t && e();
});
$.on("click", function(t) {
t.stopPropagation();
f.userHideBubble();
});
}
function e() {
if (!d) {
d = window.setTimeout(n, 0);
8 == s.isIE && g.setVisibility("");
}
}
function n() {
d = null;
if (o && r) {
var t = E.getValue();
if (t) {
var e = g.getHeight();
if (e) {
m.setDimension(t, e);
O.update(g.getHeight());
if (!c) {
g.setVisibility("");
c = !0;
}
}
}
}
}
var o, r, a, _, l, u, d, c, h = i(41), f = i(113), p = i(97), x = i(99), v = i(321), y = h.root.$("livechat"), j = y.$("settings"), C = y.$("ui"), S = C.$("chat_button"), A = S.$("display$bool"), k = S.$("bubble").$("display$bool"), I = C.$("theme_loaded$bool"), N = j.$("bubble"), B = N.$("title$string"), T = N.$("text$string"), D = j.$("theme").$("colors").$("bubble$string"), E = S.$("button_width$int"), O = S.$("bubble_height$int");
t();
}();
for (var v in x) x.hasOwnProperty(v) && (g[v] = x[v]);
g.fire && g.fire("init");
g.setStyle && g.setStyle(u);
g.setAttributes && g.setAttributes(c);
"function" == typeof g.addChildren ? g.addChildren(d) : n.addChildren(g, d);
if (g !== this) {
g.__jx__constructor = l;
g.__jx__native = !1;
}
return g;
}
var l;
t.prototype = a(e.__$$__jx_ui_Widget.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_Widget;
t.__jx__jcss = {
"**self": {
position: "relative"
},
".bubble_text_wrapper": {
position: "relative",
padding: "10px 12px 26px"
},
".bubble_title": {
position: "relative",
zIndex: "1",
fontSize: "$$fontSizeL",
fontWeight: "bold",
color: "$$chatBubbleTitleColor",
whiteSpace: "pre-wrap"
},
".bubble_text": {
position: "relative",
zIndex: "1",
marginTop: "5px",
fontSize: "12px",
fontStyle: "italic",
color: "$$chatBubbleTextColor",
whiteSpace: "pre-wrap"
},
".close": {
float: "right",
position: "relative",
top: "-1px",
left: "5px",
padding: "6px 4px 2px",
zIndex: "2",
color: "$$chatBubbleCloseColor",
textShadow: "$$chatBubbleCloseShadow",
borderRadius: "$$radius",
"&:hover": {
background: "$$chatBubbleCloseHoverBg"
}
},
"&.rtl .close": {
float: "left",
left: "auto",
right: "5px"
}
};
_(t, "meshim_widget_components_chatButton_BubbleRenderer");
l = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(4), i(21), i(23), i(31), i(7), i(15), i(3));
}, function(t, e, i) {
(function(e, n, o, r, s, a) {
e.__$$__meshim_common_GCanvas = i(318);
e.__$$__meshim_common_GShape = i(324);
t.exports = function() {
function t(s, a, _, l, u) {
if (!(this instanceof t)) return new t(s, a, _, l, u);
a = a || n.generateID();
var d = [ e.__$$__meshim_common_GCanvas, "", "", [ [ e.__$$__meshim_common_GShape, "content", "", [], {
id: "content",
fill: "linear, top, from(#E0741B), to(#E0981B)",
stroke: "#c2c2c2"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:common": "meshim.common"
} ], c = d[0].call(this, s, a, null, n.mangleIDs(a, d[3]), d[4]), h = c || this;
n.set(a, h);
var f = n.get(a + "__content");
if (!t.__jx__jcss_generated) {
o.generate(s, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var p = function() {
function t() {
f.setStrokeWidth(c);
h.setDimension = s;
h.setFill = function(t) {
f.setFill(t);
};
}
function e(t, e) {
var n = {
tl: [ t.x, t.y ],
tr: [ t.x + t.width, t.y ],
br: [ t.x + t.width, t.y + t.height ],
bl: [ t.x, t.y + t.height ]
};
e = e.slice();
for (var o = 0; o < e.length; o++) {
var r = e[o], s = r[0];
n[s] && (e[o] = i(n[s], r));
}
return e;
}
function i(t, e) {
var i = t[0], n = t[1], o = [];
e = e.slice();
e.shift();
o.push(e.shift());
for (;e.length > 1; ) {
var r = e.splice(0, 2);
o.push(i + r[0]);
o.push(n + r[1]);
}
return o;
}
function n(t) {
for (var e = "", i = {
cs: o
}, n = 0, r = t.length; n < r; n++) {
var s = t[n], a = s[0];
i[a] && (s = i[a].apply(null, s.slice(1)));
e += " " + s.join(" ");
}
return e;
}
function o(t, e, i) {
var n = t, o = e, r = Math.round(.5522848 * n), s = Math.round(.5522848 * o), a = i ? -n * o : n * o;
return a > 0 ? [ "c", r, 0, n, o - s, n, o ] : [ "c", 0, s, n - r, o, n, o ];
}
function s(t, i) {
if (!r(t) || !r(i) || isNaN(t) || isNaN(i)) throw new window.Error("BubbleVector.setDimension(): invalid arguments");
var o = {
x: c - 1,
y: c - 1,
width: t - 2 * c + 2,
height: i - 2 * c - 3
}, s = n(e(o, p));
h.setWidth(t + "px").setHeight(i + "px").setViewBox("0 0 " + t + " " + i);
f.setPath(s);
return h;
}
var a = 8, _ = 8, l = 8, u = 12, d = 19, c = 2, p = [ [ "tl", "M", 0, _ ], [ "cs", a, -_, 0 ], [ "tr", "L", -a, 0 ], [ "cs", a, _, 0 ], [ "br", "L", 0, -_ - l ], [ "cs", -a, _, 0 ], [ "bl", "L", a + d + u, -l ], [ "bl", "L", a + d + u / 2, 0 ], [ "bl", "L", a + d, -l ], [ "bl", "L", a, -l ], [ "cs", -a, -_, 0 ], [ "z" ] ];
t();
}();
for (var g in p) p.hasOwnProperty(g) && (h[g] = p[g]);
h.fire && h.fire("init");
h.setStyle && h.setStyle(_);
h.setAttributes && h.setAttributes(u);
"function" == typeof h.addChildren ? h.addChildren(l) : n.addChildren(h, l);
if (h !== this) {
h.__jx__constructor = i;
h.__jx__native = !1;
}
return h;
}
var i;
t.prototype = s(e.__$$__meshim_common_GCanvas.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__meshim_common_GCanvas;
t.__jx__jcss = {};
a(t, "meshim_widget_components_chatButton_BubbleVector");
i = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(4), i(21), i(31), i(24), i(15), i(3));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t, e, i, n, o) {
e = e || r.generateID();
var a, _ = t.ownerDocument;
a = _.createElement("div");
r.extend(a);
s.extend(a);
r.set(e, a);
var l = !1;
a.appendToParent = function(e) {
r.hasParentNode(a) || r.appendChild(t, a);
if (e && !l) {
t.appendToParent && t.appendToParent(!0);
l = !0;
}
};
a.setViewBox = function() {};
a.setStyle(i);
a.setAttributes(o);
r.addChildren(a, n);
a.appendToParent();
return a;
}
var o, r = i(21), s = i(6), a = i(319), _ = i(322), l = i(323), u = i(320), d = u.detectedGraphicType;
switch (d) {
case "canvas":
o = l;
break;

case "vml":
o = a;
break;

case "svg":
o = _;
break;

case "div":
o = n;
}
t.exports = o;
e(o, "meshim_common_GCanvas");
return o;
}();
}).call(e, i(3));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t, e, n, s, a) {
var _ = i(320);
e = e || o.generateID();
var l, u, d, c, h, f = t.ownerDocument;
l = f.createElement("span");
l.style.display = "inline-block";
l.style.overflow = "hidden";
l.style.position = "relative";
l.vectorType = "vml";
u = _.createVMLNode(f, "group");
u.className = "vml";
u.style.width = "100px";
u.style.height = "100px";
u.style.border = "0px none";
u.style.padding = "0px";
u.style.margin = "0px";
u.style.position = "absolute";
u.style.top = "0px";
u.style.left = "0px";
l.groupshape = u;
d = _.createVMLNode(f, "shape");
d.className = "vml";
d.stroked = !1;
d.fill = !1;
d.style.width = "1px";
d.style.height = "1px";
u.appendChild(d);
l.appendChild(u);
l.graphicType = "vml";
l.defaultPlacement = u;
o.extend(l);
r.extend(l);
o.set(e, l);
var p = !1;
l.appendToParent = function(e) {
o.hasParentNode(l) || o.appendChild(t, l);
if (e && !p) {
t.appendToParent && t.appendToParent(!0);
p = !0;
}
};
l.setCanvasScale = function(t) {
t = parseFloat(t);
c = t;
h && l.setViewBox(h);
return l;
};
l.setViewBox = function(t) {
h = t;
t = _.parseViewBox(t);
var e = l.getElementsByTagName("*"), i = t.x + ", " + t.y, n = "1, 1";
c && (n = 1 / c + "," + 1 / c);
u.coordorigin = i;
for (var o = 0, r = e.length; o < r; o++) {
var s = e[o].tagName;
"shape" !== s && "group" !== s || (e[o].coordsize = n);
}
d.style.left = t.x + "px";
d.style.right = t.y + "px";
return l;
};
var g = l.setWidth, m = l.setHeight;
l.setWidth = function(t) {
"function" == typeof g && g.call(l, t);
u.style.width = "1px";
return l;
};
l.setHeight = function(t) {
"function" == typeof m && m.call(l, t);
u.style.height = "1px";
return l;
};
l.setStyle(n);
l.setAttributes(a);
o.addChildren(l, s);
l.appendToParent();
return l;
}
var o = i(21), r = i(6);
t.exports = n;
e(n, "meshim_common_VmlCanvas");
return n;
}();
}).call(e, i(3));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t, e) {
if (!t._vmlstyled) {
var i = t.createElement("style");
i.setAttribute("type", "text/css");
i.styleSheet.cssText = "v\\:*{behavior:url(#default#VML); display: inline-block;} .vml{behavior:url(#default#VML); display: inline-block;}";
t.getElementsByTagName("head")[0].appendChild(i);
i = null;
t._vmlstyled = !0;
}
return t.createElement("<" + e + ' xmlns="urn:schemas-microsoft.com:vml">');
}
function o(t) {
var e = t.split(/\s+/);
if (4 !== e.length) throw "bad viewBox: " + t;
for (var i = 0; i < 4; i++) {
e[i] = parseInt(e[i], 10);
if (isNaN(e[i])) throw "bad viewBox: " + t;
}
return {
x: e[0],
y: e[1],
width: e[2],
height: e[3]
};
}
function r(t) {
var e = t.split(" ");
return {
offsetX: parseInt(e[0], 10),
offsetY: parseInt(e[1], 10),
blurRadius: parseInt(e[2], 10),
color: e[3],
opacity: parseFloat(e[4]),
rgba: "rgba(" + S(e[3]).toArray().join(",") + "," + e[4] + ")"
};
}
function s() {
var t = document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure", "1.1"), e = document.createElement("canvas").getContext;
return e ? "canvas" : document.createElementNS && t ? "svg" : v.isIE ? "vml" : "none";
}
function a(t) {
var e = /from\(([^)]+\){0,1})\)/.exec(t), i = /to\(([^)]+\){0,1})\)/.exec(t), n = [];
e && n.push({
stop: "0%",
color: new S(e[1])
});
t.replace(/color-stop\(([^)]+\){0,1})\)/g, function(t, e) {
e = _(e);
n.push({
stop: e.substring(0, e.indexOf(" ")),
color: new S(e.substring(e.indexOf(" ")))
});
});
i && n.push({
stop: "100%",
color: new S(i[1])
});
return n;
}
function _(t) {
return t.replace(/[,\s]+/g, " ").trim();
}
function l(t, e) {
function i(t, e, i, n) {
for (var o = 0; o < arguments.length; o++) arguments[o] = parseFloat(arguments[o]);
var r = (n - e) / (i - t);
return Math.round(270 - 180 * Math.atan(r) / Math.PI);
}
e = _(e);
var n, o, r, s, l = e.split(" "), u = [];
n = l.shift();
switch (l[0]) {
case "left":
l.shift();
o = "270";
break;

case "top":
l.shift();
o = "180";
break;

case "right":
l.shift();
o = "90";
break;

case "bottom":
l.shift();
o = "0";
break;

default:
o = i.apply(null, l.splice(0, 4));
}
r = a(e);
for (var d = 0, c = r.length; d < c; d++) {
s = r[d];
u.push(s.stop + " " + s.color.toStrRGB());
}
var h = C.createVMLNode(t, "fill");
h.className = "vml";
h.setAttribute("on", "true");
h.setAttribute("type", "gradient");
h.setAttribute("angle", o);
h.setAttribute("colors", u.join(","));
h.setAttribute("method", "sigma");
s && 1 !== s.color.alpha && h.setAttribute("opacity", s.color.alpha);
return h;
}
function u(t, e) {
e = _(e);
var i, n, o = e.split(" ");
i = o.shift();
switch (o[0]) {
case "left":
o.shift();
n = "0% 0% 100% 0%".split(" ");
break;

case "top":
o.shift();
n = "0% 0% 0% 100%".split(" ");
break;

case "right":
o.shift();
n = "100% 0% 0% 0%".split(" ");
break;

case "bottom":
o.shift();
n = "0% 100% 0% 0%".split(" ");
break;

default:
n = o.splice(0, 4);
}
var r = t.createElementNS("http://www.w3.org/2000/svg", "linearGradient"), s = "grad_" + new Date().getTime() + Math.round(1001 * Math.random());
r.setAttribute("id", s);
r.setAttribute("x1", n[0]);
r.setAttribute("y1", n[1]);
r.setAttribute("x2", n[2]);
r.setAttribute("y2", n[3]);
r.setAttribute("gradientUnits", "objectBoundingBox");
for (var l, u, d = a(e), c = 0; c < d.length; c++) {
u = d[c];
u.stop.indexOf("%") > -1 ? u.stop = parseFloat(u.stop) / 100 : u.stop = parseFloat(u.stop);
l = t.createElementNS("http://www.w3.org/2000/svg", "stop");
l.setAttribute("offset", u.stop);
l.setAttribute("stop-color", u.color.toStrRGB());
l.setAttribute("stop-opacity", u.color.alpha);
r.appendChild(l);
}
return r;
}
function d(t) {
function e(t) {
for (var e = t.length; e--; ) t[e] += a[e % 2];
n(t);
return t;
}
function i(t, e) {
_.push({
command: A[t],
coords: e
});
}
function n(t) {
if (2 == t.length) {
h.x.push(t[0]);
h.y.push(t[1]);
} else {
if (6 != t.length) throw "problem with updateBBox";
var e = o(a.concat(t));
h.x.push(e.minX, e.maxX);
h.y.push(e.minY, e.maxY);
}
}
function o(t) {
var e = t[0], i = t[1], n = t[2], o = t[3], s = t[4], a = t[5], _ = t[6], l = t[7], u = [ e, _ ].concat(r(e, n, s, _)), d = [ i, l ].concat(r(i, o, a, l));
return {
minX: Math.min.apply(null, u),
minY: Math.min.apply(null, d),
maxX: Math.max.apply(null, u),
maxY: Math.max.apply(null, d)
};
}
function r(t, e, i, n) {
var o, r, s, a = [], _ = [];
if (t - 3 * e + 3 * i - n !== 0) {
r = (Math.sqrt(-t * i + t * n + e * e - e * i - e * n + i * i) - t + 2 * e - i) / (-t + 3 * e - 3 * i + n);
s = (-Math.sqrt(-t * i + t * n + e * e - e * i - e * n + i * i) - t + 2 * e - i) / (-t + 3 * e - 3 * i + n);
a.push(r, s);
} else if (t - 3 * e + 3 * i - n === 0 && t - 2 * e + i !== 0) {
o = (t - e) / (2 * (t - 2 * e + i));
a.push(o);
}
for (var l = 0; l < a.length; l++) {
o = a[l];
o < 0 || o > 1 || _.push(Math.pow(1 - o, 3) * t + 3 * (1 - o) * (1 - o) * o * e + 3 * (1 - o) * o * o * i + o * o * o * n);
}
return _;
}
t = t.replace(/[A-Za-z]/g, " $& ").replace(/,/g, " ").replace(/-/g, " -").replace(/\s+/g, " ").trim();
for (var s = t.split(" "), a = [ 0, 0 ], _ = [ {
command: "beginPath"
} ], l = 0, u = s.length; l < u; l++) if (!/^[A-Za-z]/.test(s[l])) {
s[l] = parseFloat(s[l]);
if (isNaN(s[l])) throw new window.Error("Bad path after " + s.slice(0, l).join(" "));
}
for (var d, c = [], h = {
x: [],
y: []
}; s.length; ) {
/^[a-z]$/i.test(s[0]) && (d = s.shift());
switch (d) {
case "M":
c = s.splice(0, 2);
n(c);
i("M", c);
a = c;
break;

case "m":
c = e(s.splice(0, 2));
i("M", c);
a = c;
break;

case "Z":
case "z":
i("Z", []);
break;

case "l":
c = e(s.splice(0, 2));
i("L", c);
a = c;
break;

case "L":
c = s.splice(0, 2);
n(c);
i("L", c);
a = c;
break;

case "c":
c = e(s.splice(0, 6));
i("C", c);
a = [ c[4], c[5] ];
break;

default:
throw new window.Error("Unknown canvas command: " + d);
}
}
var f = function(t) {
for (var e = 0, i = _.length; e < i; e++) {
var n = _[e];
t[n.command].apply(t, n.coords);
}
};
f.bBox = {
minX: Math.min.apply(null, h.x),
minY: Math.min.apply(null, h.y),
maxX: Math.max.apply(null, h.x),
maxY: Math.max.apply(null, h.y)
};
return f;
}
function c(t) {
function e(t, n) {
t = new t.constructor(t, i);
t.id && !n && j.set(t.id, t);
t.attributes && t.setAttributes(t.attributes);
if (t.childrens) for (var o = 0, r = t.childrens.length; o < r; o++) t.childrens[o] = e(t.childrens[o]);
return t;
}
var i = new h(t);
y.extend(i);
e(i, "ignore-id");
return i;
}
function h(t, e) {
t || (t = {});
this.id = t.id;
e && (this.root = e);
this.attributes = t.attributes;
this.childrens = t.childrens;
}
function f(t) {
return t.replace(/^\w/, function(t) {
return t.toUpperCase();
});
}
function p(t, e) {
switch (t) {
case "viewBox":
return o(e);

case "path":
return d(e);

case "fill":
return g(e);

case "shadow":
return r(e);

default:
return e;
}
}
function g(t) {
t = _(t);
return /linear/.test(t) ? function(e, i) {
return m(t, e, i);
} : function() {
return t;
};
}
function m(t, e, i) {
t = t.replace(/,/g, " ").replace(/\s+/g, " ");
var n, o, r = t.split(" ");
o = r.shift();
switch (r.shift()) {
case "left":
n = e.createLinearGradient(i.minX, i.minY, i.maxX, i.minY);
break;

case "top":
n = e.createLinearGradient(i.minX, i.minY, i.minX, i.maxY);
break;

case "right":
n = e.createLinearGradient(i.maxX, i.minY, i.minX, i.minY);
break;

case "bottom":
n = e.createLinearGradient(i.minX, i.maxY, i.minX, i.minY);
}
for (var s, _ = a(t), l = 0; l < _.length; l++) {
s = _[l];
s.stop.indexOf("%") > -1 ? s.stop = parseFloat(s.stop) / 100 : s.stop = parseFloat(s.stop);
n.addColorStop(s.stop, s.color.toStrRGBA());
}
return n;
}
function $(t) {
var e = b(t);
if (t.border) {
var i = {}, n = t.border;
for (var o in t) t.hasOwnProperty(o) && (i[o] = t[o]);
i.x += n;
i.y += n;
i.width -= 2 * n;
i.height -= 2 * n;
i.rx && (i.rx = Math.max(i.rx - n, 1));
i.ry && (i.ry = Math.max(i.ry - n, 1));
e += b(i, "CCW");
}
return e;
}
function b(t, e) {
var i = t.rx, n = t.ry, o = t.width, r = t.height, s = t.x, a = t.y, _ = Math.round(a + r / 2), l = "";
if (i || n) {
var u = .5522848 * i, d = .5522848 * n, c = o - 2 * i, h = r - 2 * n;
l = e ? x("M", s + o, a + n) + (t.corner2 ? w(-i, -n, u, d, 1) : x("l", 0, -n, -i, 0)) + x("l", -c, 0) + (t.corner1 ? w(-i, n, u, d, 1) : x("l", -i, 0, 0, n)) + x("l", 0, h) + (t.corner4 ? w(i, n, u, d, 1) : x("l", 0, n, i, 0)) + x("l", c, 0) + (t.corner3 ? w(i, -n, u, d, 1) : x("l", i, 0, 0, -n)) + "z" : x("M", s, a + n) + (t.corner1 ? w(i, -n, u, d) : x("l", 0, -n, i, 0)) + x("l", c, 0) + (t.corner2 ? w(i, n, u, d) : x("l", i, 0, 0, n)) + x("l", 0, h) + (t.corner3 ? w(-i, n, u, d) : x("l", 0, n, -i, 0)) + x("l", -c, 0) + (t.corner4 ? w(-i, -n, u, d) : x("l", -i, 0, 0, -n)) + "z";
} else {
e && (r = -r);
l = x("M", s, _) + x("l", 0, e ? a - r - _ : a - _) + x("l", o, 0) + x("l", 0, r) + x("l", -o, 0) + "z";
}
return l;
}
function w(t, e, i, n, o) {
var r = t > 0 ? 1 : -1, s = e > 0 ? 1 : -1, a = o ? -r * s : r * s, _ = 1 == a ? r * i : 0, l = 1 == a ? 0 : s * n, u = 1 == a ? t : t - r * i, d = 1 == a ? e - s * n : e;
return x("c", _, l, u, d, t, e);
}
function x(t) {
var e = " ", i = Array.prototype.slice.apply(arguments);
if ("string" == typeof i[0] && /^[A-Za-z]$/.test(i[0])) {
e += t;
i.shift();
}
for (var n = 0, o = i.length; n < o; n++) e += Math.round(i[n]) + " ";
return e;
}
var v = i(7), y = (i(23), i(6)), j = i(21), C = {
parseViewBox: o,
parseShadow: r,
detectedGraphicType: s(),
getGradColors: a,
parseCanvasData: c,
CanvasData: h,
generateVmlLinearGradient: l,
generateSvgLinearGradient: u,
generateCanvasGradient: m,
generate_drawing_function: d,
generateRectPath: $,
createVMLNode: n
}, S = i(321), A = {
M: "moveTo",
L: "lineTo",
C: "bezierCurveTo",
Z: "closePath"
};
h.prototype.setAttribute = function(t, e) {
this.attributes[t] = p(t, e);
this.refresh();
return this;
};
h.prototype.setAttributes = function(t) {
for (var e in t) if (t.hasOwnProperty(e)) {
var i = "set" + f(e);
"function" == typeof this[i] && this[i](t[e]);
}
};
h.prototype.refresh = function() {
this.root ? this.root.fire("update") : this.fire("update");
return this;
};
h.prototype.getAttribute = function(t) {
return this.attributes[t];
};
h.prototype.destroy = function() {
this.id && j.unset(this);
this.root = null;
var t = this.childrens;
if (t) for (var e = 0, i = t.length; e < i; e++) t[e] instanceof h && t[e].destroy();
};
for (var k = "opacity fill stroke strokeWidth d path shadow viewBox".split(" "), I = 0; I < k.length; I++) {
var N = k[I];
h.prototype["set" + f(N)] = function(t) {
return function(e) {
return this.setAttribute(t, e);
};
}(N);
}
t.exports = C;
e(C, "meshim_common_Graphic");
return C;
}();
}).call(e, i(3));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function i(t) {
if (!(this instanceof i)) return new i(t);
var e = "";
"object" == typeof t ? e = "object" : /#/.test(t) ? e = "hex" : /hsl\(.+\)/.test(t) ? e = "hsl" : /hsv\(.+\)/.test(t) ? e = "hsv" : /rgba\(.+\)/.test(t) && (e = "rgba");
switch (e) {
case "object":
o.call(this, t);
break;

case "hex":
n.call(this, t);
break;

case "hsl":
r.call(this, t);
break;

case "hsv":
_.call(this, t);
break;

case "rgba":
a.call(this, t);
}
"number" != typeof this.alpha && (this.alpha = 1);
}
function n(t) {
t = t.replace(/#/g, "").replace(/\s+/g, " ").replace(/^\s|\s$/g, "");
/^\w{3}/.test(t) && (t = t.replace(/^(\w)(\w)(\w)$/, "$1$1$2$2$3$3"));
this.red = parseInt(t.substr(0, 2), 16);
this.green = parseInt(t.substr(2, 2), 16);
this.blue = parseInt(t.substr(4, 2), 16);
}
function o(t) {
if ("red" in t && "green" in t && "blue" in t) {
this.red = t.red;
this.green = t.green;
this.blue = t.blue;
this.alpha = t.alpha;
} else "h" in t && "s" in t && "l" in t ? s.call(this, t) : "h" in t && "s" in t && "v" in t && l.call(this, t);
}
function r(t) {
t = t.replace(/[A-Za-z]+|\(|\)/g, "").replace(/,/g, " ").replace(/\s+/g, " ").replace(/^\s|\s$/g, "");
var e = t.split(" "), i = {
h: parseFloat(e[0]) < 0 ? 360 + parseFloat(e[0]) % 360 : parseFloat(e[0]) % 360,
s: e[1].indexOf("%") < 0 ? parseFloat(e[1]) : parseInt(e[1], 10) / 100,
l: e[2].indexOf("%") < 0 ? parseFloat(e[2]) : parseInt(e[2], 10) / 100
};
s.call(this, i);
}
function s(t) {
var e, i = t.h, n = t.s, o = t.l, r = (1 - Math.abs(2 * o - 1)) * n, s = i / 60, a = r * (1 - Math.abs(s % 2 - 1)), _ = o - .5 * r;
switch (Math.floor(s)) {
case 0:
e = [ r, a, 0 ];
break;

case 1:
e = [ a, r, 0 ];
break;

case 2:
e = [ 0, r, a ];
break;

case 3:
e = [ 0, a, r ];
break;

case 4:
e = [ a, 0, r ];
break;

case 5:
e = [ r, 0, a ];
}
this.red = Math.round(255 * (e[0] + _));
this.green = Math.round(255 * (e[1] + _));
this.blue = Math.round(255 * (e[2] + _));
}
function a(t) {
t = t.replace(/[A-Za-z(,]+/g, " ").replace(/\s+/g, " ").replace(/^\s|\s$/g, "");
var e = t.split(" ");
this.red = parseInt(e[0], 10);
this.green = parseInt(e[1], 10);
this.blue = parseInt(e[2], 10);
this.alpha = parseFloat(e[3]);
}
function _(t) {
t = t.replace(/[A-Za-z%]+|\(|\)/g, "").replace(/,/g, " ").replace(/\s+/g, " ").replace(/^\s|\s$/g, "");
var e = t.split(" "), i = {
h: parseFloat(e[0]) < 0 ? (360 + parseFloat(e[0])) % 360 : parseFloat(e[0]) % 360,
s: e[1].indexOf("%") < 0 ? parseFloat(e[1]) : parseInt(e[1], 10) / 100,
v: e[2].indexOf("%") < 0 ? parseFloat(e[2]) : parseInt(e[2], 10) / 100
};
l.call(this, i);
}
function l(t) {
var e, i = t.h, n = t.s, o = t.v, r = o * n, s = i / 60, a = r * (1 - Math.abs(s % 2 - 1)), _ = o - r;
switch (Math.floor(s)) {
case 0:
e = [ r, a, 0 ];
break;

case 1:
e = [ a, r, 0 ];
break;

case 2:
e = [ 0, r, a ];
break;

case 3:
e = [ 0, a, r ];
break;

case 4:
e = [ a, 0, r ];
break;

case 5:
e = [ r, 0, a ];
}
this.red = Math.round(255 * (e[0] + _));
this.green = Math.round(255 * (e[1] + _));
this.blue = Math.round(255 * (e[2] + _));
}
var u = [ "red", "green", "blue" ];
i.prototype.lighten = function(t) {
var e = this.toHSL();
e.l = e.l + (1 - e.l) * t;
return new i(e);
};
i.prototype.darken = function(t) {
var e = this.toHSL();
e.l = e.l - e.l * t;
return new i(e);
};
i.prototype.blend = function(t, e) {
t instanceof i || (t = new i(t));
for (var n = {}, o = 0; o < 3; o++) {
var r = this[u[o]], s = t[u[o]];
n[u[o]] = Math.round(r + (s - r) * e);
}
return new i(n);
};
i.prototype.complement = function() {
var t = this.red, e = this.blue, n = this.green, o = Math.max(t, e, n), r = Math.min(t, e, n), s = {};
s.red = o + r - t;
s.green = o + r - n;
s.blue = o + r - e;
return new i(s);
};
i.prototype.toStrRGB = i.prototype.toRGB = function() {
for (var t = [], e = 0; e < 3; e++) {
var i = this[u[e]].toString(16);
t[e] = i.length < 2 ? "0" + i : i;
}
return "#" + t.join("");
};
i.prototype.toStrRGBA = function() {
return "rgba(" + [ this.red, this.green, this.blue, this.alpha ].join(",") + ")";
};
i.prototype.toHSL = function() {
var t, e, i, n, o = this.red / 255, r = this.green / 255, s = this.blue / 255, a = Math.max(o, r, s), _ = Math.min(o, r, s), l = a - _;
0 === l ? n = 0 : a == o ? n = (r - s) / l % 6 : a == r ? n = (s - o) / l + 2 : a == s && (n = (o - r) / l + 4);
t = 60 * n;
t = t < 0 ? 360 + t % 360 : t % 360;
i = .5 * (a + _);
e = 0 === l ? 0 : l / (1 - Math.abs(2 * i - 1));
return {
h: t,
s: e,
l: i
};
};
i.prototype.toHSV = function() {
var t, e, i, n, o = this.red / 255, r = this.green / 255, s = this.blue / 255, a = Math.max(o, r, s), _ = Math.min(o, r, s), l = a - _;
0 === l ? n = 0 : a == o ? n = (r - s) / l % 6 : a == r ? n = (s - o) / l + 2 : a == s && (n = (o - r) / l + 4);
t = 60 * n;
t = t < 0 ? 360 + t % 360 : t % 360;
i = a;
e = 0 === l ? 0 : l / i;
return {
h: t,
s: e,
v: i
};
};
i.prototype.toArray = function() {
return [ this.red, this.green, this.blue ];
};
i.prototype.clone = function() {
return new i(this);
};
i.prototype.validate = function() {
for (var t = 0; t < 3; t++) {
var e = this[u[t]];
if (!("number" == typeof e && e >= 0 && e <= 255)) return !1;
}
return "number" == typeof this.alpha && this.alpha >= 0 && this.alpha <= 1;
};
t.exports = i;
e(i, "meshim_common_Color");
return i;
}();
}).call(e, i(3));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t, e, i, n, s) {
e = e || o.generateID();
var a, _ = t.ownerDocument;
a = _.createElementNS("http://www.w3.org/2000/svg", "svg");
a.vectorType = "svg";
o.extend(a);
r.extend(a);
o.set(e, a);
var l = !1;
a.appendToParent = function(e) {
o.hasParentNode(a) || o.appendChild(t, a);
if (e && !l) {
t.appendToParent && t.appendToParent(!0);
l = !0;
}
};
a.setClass = function(t) {
a.setAttribute("class", t);
return a;
};
a.addClass = function(t) {
a.setAttribute("class", a.getAttribute("class") + " " + t);
return a;
};
a.removeClass = function(t) {
var e = a.getAttribute("class"), i = new RegExp("\\b" + t + "\\b", "g");
e.replace(i, "");
a.setAttribute("class", e);
return a;
};
a.setViewBox = function(t) {
a.setAttribute("viewBox", t);
return a;
};
a.setStyle(i);
a.setAttributes(s);
o.addChildren(a, n);
a.appendToParent();
return a;
}
var o = i(21), r = i(6);
t.exports = n;
e(n, "meshim_common_SvgCanvas");
return n;
}();
}).call(e, i(3));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t, e, n, a, _) {
function l() {
w && window.clearInterval(w);
var t = Math.floor(201 * Math.random()) - 100;
w = window.setTimeout(d, 1e3 + t);
}
function u() {
w && window.clearTimeout(w);
}
function d() {
if (j && j.attributes.viewBox) {
m();
c();
h(j.childrens);
}
}
function c() {
var t = j.attributes.viewBox, e = j.attributes.canvasScale ? parseFloat(j.attributes.canvasScale) : 1;
x.width != t.width && (x.width = t.width * e);
x.height != t.height && (x.height = t.height * e);
v.scale(e, e);
v.transform(1, 0, 0, 1, -t.x * e, -t.y * e);
s.isWebKit && t.width * t.height > 4e4 ? l() : u();
f(j);
}
function h(t) {
for (var e = 0, i = t.length; e < i; e++) {
var n = t[e];
v.save();
n.childrens && h(n.childrens);
f(n);
v.restore();
}
}
function f(t) {
var e = t.attributes;
p();
e.left && "function" == typeof t.translateX && t.translateX(v, e.left);
e.top && "function" == typeof t.translateY && t.translateY(v, e.right);
"opacity" in e && (v.globalAlpha = e.opacity * v.globalAlpha);
if (e.path) {
e.stroke && (v.strokeStyle = e.stroke);
e.strokeWidth && (v.lineWidth = e.strokeWidth);
e.fill && (v.fillStyle = e.fill(v, e.path.bBox));
if (e.shadow && !s.isOpera) {
var i = e.shadow;
v.shadowOffsetX = i.offsetX;
v.shadowOffsetY = i.offsetY;
v.shadowBlur = i.blurRadius;
v.shadowColor = i.rgba;
}
e.path(v);
v.fill();
e.shadow && g();
v.stroke();
}
}
function p() {
v.strokeStyle = "rgba(0, 0, 0, 0)";
v.fillStyle = "rgba(0, 0, 0, 1)";
v.lineWidth = 0;
}
function g() {
v.shadowOffsetX = 0;
v.shadowOffsetY = 0;
v.shadowBlur = 0;
v.shadowColor = "#000";
}
function m() {
v.setTransform(1, 0, 0, 1, 0, 0);
v.clearRect(0, 0, x.width, x.height);
}
function $(t) {
for (var e = [], i = 0, n = t.length; i < n; i++) {
var o = t[i];
e.push({
constructor: o[0],
id: o[1],
attributes: o[4],
childrens: $(o[3])
});
}
return e;
}
var b = i(320);
e = e || o.generateID();
var w, x, v, y = t.ownerDocument, j = new b.parseCanvasData({
type: "canvas",
attributes: {},
childrens: []
});
x = y.createElement("canvas");
x.width = 0;
x.height = 0;
x.vectorType = "canvas";
x.getContext && (v = x.getContext("2d"));
o.extend(x);
r.extend(x);
o.set(e, x);
var C = !1;
x.appendToParent = function(e) {
o.hasParentNode(x) || o.appendChild(t, x);
if (e && !C) {
t.appendToParent && t.appendToParent(!0);
C = !0;
}
};
x.setData = function(t) {
"function" == typeof j.destroy && j.destroy();
j = new b.parseCanvasData(t);
u();
d();
j.on("update", d);
};
x.onDestruction(function() {
u();
"function" == typeof j.destroy && j.destroy();
});
x.setViewBox = function(t) {
j.setAttribute("viewBox", t);
return x;
};
x.setStyle(n);
x.setAttributes(_);
j = {
type: "canvas",
attributes: _,
childrens: $(a)
};
x.setData(j);
x.appendToParent();
return x;
}
var o = i(21), r = i(6), s = i(7);
t.exports = n;
e(n, "meshim_common_Canvas");
return n;
}();
}).call(e, i(3));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n() {
return null;
}
var o, r = i(325), s = i(326), a = i(320), _ = a.detectedGraphicType;
switch (_) {
case "canvas":
o = a.CanvasData;
break;

case "vml":
o = r;
break;

case "svg":
o = s;
break;

case "div":
o = n;
}
t.exports = o;
e(o, "meshim_common_GShape");
return o;
}();
}).call(e, i(3));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t, e, n, s, a) {
var _ = i(320);
e = e || o.generateID();
var l, u = t.ownerDocument;
l = _.createVMLNode(u, "shape");
l.className = "vml";
l.style.width = "100%";
l.style.height = "100%";
l.stroked = !1;
l.filled = !0;
l.fillColor = "#000000";
l.vectorType = "vml";
var d = _.createVMLNode(u, "skew");
d.className = "vml";
d.setAttribute("on", "true");
d.setAttribute("matrix", "1,0,0,1,0,0");
d.setAttribute("offset", "-0.5,-0.5");
l.appendChild(d);
o.extend(l);
r.extend(l);
o.set(e, l);
var c = !1;
l.appendToParent = function(e) {
o.hasParentNode(l) || o.appendChild(t, l);
if (e && !c) {
t.appendToParent && t.appendToParent(!0);
c = !0;
}
if ("vml" == l.vectorType) {
l.style.width = "100%";
l.style.height = "100%";
}
};
l.moveRight = function(t) {
var e = parseInt(t, 10);
if (isNaN(e)) return l;
l.style.left = (parseInt(l.style.left, 10) || 0) + e;
var i = l.style.display;
l.style.display = "none";
l.style.display = i;
};
l.setLeft = l.moveRight;
l.moveDown = function(t) {
var e = parseInt(t, 10);
if (isNaN(e)) return l;
l.style.top = (parseInt(l.style.top, 10) || 0) + e;
var i = l.style.display;
l.style.display = "none";
l.style.display = i;
};
l.setTop = l.moveDown;
l.setPath = function(t) {
var e, i;
t = t.replace(/c/g, "v").replace(/z/g, "x").replace(/m/g, "t").replace(/l/g, "r").replace(/L/g, "l") + "e";
i = l.getElementsByTagName("v:path")[0];
e = i ? i : _.createVMLNode(u, "path");
e.className = "vml";
e.setAttribute("v", t);
l.appendChild(e);
return l;
};
l.setOpacity = function(t) {
var e = parseFloat(t), i = _.createVMLNode(u, "fill");
i.className = "vml";
i.setAttribute("opacity", e);
i.setAttribute("o:opacity2", e);
l.appendChild(i);
return l;
};
l.setFill = function(t) {
var e = _.createVMLNode(u, "fill");
e.className = "vml";
if (/linear/.test(t)) e = _.generateVmlLinearGradient(u, t); else {
e = _.createVMLNode(u, "fill");
e.className = "vml";
"none" == t ? e.setAttribute("on", "false") : e.setAttribute("on", "true");
e.setAttribute("color", t);
}
l.appendChild(e);
return l;
};
l.setStroke = function(t) {
var e = _.createVMLNode(u, "stroke");
e.className = "vml";
"none" == t ? e.setAttribute("on", "false") : e.setAttribute("on", "true");
e.setAttribute("color", t);
l.appendChild(e);
return l;
};
l.setStrokeWidth = function(t) {
var e = _.createVMLNode(u, "stroke");
e.className = "vml";
t = parseInt(t, 10);
e.setAttribute("on", "true");
e.setAttribute("weight", t);
l.appendChild(e);
return l;
};
var h = 1, f = 1;
l.resetTransform = function() {
h = f = 1;
l.style.left = l.style.top = NaN;
return l;
};
l.flipAlong = function(t) {
t = t.split("");
for (var e = 0; e < t.length; e++) switch (t[e]) {
case "x":
h = -h;
break;

case "y":
f = -f;
}
var i = "";
h == -1 && (i += "x");
f == -1 && (i += "y");
l.style.flip = i;
return l;
};
l.setShadow = function(t) {
var e = _.createVMLNode(u, "shadow");
e.className = "vml";
t = _.parseShadow(t);
e.setAttribute("on", "true");
e.setAttribute("opacity", t.opacity);
e.setAttribute("color", t.color);
e.setAttribute("offset", t.offsetX + "px," + t.offsetY + "px");
l.appendChild(e);
return l;
};
o.addChildren(l, s);
l.appendToParent();
l.setStyle(n);
l.setAttributes(a);
return l;
}
var o = i(21), r = i(6);
t.exports = n;
e(n, "meshim_common_VmlShape");
return n;
}();
}).call(e, i(3));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t, e, n, a, _) {
function l(t, e) {
return [ [ t, 0, 0 ], [ 0, e, 0 ], [ 0, 0, 1 ] ];
}
function u(t, e) {
return [ [ 1, 0, t ], [ 0, 1, e ], [ 0, 0, 1 ] ];
}
function d(t) {
return [ t[0][0], t[1][0], t[0][1], t[1][1], t[0][2], t[1][2] ].join(" ");
}
function c(t) {
var e = p.generateSvgLinearGradient(m, t), i = m.createElementNS("http://www.w3.org/2000/svg", "defs");
i.appendChild(e);
g.parentNode.appendChild(i);
g.setAttribute("fill", "url(#" + e.id + ")");
return g;
}
function h(t, e) {
var i, n, o = [];
for (var r in t) if (t.hasOwnProperty(r)) {
i = e ? m.createElementNS(e, r) : m.createElement(r);
n = t[r];
for (var s in n) n.hasOwnProperty(s) && i.setAttribute(s, n[s]);
o.push(i);
}
return o;
}
function f() {
for (var t = [ [ 1, 0, 0 ], [ 0, 1, 0 ], [ 0, 0, 1 ] ], e = 0; e < arguments.length; e++) {
for (var i = [], n = arguments[e], o = 0; o < 3; o++) {
i[o] = [];
for (var r = 0; r < 3; r++) {
for (var s = 0, a = 0; a < 3; a++) s += t[o][a] * n[a][r];
i[o][r] = s;
}
}
t = i;
}
return t;
}
var p = i(320);
e = e || o.generateID();
var g, m = t.ownerDocument;
g = m.createElementNS("http://www.w3.org/2000/svg", "path");
g.vectorType = "svg";
o.extend(g);
r.extend(g);
o.set(e, g);
var $ = !1;
g.appendToParent = function(e) {
o.hasParentNode(g) || o.appendChild(t, g);
if (e && !$) {
t.appendToParent && t.appendToParent(!0);
$ = !0;
}
};
g.setClass = function(t) {
g.setAttribute("class", t);
return g;
};
g.addClass = function(t) {
g.setAttribute("class", g.getAttribute("class") + " " + t);
return g;
};
g.removeClass = function(t) {
var e = g.getAttribute("class"), i = new RegExp("\\b" + t + "\\b", "g");
e.replace(i, "");
g.setAttribute("class", e);
return g;
};
g.setPath = function(t) {
g.setAttribute("d", t);
return g;
};
g.setOpacity = function(t) {
g.style.opacity = parseFloat(t);
return g;
};
g.setFill = function(t) {
/linear/.test(t) ? c(t) : g.setAttribute("fill", t);
return g;
};
g.setStroke = function(t) {
g.setAttribute("stroke", t);
return g;
};
g.setStrokeWidth = function(t) {
g.setAttribute("stroke-width", t);
return g;
};
var b = [ [ 1, 0, 0 ], [ 0, 1, 0 ], [ 0, 0, 1 ] ];
g.resetTransform = function() {
g.setAttribute("transform", "");
b = [ [ 1, 0, 0 ], [ 0, 1, 0 ], [ 0, 0, 1 ] ];
return g;
};
g.moveRight = function(t) {
var e = parseInt(t, 10);
if (isNaN(e)) return g;
b = f(b, u(e, 0));
g.setAttribute("transform", "matrix(" + d(b) + ")");
return g;
};
g.setLeft = g.moveRight;
g.moveDown = function(t) {
var e = parseInt(t, 10);
if (isNaN(e)) return g;
b = f(b, u(0, e));
g.setAttribute("transform", "matrix(" + d(b) + ")");
return g;
};
g.setTop = g.moveDown;
g.flipAlong = function(t) {
t = t.split("");
for (var e = 0; e < t.length; e++) {
var i = g.getBBox();
switch (t[e]) {
case "x":
b = f(b, l(-1, 1), u(-(2 * i.x + i.width), 0));
g.setAttribute("transform", "matrix(" + d(b) + ")");
break;

case "y":
b = f(b, l(1, -1), u(0, -(2 * i.y + i.height)));
g.setAttribute("transform", "matrix(" + d(b) + ")");
}
}
if (s.isWebkit) {
var n = g.getAttribute("filter");
g.setAttribute("filter", "");
g.setAttribute("filter", n);
}
return g;
};
g.setShadow = function(t) {
t = p.parseShadow(t);
var e, i;
if (!s.isOpera) {
var n = {
feOffset: {
result: "offset-out",
in: "SourceGraphic",
dx: t.offsetX,
dy: t.offsetY
},
feColorMatrix: {
result: "matrix-out",
in: "offset-out",
type: "matrix",
values: "0.2 0 0 0 0 0 0.2 0 0 0 0 0 0.2 0 0 0 0 0 1 0"
},
feGaussianBlur: {
result: "blur-out",
in: "matrix-out",
stdDeviation: t.blurRadius / 2
},
feBlend: {
in: "SourceGraphic",
in2: "blur-out",
mode: "normal"
}
};
e = m.createElementNS("http://www.w3.org/2000/svg", "filter"), i = "sha_" + new Date().getTime();
e.setAttribute("id", i);
for (var o = h(n, "http://www.w3.org/2000/svg"), r = 0; r < o.length; r++) e.appendChild(o[r]);
var a = m.createElementNS("http://www.w3.org/2000/svg", "defs");
a.appendChild(e);
g.parentNode.appendChild(a);
g.setAttribute("filter", "url(#" + i + ")");
return g;
}
};
o.addChildren(g, a);
g.appendToParent();
g.setStyle(n);
g.setAttributes(_);
return g;
}
var o = i(21), r = i(6), s = i(7);
t.exports = n;
e(n, "meshim_common_SvgShape");
return n;
}();
}).call(e, i(3));
}, function(t, e, i) {
(function(e, n, o, r, s, a, _, l) {
e.__$$__jx_ui_Widget = i(18);
e.__$$__meshim_widget_components_chatButton_ButtonBar = i(328);
t.exports = function() {
function t(_, l, d, c, h) {
if (!(this instanceof t)) return new t(_, l, d, c, h);
l = l || n.generateID();
var f = [ e.__$$__jx_ui_Widget, "", "", [ [ e.__$$__meshim_widget_components_chatButton_ButtonBar, "button_bar", "", [], {
id: "button_bar",
addClass: "button_bar"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:widgets": "meshim.widget.widgets",
"xmlns:chatButton": "meshim.widget.components.chatButton",
visibility: "hidden"
} ], p = f[0].call(this, _, l, null, n.mangleIDs(l, f[3]), f[4]), g = p || this;
n.set(l, g);
var m = n.get(l + "__button_bar");
if (!t.__jx__jcss_generated) {
o.generate(_, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var $ = function() {
function t() {
function t() {
var t;
t = c && "undefined" != typeof h && !h ? v.cookie_law.disabled : "offline" != l || p ? v.get(E) : v.get(O);
if ($ != t) {
$ = t;
m.updateGreeting(t);
}
}
function i() {
var e = "offline" == l && p ? v.status.online : v.status[l || "offline"];
m.setStatusText(e);
b(t);
}
function n() {
m.updateUnread(I);
}
function o() {
b(n, t);
}
function b() {
for (var t = 0, i = arguments.length; t < i; t++) s(arguments[t]) && arguments[t]();
e();
}
x.rtl(g);
g.autobind(A, "value", function(t) {
if (_ !== t) {
_ = t;
b();
}
});
g.autobind(k, "value", function(t) {
I = t;
b(n);
});
g.autobind(E, "value", function(e) {
u = e;
b(t);
});
g.autobind(O, "value", function(e) {
d = e;
b(t);
});
g.autobind(L, "value", function(e) {
h = e;
b(t);
});
g.autobind(V, "value", function(t) {
if (p !== t) {
p = t;
m.setIsChatting(t);
b(i);
}
});
g.autobind(P, "value", function(e) {
c = e;
b(t);
});
g.autobind(F, "value", e);
if (r && r.onLanguage) {
r.onLanguage(o);
g.onDestruction(function() {
r.unLanguage(o);
});
}
g.autobind(B, "value", function(t) {
if (T !== t) {
T = t;
m.setStatusDisplay(t);
b();
}
});
g.autobind(N, "value", function(t) {
if (l !== t) {
l = t;
b(i);
}
});
g.autobind(M, "value", function(t) {
if (void 0 !== t && f !== t) {
f = t;
m.setLanguageDirection(t);
}
});
a(y.ieQuirksModeFix);
}
function e() {
a(n, g, !0);
}
function n() {
W.update(parseInt(g.getWidth(), 10) || parseInt(o.getVariable("chatButtonMinWidth"), 10));
R.update(parseInt(o.getVariable("chatButtonHeight"), 10));
if (!b && $) {
g.setVisibility("");
b = !0;
}
}
var _, l, u, d, c, h, f, p, $, b, w = i(41), x = i(97), v = i(99), y = i(254), j = w.root.$("livechat"), C = j.$("ui"), S = C.$("chat_button"), A = S.$("display$bool"), k = S.$("unread_count$int"), I = 0, N = j.$("account").$("status$string"), B = j.$("settings").$("theme").$("chat_button").$("display_status$bool"), T = -1, D = j.$("settings").$("greetings"), E = D.$("online$string"), O = D.$("offline$string"), P = j.$("settings").$("cookie_law").$("enabled$bool"), L = j.$("profile").$("allow_cookies$bool"), W = S.$("button_width$int"), R = S.$("button_height$int"), F = C.$("theme_loaded$bool"), M = C.$("lang_dir$string"), V = j.$("channel").$("chatting$bool");
t();
}();
for (var b in $) $.hasOwnProperty(b) && (g[b] = $[b]);
g.fire && g.fire("init");
g.setStyle && g.setStyle(d);
g.setAttributes && g.setAttributes(h);
"function" == typeof g.addChildren ? g.addChildren(c) : n.addChildren(g, c);
if (g !== this) {
g.__jx__constructor = u;
g.__jx__native = !1;
}
return g;
}
var u;
t.prototype = _(e.__$$__jx_ui_Widget.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_Widget;
t.__jx__jcss = {
"**self": {
margin: "0 auto",
position: "absolute",
"bottom, left": 0
},
".button_bar": {
"minWidth, *width": "$$chatButtonMinWidth",
maxWidth: "$$chatButtonMaxWidth",
height: "$$chatButtonHeight",
color: "$$chatButtonColor",
background: "$$chatButtonBg",
boxShadow: "$$chatButtonShadow"
},
"**self, **self *": {
cursor: "pointer"
}
};
l(t, "meshim_widget_components_chatButton_Button");
u = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(4), i(21), i(31), i(23), i(10), i(13), i(15), i(3));
}, function(t, e, i) {
(function(e, n, o, r, s, a, _) {
e.__$$__jx_ui_Widget = i(18);
e.__$$__meshim_widget_widgets_Favicon = i(329);
e.__$$__jx_ui_Label = i(104);
e.__$$__meshim_widget_widgets_BorderOverlay = i(103);
t.exports = function() {
function t(a, _, u, d, c) {
if (!(this instanceof t)) return new t(a, _, u, d, c);
_ = _ || n.generateID();
var h = [ e.__$$__jx_ui_Widget, "", "", [ [ e.__$$__meshim_widget_widgets_Favicon, "", "", [], {
addClass: "favicon"
} ], [ e.__$$__jx_ui_Widget, "", "", [ [ e.__$$__jx_ui_Widget, "", "", [ [ e.__$$__jx_ui_Label, "status_text_wrapper", "", [ [ e.__$$__jx_ui_Label, "status_text", "", [], {
id: "status_text"
} ], [ e.__$$__jx_ui_Label, "", "", [], {
text: " - "
} ] ], {
addClass: "status",
id: "status_text_wrapper"
} ], [ e.__$$__jx_ui_Label, "greeting", "", [], {
id: "greeting",
addClass: "greeting"
} ] ], {
addClass: "blinds blinds_top"
} ], [ e.__$$__jx_ui_Widget, "", "", [ [ e.__$$__jx_ui_Label, "unread", "", [], {
id: "unread",
text: "XX new messages"
} ] ], {
addClass: "blinds blinds_bottom"
} ] ], {
addClass: "button_text"
} ], [ e.__$$__meshim_widget_widgets_BorderOverlay, "", "", [], {} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:widgets": "meshim.widget.widgets"
} ], f = h[0].call(this, a, _, null, n.mangleIDs(_, h[3]), h[4]), p = f || this;
n.set(_, p);
var g = n.get(_ + "__status_text_wrapper"), m = n.get(_ + "__status_text"), $ = n.get(_ + "__greeting"), b = n.get(_ + "__unread");
if (!t.__jx__jcss_generated) {
o.generate(a, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var w = function() {
function t() {
if (r && r.onLanguage) {
r.onLanguage(e);
p.onDestruction(function() {
r.unLanguage(e);
});
}
}
function e() {
a && o > 0 ? p.addClass("unread") : p.removeClass("unread");
b.setText(n.chat_button[1 == o ? "unread_one" : "unread_many"].replace("<number>", o));
}
var n = i(99), o = 0, a = !1;
p.setIsChatting = function(t) {
var i = s(t);
if (a !== i) {
a = i;
e();
}
};
p.setLanguageDirection = function(t) {
"rtl" == t ? p.addClass("is-rtl") : p.removeClass("is-rtl");
};
p.setStatusDisplay = function(t) {
g.setDisplay(t ? "" : "none");
};
p.setStatusText = function(t) {
m.setText(t);
};
p.updateUnread = function(t) {
if (o !== t) {
o = parseInt(t, 10) || 0;
e();
}
};
p.updateGreeting = function(t) {
$.setText(t);
};
t();
}();
for (var x in w) w.hasOwnProperty(x) && (p[x] = w[x]);
p.fire && p.fire("init");
p.setStyle && p.setStyle(u);
p.setAttributes && p.setAttributes(c);
"function" == typeof p.addChildren ? p.addChildren(d) : n.addChildren(p, d);
if (p !== this) {
p.__jx__constructor = l;
p.__jx__native = !1;
}
return p;
}
var l;
t.prototype = a(e.__$$__jx_ui_Widget.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_Widget;
t.__jx__jcss = {
"**self": {
position: "relative",
paddingLeft: "$$faviconWidth",
overflow: "hidden"
},
"&.is-rtl": {
paddingLeft: 0,
paddingRight: "$$faviconWidth"
},
"&.unread .button_text ": {
bottom: "100%"
},
".blinds": {
"width, height": "100%",
overflow: "hidden",
textOverflow: "ellipsis",
whiteSpace: "nowrap"
},
".favicon": {
position: "absolute",
height: "100%",
left: 0,
verticalAlign: "text-top",
textAlign: "center",
paddingTop: "8px",
width: "$$faviconWidth",
background: "$$faviconBg",
color: "$$faviconColor"
},
"&.is-rtl .favicon": {
left: "auto",
right: 0
},
".button_text": {
position: "relative",
overflow: "hidden",
verticalAlign: "text-top",
width: "100%",
bottom: "0",
transition: "bottom 0.3s ease-in-out",
fontWeight: "$$chatButtonFontWeight",
lineHeight: "$$chatButtonHeight",
paddingLeft: "$$chatButtonPaddingFavicon",
paddingRight: "$$chatButtonPadding",
".status": {
fontWeight: "$$chatButtonStatusFontWeight"
}
},
".border_overlay": {
borderWidth: "$$chatButtonBorderWidth",
borderStyle: "$$chatButtonBorderStyle",
borderColor: "$$chatButtonBorderColor"
},
"&.is-rtl .button_text": {
paddingLeft: "$$chatButtonPadding",
paddingRight: "$$chatButtonPaddingFavicon"
}
};
_(t, "meshim_widget_components_chatButton_ButtonBar");
l = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(4), i(21), i(31), i(23), i(17), i(15), i(3));
}, function(t, e, i) {
(function(e, n, o, r, s) {
e.__$$__jx_ui_Widget = i(18);
e.__$$__jx_ui_Image = i(330);
e.__$$__meshim_widget_widgets_IconFont = i(98);
t.exports = function() {
function t(r, s, _, l, u) {
if (!(this instanceof t)) return new t(r, s, _, l, u);
s = s || n.generateID();
var d = [ e.__$$__jx_ui_Widget, "", "", [ [ e.__$$__jx_ui_Image, "image", "", [], {
id: "image",
addClass: "custom_icon"
} ], [ e.__$$__meshim_widget_widgets_IconFont, "icon", "", [], {
id: "icon",
addClass: "default_icon"
} ], [ e.__$$__jx_ui_Widget, "", "", [ [ e.__$$__jx_ui_Widget, "dots", "", [], {
id: "dots",
addClass: "dots",
selectable: "false"
} ] ], {
addClass: "dots_container"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:mui": "meshim.ui",
"xmlns:widgets": "meshim.widget.widgets"
} ], c = d[0].call(this, r, s, null, n.mangleIDs(s, d[3]), d[4]), h = c || this;
n.set(s, h);
var f = n.get(s + "__image"), p = n.get(s + "__icon"), g = n.get(s + "__dots");
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var m = function() {
function t() {
function t(t) {
d = !t;
if (t) {
f.setDisplay("none");
p.setDisplay("");
} else {
f.setDisplay("");
p.setDisplay("none");
}
n();
}
function e() {
for (var t = window.document.getElementsByTagName("head")[0], e = t.getElementsByTagName("link"), i = 0, n = e.length; i < n; i++) if ("icon" == e[i].rel || "shortcut icon" == e[i].rel) return e[i].href;
}
function i(t) {
var e, i = window.location.protocol + "//" + window.location.host + "/favicon.ico";
try {
if (window.ActiveXObject) {
e = new window.ActiveXObject("Msxml2.XMLHTTP");
e || (e = new window.ActiveXObject("Microsoft.XMLHTTP"));
}
} catch (t) {}
e || "undefined" == typeof window.XMLHttpRequest || (e = new window.XMLHttpRequest());
if (e) {
e.onreadystatechange = function() {
4 === e.readyState && (200 === e.status || e.status >= 300 && e.status < 400 ? t(i) : t());
};
e.open("HEAD", i, !0);
e.send(null);
}
return e;
}
if (u) try {
u.abort();
} catch (t) {}
u = null;
if (a) {
if (_) {
f.setSrc(_);
t(!1);
return;
}
var o = e();
if (o) {
f.setSrc(o);
t(!1);
return;
}
u = i(function(e) {
if (e) {
f.setSrc(e);
t(!1);
} else t(!0);
});
} else t(!0);
}
function e() {
h.autobind(j, "value", function(e) {
a = e;
t();
});
h.autobind(C, "value", function(e) {
_ = e;
t();
});
h.autobind(y, "value", function(t) {
if (s !== t) {
s = t;
n();
}
});
h.autobind(v, "value", function(t) {
if (t != r) {
r = t;
n();
}
});
h.autobind(S, "value", function(t) {
if (t != l) {
l = t;
n();
}
});
}
function n() {
if (s || "offline" != r) {
p.setIcon("message");
p.removeClass("default_icon_offline");
p.addClass("default_icon_online");
} else {
p.setIcon("email");
p.removeClass("default_icon_online");
p.addClass("default_icon_offline");
}
if (l && s && !d) {
if (!c) {
o();
c = window.setInterval(o, $);
}
g.setDisplay("");
} else {
if (c) {
window.clearInterval(c);
c = null;
}
g.setDisplay("none");
}
}
function o() {
var t = g.getText();
g.setText(t.length == b ? "" : t + ".");
}
var r, s, a, _, l, u, d, c, m = i(41), $ = 1e3, b = 3, w = m.root.$("livechat").$("account"), x = m.root.$("livechat").$("settings").$("branding"), v = w.$("status$string"), y = m.root.$("livechat").$("channel").$("chatting$bool"), j = x.$("hide_favicon$bool"), C = x.$("custom_favicon_path$string"), S = m.root.$("livechat").$("ui").$("chat_button").$("unread_count$int");
e();
}();
for (var $ in m) m.hasOwnProperty($) && (h[$] = m[$]);
h.fire && h.fire("init");
h.setStyle && h.setStyle(_);
h.setAttributes && h.setAttributes(u);
"function" == typeof h.addChildren ? h.addChildren(l) : n.addChildren(h, l);
if (h !== this) {
h.__jx__constructor = a;
h.__jx__native = !1;
}
return h;
}
var a;
t.prototype = r(e.__$$__jx_ui_Widget.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_Widget;
t.__jx__jcss = {
".custom_icon": {
"width, height": "16px"
},
".default_icon": {
fontSize: "16px",
width: "16px",
display: "inline-block",
"&.default_icon_online": {
lineHeight: "20px",
verticalAlign: "top",
color: "$$faviconOnlineColor"
},
"&.default_icon_offline": {
lineHeight: "18px",
verticalAlign: "top",
color: "$$faviconOfflineColor"
}
},
".dots_container": {
fontFamily: "Arial",
position: "absolute",
width: "100%",
textAlign: "center",
fontSize: "20px",
letterSpacing: "-2px",
top: "-3px",
left: "-1px",
lineHeight: "24px"
},
".dots": {
display: "inline-block",
width: "12px",
lineHeight: "22px",
textAlign: "left",
color: [ "$$chatButtonBg", "$$faviconBg", "$$faviconDotsColor" ],
background: "transparent"
}
};
s(t, "meshim_widget_widgets_Favicon");
a = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(4), i(21), i(31), i(15), i(3));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t, e, i, o, s) {
if (!(this instanceof n)) return new n(t, e, i, o, s);
s || (s = {});
s.tagName || (s.tagName = "img");
r.call(this, t, e, i, o, s);
}
var o = i(15), r = i(18);
n.prototype = o(r.prototype);
n.prototype.getAlt = function() {
return this.dom.alt;
};
n.prototype.setAlt = function(t) {
this.dom.alt = t;
return this;
};
t.exports = n;
e(n, "jx_ui_Image");
return n;
}();
}).call(e, i(3));
}, function(t, e, i) {
(function(e, n, o, r, s, a, _) {
e.__$$__jx_ui_FloatingFrame = i(84);
e.__$$__meshim_widget_widgets_fontLoader_ZopimFont = i(299);
e.__$$__meshim_widget_components_mobileChatButton_Button = i(332);
e.__$$__meshim_widget_components_mobileChatButton_TappingScreen = i(334);
t.exports = function() {
function t(a, _, u, d, c) {
if (!(this instanceof t)) return new t(a, _, u, d, c);
_ = _ || n.generateID();
var h = [ e.__$$__jx_ui_FloatingFrame, "", "", [ [ e.__$$__meshim_widget_widgets_fontLoader_ZopimFont, "", "", [], {} ], [ e.__$$__meshim_widget_components_mobileChatButton_Button, "", "", [], {} ], [ e.__$$__meshim_widget_components_mobileChatButton_TappingScreen, "", "", [], {} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:widgets": "meshim.widget.widgets",
"xmlns:mobileChatButton": "meshim.widget.components.mobileChatButton",
useDisplay: "true",
visible: "false"
} ], f = h[0].call(this, a, _, null, n.mangleIDs(_, h[3]), h[4]), p = f || this;
n.set(_, p);
if (!t.__jx__jcss_generated) {
o.generate(a, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var g = function() {
function t() {
b.bind(p.iwin);
F && "offsetTop" in F && "offsetLeft" in F && "pageTop" in F && "pageLeft" in F || (F = null);
l = new f(p, j);
p.dom.className = "zopim";
p.iframe.setStyle("display", "block");
p.content.addClass("meshim_widget_Widget");
p.wrapper.addClass(p.__jx__fqname);
p.ibody.style.overflow = "hidden";
$(p.ibody);
p.wrapper.addClass("mobile").setStyle({
position: "absolute",
top: 0,
left: 0
});
p.content.setStyle("textAlign", "left");
p.iframe.style.verticalAlign = "top";
p.autobind(P, "value", function(t) {
t = parseInt(t, 10);
if (R != t && !isNaN(t) && t >= 0) {
R = t;
V();
}
});
p.autobind(L, "value", function(t) {
t = parseInt(t, 10);
if (W != t && !isNaN(t) && t >= 0) {
W = t;
V();
}
});
p.autobind(O, "value", function(t) {
if (t && _ != t) {
"bl" != t && "br" != t && (t = "br");
_ && p.wrapper.removeClass(_);
_ = t;
_ && p.wrapper.addClass(_);
V();
}
});
if (F) {
F.addEventListener("scroll", V);
F.addEventListener("resize", V);
} else {
r.window.on("orientationchange", V);
r.window.on("resize", V);
r.window.on("scroll", V);
}
p.autobind(T, "value", function(t) {
t && V();
});
p.autobind(D, "value", function(t) {
t && V();
});
p.autobind(N, "value", V);
p.moveUp = e;
p.moveDown = n;
}
function e(t) {
p.setVisible(!0);
l.animate({
endStyle: y,
duration: M ? 200 : 0
}, function(e) {
e || B.update(!0);
t && t(e);
});
M = !0;
}
function n(t) {
B.update(!1);
l.animate({
endStyle: j,
duration: 200
}, function(e) {
e || p.setVisible(!1);
t && t(e);
});
}
function o(t) {
return "auto" !== t ? t + "px" : t;
}
function a() {
var t, e, i, n, r, a, l, u, d, c, h, f, $, b, v, y, j, C, S, A, k = p.wrapper.getWidth(), N = p.wrapper.getHeight();
if (F) {
t = F.scale;
i = F.pageLeft;
n = F.pageTop;
l = window.innerWidth;
u = window.innerHeight;
d = F.offsetLeft;
c = F.offsetTop;
r = F.width;
a = F.height;
} else {
t = m.getZoomLevel();
i = window.pageXOffset;
n = window.pageYOffset;
r = window.innerWidth;
a = window.innerHeight;
}
e = (1 / t).toFixed(2);
h = k / t;
f = N / t;
v = m.getOffset();
y = s.isIOS && t >= 1 ? "absolute" : "fixed";
for (var B = 0, T = g.cssom_prefixes.length; B < T; B++) {
p.wrapper.setStyle(g.cssom_prefixes[B] + "Transform", "scale(" + e + ")");
p.wrapper.setStyle(g.cssom_prefixes[B] + "TransformOrigin", "0 0");
}
p.setStyle({
position: y,
width: h + "px",
height: f + "px",
top: "",
right: "",
bottom: "",
left: ""
});
$ = R;
b = W;
if ("br" === _) {
void 0 === L.getValue() && (b += w);
void 0 === P.getValue() && ($ += x);
}
$ /= t;
b /= t;
j = A = C = S = "auto";
if ("fixed" === y) if (F) {
"bl" === _ ? A = d + $ : C = l - (r + d) + $;
S = u - (a + c) + b;
} else {
"bl" === _ ? A = $ : C = $;
S = b;
} else {
j = Math.ceil(n + a - f - b - v.top);
A = "bl" === _ ? Math.ceil(i + $ - v.left) : Math.floor(i + r - h - $ - v.left);
}
j = o(j);
C = o(C);
S = o(S);
A = o(A);
I.update({
height$string: f,
width$string: h,
zoom$string: t,
scale$string: e,
position$string: y,
top$string: j,
right$string: C,
bottom$string: S,
left$string: A
});
p.setStyle({
top: j,
right: C,
bottom: S,
left: A
});
H();
}
var _, l, u = i(59), d = i(53), c = i(41), h = i(58), f = i(335), g = i(51), m = i(56), $ = i(301), b = i(304), w = 5, x = 5, v = 300, y = {
opacity: 1,
translateY: "0%"
}, j = {
opacity: 0,
translateY: "50%"
}, C = c.root.$("livechat"), S = C.$("settings"), A = C.$("ui"), k = A.$("chat_button"), I = k.$("mobile").$("calculated_styles"), N = k.$("display$bool"), B = k.$("fully_visible$bool"), T = k.$("button_width$int"), D = k.$("button_height$int"), E = S.$("theme").$("chat_button"), O = E.$("position_mobile$string"), P = E.$("h_offset_mobile$int"), L = E.$("v_offset_mobile$int"), W = 10, R = 10, F = window.visualViewport, M = !1;
p.on("show", function() {
V();
});
var V = u.debounce(a, v), H = d.once(function() {
h.registerChatButton(p);
});
t();
}();
for (var m in g) g.hasOwnProperty(m) && (p[m] = g[m]);
p.fire && p.fire("init");
p.setStyle && p.setStyle(u);
p.setAttributes && p.setAttributes(c);
"function" == typeof p.addChildren ? p.addChildren(d) : n.addChildren(p, d);
if (p !== this) {
p.__jx__constructor = l;
p.__jx__native = !1;
}
return p;
}
var l;
t.prototype = a(e.__$$__jx_ui_FloatingFrame.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_FloatingFrame;
t.__jx__jcss = {};
_(t, "meshim_widget_components_MobileChatButton");
l = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(4), i(21), i(31), i(6), i(7), i(15), i(3));
}, function(t, e, i) {
(function(e, n, o, r, s, a, _, l) {
e.__$$__jx_ui_Widget = i(18);
e.__$$__meshim_widget_components_mobileChatButton_ButtonBar = i(333);
t.exports = function() {
function t(_, l, d, c, h) {
if (!(this instanceof t)) return new t(_, l, d, c, h);
l = l || n.generateID();
var f = [ e.__$$__jx_ui_Widget, "", "", [ [ e.__$$__meshim_widget_components_mobileChatButton_ButtonBar, "button_bar", "", [], {
id: "button_bar",
addClass: "button_bar"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:mobileChatButton": "meshim.widget.components.mobileChatButton",
visibility: "hidden"
} ], p = f[0].call(this, _, l, null, n.mangleIDs(l, f[3]), f[4]), g = p || this;
n.set(l, g);
var m = n.get(l + "__button_bar");
if (!t.__jx__jcss_generated) {
o.generate(_, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var $ = function() {
function t() {
function t() {
var t;
t = c && "undefined" != typeof h && !h ? v.cookie_law.disabled_mobile : "offline" != l || p ? v.chat_button.mobile_greeting.online : v.chat_button.mobile_greeting.offline;
if ($ != t) {
$ = t;
m.updateGreeting(t);
}
}
function i() {
var e = "offline" == l && p ? v.status.online : v.status[l || "offline"];
m.setStatusText(e);
o(t);
}
function n() {
o(t);
}
function o() {
for (var t = 0, i = arguments.length; t < i; t++) s(arguments[t]) && arguments[t]();
e();
}
x.rtl(g);
g.autobind(A, "value", function(t) {
if (_ !== t) {
_ = t;
o();
}
});
g.autobind(T, "value", function(e) {
u = e;
o(t);
});
g.autobind(D, "value", function(e) {
d = e;
o(t);
});
g.autobind(O, "value", function(e) {
h = e;
o(t);
});
g.autobind(F, "value", function(t) {
if (p !== t) {
p = t;
o(i);
}
});
g.autobind(E, "value", function(e) {
c = e;
o(t);
});
g.autobind(W, "value", e);
if (r && r.onLanguage) {
r.onLanguage(n);
g.onDestruction(function() {
r.unLanguage(n);
});
}
g.autobind(I, "value", function(t) {
if (N !== t) {
N = t;
m.setStatusDisplay(t);
o();
}
});
g.autobind(k, "value", function(t) {
if (l !== t) {
l = t;
o(i);
}
});
g.autobind(R, "value", function(t) {
if (void 0 !== t && f !== t) {
f = t;
m.setLanguageDirection(t);
}
});
a(y.ieQuirksModeFix);
}
function e() {
a(n, g, !0);
}
function n() {
P.update(parseInt(g.getWidth(), 10) || parseInt(o.getVariable("chatButtonMinWidth"), 10));
L.update(parseInt(o.getVariable("chatButtonHeight"), 10));
if (!b && $) {
g.setVisibility("");
b = !0;
}
}
var _, l, u, d, c, h, f, p, $, b, w = i(41), x = i(97), v = i(99), y = i(254), j = w.root.$("livechat"), C = j.$("ui"), S = C.$("chat_button"), A = S.$("display$bool"), k = j.$("account").$("status$string"), I = j.$("settings").$("theme").$("chat_button").$("display_status$bool"), N = -1, B = j.$("settings").$("greetings"), T = B.$("online$string"), D = B.$("offline$string"), E = j.$("settings").$("cookie_law").$("enabled$bool"), O = j.$("profile").$("allow_cookies$bool"), P = S.$("button_width$int"), L = S.$("button_height$int"), W = C.$("theme_loaded$bool"), R = C.$("lang_dir$string"), F = j.$("channel").$("chatting$bool");
t();
}();
for (var b in $) $.hasOwnProperty(b) && (g[b] = $[b]);
g.fire && g.fire("init");
g.setStyle && g.setStyle(d);
g.setAttributes && g.setAttributes(h);
"function" == typeof g.addChildren ? g.addChildren(c) : n.addChildren(g, c);
if (g !== this) {
g.__jx__constructor = u;
g.__jx__native = !1;
}
return g;
}
var u;
t.prototype = _(e.__$$__jx_ui_Widget.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_Widget;
t.__jx__jcss = {
"**self": {
margin: "0 auto",
position: "relative",
"bottom, left": "auto",
paddingRight: "0px",
paddingTop: "0px"
},
".button_bar": {
minWidth: "0",
maxWidth: "$$chatButtonMaxWidth",
height: "$$chatButtonHeight",
color: "$$chatButtonColor",
background: "$$chatButtonBg",
boxShadow: "$$chatButtonShadow",
borderRadius: "$$chatButtonRadius"
}
};
l(t, "meshim_widget_components_mobileChatButton_Button");
u = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(4), i(21), i(31), i(23), i(10), i(13), i(15), i(3));
}, function(t, e, i) {
(function(e, n, o, r, s) {
e.__$$__jx_ui_Widget = i(18);
e.__$$__meshim_widget_widgets_Favicon = i(329);
e.__$$__jx_ui_Label = i(104);
e.__$$__meshim_widget_widgets_BorderOverlay = i(103);
t.exports = function() {
function t(r, s, a, _, l) {
if (!(this instanceof t)) return new t(r, s, a, _, l);
s = s || n.generateID();
var u = [ e.__$$__jx_ui_Widget, "", "", [ [ e.__$$__meshim_widget_widgets_Favicon, "", "", [], {
addClass: "favicon"
} ], [ e.__$$__jx_ui_Widget, "", "", [ [ e.__$$__jx_ui_Label, "status_text_wrapper", "", [ [ e.__$$__jx_ui_Label, "status_text", "", [], {
id: "status_text"
} ], [ e.__$$__jx_ui_Label, "", "", [], {
text: " - "
} ] ], {
addClass: "status",
id: "status_text_wrapper"
} ], [ e.__$$__jx_ui_Label, "greeting", "", [], {
id: "greeting"
} ] ], {
addClass: "button_text"
} ], [ e.__$$__meshim_widget_widgets_BorderOverlay, "", "", [], {} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:widgets": "meshim.widget.widgets"
} ], d = u[0].call(this, r, s, null, n.mangleIDs(s, u[3]), u[4]), c = d || this;
n.set(s, c);
var h = n.get(s + "__status_text_wrapper"), f = n.get(s + "__status_text"), p = n.get(s + "__greeting");
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var g = function() {
c.setLanguageDirection = function(t) {
"rtl" == t ? c.addClass("is-rtl") : c.removeClass("is-rtl");
};
c.setStatusDisplay = function(t) {
h.setDisplay(t ? "" : "none");
};
c.setStatusText = function(t) {
f.setText(t);
};
c.updateGreeting = function(t) {
p.setText(t);
};
}();
for (var m in g) g.hasOwnProperty(m) && (c[m] = g[m]);
c.fire && c.fire("init");
c.setStyle && c.setStyle(a);
c.setAttributes && c.setAttributes(l);
"function" == typeof c.addChildren ? c.addChildren(_) : n.addChildren(c, _);
if (c !== this) {
c.__jx__constructor = i;
c.__jx__native = !1;
}
return c;
}
var i;
t.prototype = r(e.__$$__jx_ui_Widget.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_Widget;
t.__jx__jcss = {
"**self": {
position: "relative",
paddingLeft: "$$faviconWidth",
overflow: "hidden"
},
"&.is-rtl": {
paddingLeft: 0,
paddingRight: "$$faviconWidth"
},
".favicon": {
position: "absolute",
height: "100%",
left: 0,
verticalAlign: "text-top",
textAlign: "center",
paddingTop: "8px",
width: "$$faviconWidth",
background: "$$faviconBg",
color: "$$faviconColor",
"borderTopLeftRadius, borderBottomLeftRadius": "$$chatButtonRadius"
},
"&.is-rtl .favicon": {
left: "auto",
right: 0,
"borderTopLeftRadius, borderBottomLeftRadius": 0,
"borderTopRightRadius, borderBottomRightRadius": "$$chatButtonRadius"
},
".button_text": {
position: "relative",
overflow: "hidden",
verticalAlign: "text-top",
width: "100%",
bottom: "0",
whiteSpace: "nowrap",
fontWeight: "$$chatButtonFontWeight",
lineHeight: "$$chatButtonHeight",
paddingLeft: "$$chatButtonPaddingFavicon",
paddingRight: "$$chatButtonPadding",
".status": {
fontWeight: "$$chatButtonStatusFontWeight"
}
},
".border_overlay": {
borderWidth: "$$chatButtonBorderWidth",
borderStyle: "$$chatButtonBorderStyle",
borderColor: "$$chatButtonBorderColor"
},
"&.is-rtl .button_text": {
paddingLeft: "$$chatButtonPadding",
paddingRight: "$$chatButtonPaddingFavicon"
}
};
s(t, "meshim_widget_components_mobileChatButton_ButtonBar");
i = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(4), i(21), i(31), i(15), i(3));
}, function(t, e, i) {
(function(e, n, o, r, s) {
e.__$$__jx_ui_html_a = i(96);
t.exports = function() {
function t(r, s, _, l, u) {
if (!(this instanceof t)) return new t(r, s, _, l, u);
s = s || n.generateID();
var d = [ e.__$$__jx_ui_html_a, "", "", [], {
xmlns: "jx.ui.html",
position: "absolute",
top: "0",
left: "0",
width: "100%",
height: "100%"
} ], c = d[0].call(this, r, s, null, n.mangleIDs(s, d[3]), d[4]), h = c || this;
n.set(s, h);
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var f = function() {
function t() {
h.on("click", e);
}
function e() {
r.trackEvent("Button Clicked");
c.write({
button_clicked$bool: !0
});
if (f.getValue()) s.userShowWindow(); else if (l.requestPermission()) if (u.isIEMobile) {
h.setAttribute("href", _.getPopoutURL());
h.setAttribute("target", n.POPOUT_WINDOW_PREFIX + p.getValue());
} else {
a.resetUnreadCount();
_.openPopout(!0);
}
}
var n = i(43), o = i(41), r = i(180), s = i(113), a = i(87), _ = i(110), l = i(203), u = i(56), d = o.root.$("livechat").$("ui"), c = d.$("chat_button"), f = d.$("mobile_overlay$bool"), p = o.root.$("livechat").$("account").$("key$string");
t();
}();
for (var p in f) f.hasOwnProperty(p) && (h[p] = f[p]);
h.fire && h.fire("init");
h.setStyle && h.setStyle(_);
h.setAttributes && h.setAttributes(u);
"function" == typeof h.addChildren ? h.addChildren(l) : n.addChildren(h, l);
if (h !== this) {
h.__jx__constructor = a;
h.__jx__native = !1;
}
return h;
}
var a;
t.prototype = r(e.__$$__jx_ui_html_a.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_html_a;
t.__jx__jcss = {};
s(t, "meshim_widget_components_mobileChatButton_TappingScreen");
a = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(4), i(21), i(31), i(15), i(3));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t, e) {
if (!(this instanceof n)) return new n(t, e);
this.elm = t;
this.currStyle = u({}, e);
this.applyStyle(this.currStyle);
var i = this;
this.elm.onDestruction(function() {
i.destroy();
});
}
var o = i(24), r = i(336), s = i(337), a = i(338), _ = i(51), l = i(340), u = _.shallowExtend, d = function() {};
n.prototype.animate = function(t, e) {
var i = u({}, t.endStyle), n = o(t.duration) ? t.duration : 300, r = o(t.delay) ? t.delay : 0, s = t.easeType || "easeQuadInOut", a = o(t.startTime) ? t.startTime : +new Date(), _ = 0;
e = e || d;
if (o(window.animateDebug)) {
n *= window.animateDebug;
r *= window.animateDebug;
}
r < 0 ? _ = -r : a += r;
this.stop();
this.cb = e || d;
this._animate({
startStyle: this.currStyle,
endStyle: i,
duration: n,
startTime: a,
elapsedOffset: _,
easeType: s
});
};
n.prototype.stop = function() {
if (this.timer) {
this.timer.stop();
this.timer = null;
this.cb.call(this.elm, "stopped");
}
};
n.prototype.destroy = function() {
this.stop();
this.elm = this.currStyle = this.cb = this.timer = null;
};
n.prototype.isAnimating = function() {
return !!this.timer;
};
n.prototype._animate = function(t) {
function e(t) {
t += _;
if (t >= o) {
h.stop();
f.timer = null;
f.currStyle = n;
f.applyStyle(n);
f.cb.call(f.elm, null);
} else {
var e = c(t / o), i = d(e);
f.currStyle = i;
f.applyStyle(i);
}
}
var i = t.startStyle, n = t.endStyle, o = t.duration, _ = t.elapsedOffset, l = t.startTime, u = t.easeType, d = a.interpolateObject(i, n), c = s[u], h = r.timer(e, 0, l), f = this;
f.timer = h;
};
n.prototype.applyStyle = function(t) {
t = l(t);
for (var e in t) t.hasOwnProperty(e) && this.elm.setCSSStyle(e, t[e]);
};
t.exports = n;
e(n, "meshim_widget_utils_Animate");
return n;
}();
}).call(e, i(3));
}, function(t, e, i) {
!function(t, i) {
i(e);
}(this, function(t) {
"use strict";
function e(t, e, i) {
this.id = ++u;
this.restart(t, e, i);
}
function i(t, i, n) {
return new e(t, i, n);
}
function n(t) {
t = null == t ? Date.now() : +t;
++_;
try {
for (var e, i = s; i; ) {
t >= i.time && (e = i.callback)(t - i.time, t);
i = i.next;
}
} finally {
--_;
}
}
function o() {
_ = l = 0;
try {
n();
} finally {
for (var t, e = s, i = 1 / 0; e; ) if (e.callback) {
i > e.time && (i = e.time);
e = (t = e).next;
} else e = t ? t.next = e.next : s = e.next;
a = t;
r(i);
}
}
function r(t) {
if (!_) {
l && (l = clearTimeout(l));
var e = t - Date.now();
e > 24 ? t < 1 / 0 && (l = setTimeout(o, e)) : (_ = 1, c(o));
}
}
var s, a, _ = 0, l = 0, u = 0, d = {}, c = "undefined" != typeof window && (window.requestAnimationFrame || window.msRequestAnimationFrame || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame || window.oRequestAnimationFrame) || function(t) {
return setTimeout(t, 17);
};
e.prototype = i.prototype = {
restart: function(t, e, i) {
if ("function" != typeof t) throw new TypeError("callback is not a function");
i = (null == i ? Date.now() : +i) + (null == e ? 0 : +e);
var n = this.id, o = d[n];
if (o) o.callback = t, o.time = i; else {
o = {
next: null,
callback: t,
time: i
};
a ? a.next = o : s = o;
d[n] = a = o;
}
r();
},
stop: function() {
var t = this.id, e = d[t];
if (e) {
e.callback = null, e.time = 1 / 0;
delete d[t];
r();
}
}
};
var h = "0.1.0";
t.version = h;
t.timer = i;
t.timerFlush = n;
});
}, function(t, e, i) {
!function(t, i) {
i(e);
}(this, function(t) {
"use strict";
function e(t, e) {
return function(i) {
return t(i, e);
};
}
function i(t, e, i) {
return function(n) {
return t(n, e, i);
};
}
function n(t, e) {
e = D.call(e);
e[0] = null;
return function(i) {
e[0] = i;
return t.apply(null, e);
};
}
function o(t, o, r) {
switch (arguments.length) {
case 1:
return t;

case 2:
return e(t, o);

case 3:
return i(t, o, r);

default:
return n(t, arguments);
}
}
function r(t) {
return +t;
}
function s(t) {
return t * t;
}
function a(t) {
return t * (2 - t);
}
function _(t) {
return ((t *= 2) <= 1 ? t * t : --t * (2 - t) + 1) / 2;
}
function l(t) {
return t * t * t;
}
function u(t) {
return --t * t * t + 1;
}
function d(t) {
return ((t *= 2) <= 1 ? t * t * t : (t -= 2) * t * t + 2) / 2;
}
function c(t, e) {
null == e && (e = 3);
return Math.pow(t, e);
}
function h(t, e) {
null == e && (e = 3);
return 1 - Math.pow(1 - t, e);
}
function f(t, e) {
null == e && (e = 3);
return ((t *= 2) <= 1 ? Math.pow(t, e) : 2 - Math.pow(2 - t, e)) / 2;
}
function p(t) {
return 1 - Math.cos(t * O);
}
function g(t) {
return Math.sin(t * O);
}
function m(t) {
return (1 - Math.cos(E * t)) / 2;
}
function $(t) {
return Math.pow(2, 10 * t - 10);
}
function b(t) {
return 1 - Math.pow(2, -10 * t);
}
function w(t) {
return ((t *= 2) <= 1 ? Math.pow(2, 10 * t - 10) : 2 - Math.pow(2, 10 - 10 * t)) / 2;
}
function x(t) {
return 1 - Math.sqrt(1 - t * t);
}
function v(t) {
return Math.sqrt(1 - --t * t);
}
function y(t) {
return ((t *= 2) <= 1 ? 1 - Math.sqrt(1 - t * t) : Math.sqrt(1 - (t -= 2) * t) + 1) / 2;
}
function j(t) {
return 1 - C(1 - t);
}
function C(t) {
return t < P ? q * t * t : t < W ? q * (t -= L) * t + R : t < M ? q * (t -= F) * t + V : q * (t -= H) * t + z;
}
function S(t) {
return ((t *= 2) <= 1 ? 1 - C(1 - t) : C(t - 1) + 1) / 2;
}
function A(t, e) {
e = null == e ? 1.70158 : +e;
return t * t * ((e + 1) * t - e);
}
function k(t, e) {
e = null == e ? 1.70158 : +e;
return --t * t * ((e + 1) * t + e) + 1;
}
function I(t, e) {
e = null == e ? 1.70158 : +e;
return ((t *= 2) < 1 ? t * t * ((e + 1) * t - e) : (t -= 2) * t * ((e + 1) * t + e) + 2) / 2;
}
function N(t, e, i) {
e = null == e ? 1 : Math.max(1, e);
i = (null == i ? .3 : i) / U;
return e * Math.pow(2, 10 * --t) * Math.sin((i * Math.asin(1 / e) - t) / i);
}
function B(t, e, i) {
e = null == e ? 1 : Math.max(1, e);
i = (null == i ? .3 : i) / U;
return 1 - e * Math.pow(2, -10 * t) * Math.sin((+t + i * Math.asin(1 / e)) / i);
}
function T(t, e, i) {
e = null == e ? 1 : Math.max(1, e);
i = (null == i ? .3 : i) / U;
var n = i * Math.asin(1 / e);
return ((t = 2 * t - 1) < 0 ? e * Math.pow(2, 10 * t) * Math.sin((n - t) / i) : 2 - e * Math.pow(2, -10 * t) * Math.sin((n + t) / i)) / 2;
}
var D = Array.prototype.slice, E = Math.PI, O = E / 2, P = 4 / 11, L = 6 / 11, W = 8 / 11, R = .75, F = 9 / 11, M = 10 / 11, V = .9375, H = 21 / 22, z = 63 / 64, q = 1 / P / P, U = 2 * Math.PI, G = "0.5.1";
t.version = G;
t.easeBind = o;
t.easeLinearIn = r;
t.easeLinearOut = r;
t.easeLinearInOut = r;
t.easeQuadIn = s;
t.easeQuadOut = a;
t.easeQuadInOut = _;
t.easeCubicIn = l;
t.easeCubicOut = u;
t.easeCubicInOut = d;
t.easePolyIn = c;
t.easePolyOut = h;
t.easePolyInOut = f;
t.easeSinIn = p;
t.easeSinOut = g;
t.easeSinInOut = m;
t.easeExpIn = $;
t.easeExpOut = b;
t.easeExpInOut = w;
t.easeCircleIn = x;
t.easeCircleOut = v;
t.easeCircleInOut = y;
t.easeBounceIn = j;
t.easeBounceOut = C;
t.easeBounceInOut = S;
t.easeBackIn = A;
t.easeBackOut = k;
t.easeBackInOut = I;
t.easeElasticIn = N;
t.easeElasticOut = B;
t.easeElasticInOut = T;
});
}, function(t, e, i) {
!function(t, n) {
n(e, i(339));
}(this, function(t, e) {
"use strict";
function i(t, i) {
t = e.rgb(t);
i = e.rgb(i);
var n = t.r, o = t.g, r = t.b, s = i.r - n, a = i.g - o, _ = i.b - r;
return function(e) {
t.r = n + s * e;
t.g = o + a * e;
t.b = r + _ * e;
return t + "";
};
}
function n(t, e) {
var i, n = [], o = [], r = t ? t.length : 0, s = e ? e.length : 0, a = Math.min(r, s);
for (i = 0; i < a; ++i) n.push(l(t[i], e[i]));
for (;i < r; ++i) o[i] = t[i];
for (;i < s; ++i) o[i] = e[i];
return function(t) {
for (i = 0; i < a; ++i) o[i] = n[i](t);
return o;
};
}
function o(t, e) {
return t = +t, e -= t, function(i) {
return t + e * i;
};
}
function r(t, e) {
var i, n = {}, o = {};
null !== t && "object" == typeof t || (t = {});
null !== e && "object" == typeof e || (e = {});
for (i in t) i in e ? n[i] = l(t[i], e[i]) : o[i] = t[i];
for (i in e) i in t || (o[i] = e[i]);
return function(t) {
for (i in n) o[i] = n[i](t);
return o;
};
}
function s(t) {
return function() {
return t;
};
}
function a(t) {
return function(e) {
return t(e) + "";
};
}
function _(t, e) {
var i, n, r, _ = P.lastIndex = L.lastIndex = 0, l = -1, u = [], d = [];
t += "", e += "";
for (;(i = P.exec(t)) && (n = L.exec(e)); ) {
if ((r = n.index) > _) {
r = e.slice(_, r);
u[l] ? u[l] += r : u[++l] = r;
}
if ((i = i[0]) === (n = n[0])) u[l] ? u[l] += n : u[++l] = n; else {
u[++l] = null;
d.push({
i: l,
x: o(i, n)
});
}
_ = L.lastIndex;
}
if (_ < e.length) {
r = e.slice(_);
u[l] ? u[l] += r : u[++l] = r;
}
return u.length < 2 ? d[0] ? a(d[0].x) : s(e) : (e = d.length, function(t) {
for (var i, n = 0; n < e; ++n) u[(i = d[n]).i] = i.x(t);
return u.join("");
});
}
function l(t, e) {
for (var i, n = W.length; --n >= 0 && !(i = W[n](t, e)); ) ;
return i;
}
function u(t, e) {
return t = +t, e -= t, function(i) {
return Math.round(t + e * i);
};
}
function d(t) {
O || (O = document.createElementNS("http://www.w3.org/2000/svg", "g"));
t && (O.setAttribute("transform", t), e = O.transform.baseVal.consolidate());
var e, i = e ? e.matrix : F, n = [ i.a, i.b ], o = [ i.c, i.d ], r = h(n), s = c(n, o), a = h(f(o, n, -s)) || 0;
if (n[0] * o[1] < o[0] * n[1]) {
n[0] *= -1;
n[1] *= -1;
r *= -1;
s *= -1;
}
this.rotate = (r ? Math.atan2(n[1], n[0]) : Math.atan2(-o[0], o[1])) * R;
this.translate = [ i.e, i.f ];
this.scale = [ r, a ];
this.skew = a ? Math.atan2(s, a) * R : 0;
}
function c(t, e) {
return t[0] * e[0] + t[1] * e[1];
}
function h(t) {
var e = Math.sqrt(c(t, t));
e && (t[0] /= e, t[1] /= e);
return e;
}
function f(t, e, i) {
t[0] += i * e[0];
t[1] += i * e[1];
return t;
}
function p(t) {
return t.length ? t.pop() + "," : "";
}
function g(t, e, i, n) {
if (t[0] !== e[0] || t[1] !== e[1]) {
var r = i.push("translate(", null, ",", null, ")");
n.push({
i: r - 4,
x: o(t[0], e[0])
}, {
i: r - 2,
x: o(t[1], e[1])
});
} else (e[0] || e[1]) && i.push("translate(" + e + ")");
}
function m(t, e, i, n) {
if (t !== e) {
t - e > 180 ? e += 360 : e - t > 180 && (t += 360);
n.push({
i: i.push(p(i) + "rotate(", null, ")") - 2,
x: o(t, e)
});
} else e && i.push(p(i) + "rotate(" + e + ")");
}
function $(t, e, i, n) {
t !== e ? n.push({
i: i.push(p(i) + "skewX(", null, ")") - 2,
x: o(t, e)
}) : e && i.push(p(i) + "skewX(" + e + ")");
}
function b(t, e, i, n) {
if (t[0] !== e[0] || t[1] !== e[1]) {
var r = i.push(p(i) + "scale(", null, ",", null, ")");
n.push({
i: r - 4,
x: o(t[0], e[0])
}, {
i: r - 2,
x: o(t[1], e[1])
});
} else 1 === e[0] && 1 === e[1] || i.push(p(i) + "scale(" + e + ")");
}
function w(t, e) {
var i = [], n = [];
t = new d(t), e = new d(e);
g(t.translate, e.translate, i, n);
m(t.rotate, e.rotate, i, n);
$(t.skew, e.skew, i, n);
b(t.scale, e.scale, i, n);
t = e = null;
return function(t) {
for (var e, o = -1, r = n.length; ++o < r; ) i[(e = n[o]).i] = e.x(t);
return i.join("");
};
}
function x(t) {
return ((t = Math.exp(t)) + 1 / t) / 2;
}
function v(t) {
return ((t = Math.exp(t)) - 1 / t) / 2;
}
function y(t) {
return ((t = Math.exp(2 * t)) - 1) / (t + 1);
}
function j(t, e) {
var i, n, o = t[0], r = t[1], s = t[2], a = e[0], _ = e[1], l = e[2], u = a - o, d = _ - r, c = u * u + d * d;
if (c < z) {
n = Math.log(l / s) / M;
i = function(t) {
return [ o + t * u, r + t * d, s * Math.exp(M * t * n) ];
};
} else {
var h = Math.sqrt(c), f = (l * l - s * s + H * c) / (2 * s * V * h), p = (l * l - s * s - H * c) / (2 * l * V * h), g = Math.log(Math.sqrt(f * f + 1) - f), m = Math.log(Math.sqrt(p * p + 1) - p);
n = (m - g) / M;
i = function(t) {
var e = t * n, i = x(g), a = s / (V * h) * (i * y(M * e + g) - v(g));
return [ o + a * u, r + a * d, s * i / x(M * e + g) ];
};
}
i.duration = 1e3 * n;
return i;
}
function C(t, e) {
var i = t - e;
return i > 180 || i < -180 ? i - 360 * Math.round(i / 360) : i;
}
function S(t, i) {
t = e.hsl(t);
i = e.hsl(i);
var n = isNaN(t.h) ? i.h : t.h, o = isNaN(t.s) ? i.s : t.s, r = t.l, s = isNaN(i.h) ? 0 : C(i.h, n), a = isNaN(i.s) ? 0 : i.s - o, _ = i.l - r;
return function(e) {
t.h = n + s * e;
t.s = o + a * e;
t.l = r + _ * e;
return t + "";
};
}
function A(t, i) {
t = e.hsl(t);
i = e.hsl(i);
var n = isNaN(t.h) ? i.h : t.h, o = isNaN(t.s) ? i.s : t.s, r = t.l, s = isNaN(i.h) ? 0 : i.h - n, a = isNaN(i.s) ? 0 : i.s - o, _ = i.l - r;
return function(e) {
t.h = n + s * e;
t.s = o + a * e;
t.l = r + _ * e;
return t + "";
};
}
function k(t, i) {
t = e.lab(t);
i = e.lab(i);
var n = t.l, o = t.a, r = t.b, s = i.l - n, a = i.a - o, _ = i.b - r;
return function(e) {
t.l = n + s * e;
t.a = o + a * e;
t.b = r + _ * e;
return t + "";
};
}
function I(t, i) {
t = e.hcl(t);
i = e.hcl(i);
var n = isNaN(t.h) ? i.h : t.h, o = isNaN(t.c) ? i.c : t.c, r = t.l, s = isNaN(i.h) ? 0 : C(i.h, n), a = isNaN(i.c) ? 0 : i.c - o, _ = i.l - r;
return function(e) {
t.h = n + s * e;
t.c = o + a * e;
t.l = r + _ * e;
return t + "";
};
}
function N(t, i) {
t = e.hcl(t);
i = e.hcl(i);
var n = isNaN(t.h) ? i.h : t.h, o = isNaN(t.c) ? i.c : t.c, r = t.l, s = isNaN(i.h) ? 0 : i.h - n, a = isNaN(i.c) ? 0 : i.c - o, _ = i.l - r;
return function(e) {
t.h = n + s * e;
t.c = o + a * e;
t.l = r + _ * e;
return t + "";
};
}
function B(t, i, n) {
arguments.length < 3 && (n = 1);
t = e.cubehelix(t);
i = e.cubehelix(i);
var o = isNaN(t.h) ? i.h : t.h, r = isNaN(t.s) ? i.s : t.s, s = t.l, a = isNaN(i.h) ? 0 : C(i.h, o), _ = isNaN(i.s) ? 0 : i.s - r, l = i.l - s;
return function(e) {
t.h = o + a * e;
t.s = r + _ * e;
t.l = s + l * Math.pow(e, n);
return t + "";
};
}
function T(t, i, n) {
arguments.length < 3 && (n = 1);
t = e.cubehelix(t);
i = e.cubehelix(i);
var o = isNaN(t.h) ? i.h : t.h, r = isNaN(t.s) ? i.s : t.s, s = t.l, a = isNaN(i.h) ? 0 : i.h - o, _ = isNaN(i.s) ? 0 : i.s - r, l = i.l - s;
return function(e) {
t.h = o + a * e;
t.s = r + _ * e;
t.l = s + l * Math.pow(e, n);
return t + "";
};
}
function D(t, e) {
e = q.call(e);
e[0] = null;
e.unshift(null);
return function(i, n) {
e[0] = i;
e[1] = n;
return t.apply(null, e);
};
}
function E(t) {
return 1 === arguments.length ? t : D(t, arguments);
}
var O, P = /[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g, L = new RegExp(P.source, "g"), W = [ function(t, s) {
var a, l = typeof s;
return ("string" === l ? (a = e.color(s)) ? (s = a, i) : _ : s instanceof e.color ? i : Array.isArray(s) ? n : "object" === l && isNaN(s) ? r : o)(t, s);
} ], R = 180 / Math.PI, F = {
a: 1,
b: 0,
c: 0,
d: 1,
e: 0,
f: 0
}, M = Math.SQRT2, V = 2, H = 4, z = 1e-12, q = Array.prototype.slice, U = "0.4.0";
t.version = U;
t.interpolate = l;
t.interpolators = W;
t.interpolateArray = n;
t.interpolateNumber = o;
t.interpolateObject = r;
t.interpolateRound = u;
t.interpolateString = _;
t.interpolateTransform = w;
t.interpolateZoom = j;
t.interpolateRgb = i;
t.interpolateHsl = S;
t.interpolateHslLong = A;
t.interpolateLab = k;
t.interpolateHcl = I;
t.interpolateHclLong = N;
t.interpolateCubehelix = B;
t.interpolateCubehelixLong = T;
t.interpolateBind = E;
});
}, function(t, e, i) {
!function(t, i) {
i(e);
}(this, function(t) {
"use strict";
function e() {}
function i(t) {
var e;
t = (t + "").trim().toLowerCase();
return (e = x.exec(t)) ? (e = parseInt(e[1], 16), new r(e >> 8 & 15 | e >> 4 & 240, e >> 4 & 15 | 240 & e, (15 & e) << 4 | 15 & e)) : (e = v.exec(t)) ? n(parseInt(e[1], 16)) : (e = y.exec(t)) ? new r(e[1], e[2], e[3]) : (e = j.exec(t)) ? new r(255 * e[1] / 100, 255 * e[2] / 100, 255 * e[3] / 100) : (e = C.exec(t)) ? new a(e[1], e[2] / 100, e[3] / 100) : S.hasOwnProperty(t) ? n(S[t]) : null;
}
function n(t) {
return new r(t >> 16 & 255, t >> 8 & 255, 255 & t);
}
function o(t, n, o) {
if (1 === arguments.length) {
t instanceof e || (t = i(t));
if (t) {
t = t.rgb();
o = t.b;
n = t.g;
t = t.r;
} else t = n = o = NaN;
}
return new r(t, n, o);
}
function r(t, e, i) {
this.r = +t;
this.g = +e;
this.b = +i;
}
function s(t, n, o) {
if (1 === arguments.length) if (t instanceof a) {
o = t.l;
n = t.s;
t = t.h;
} else {
t instanceof e || (t = i(t));
if (t) {
if (t instanceof a) return t;
t = t.rgb();
var r = t.r / 255, s = t.g / 255, _ = t.b / 255, l = Math.min(r, s, _), u = Math.max(r, s, _), d = u - l;
o = (u + l) / 2;
if (d) {
n = o < .5 ? d / (u + l) : d / (2 - u - l);
t = r === u ? (s - _) / d + 6 * (s < _) : s === u ? (_ - r) / d + 2 : (r - s) / d + 4;
t *= 60;
} else {
t = NaN;
n = o > 0 && o < 1 ? 0 : t;
}
} else t = n = o = NaN;
}
return new a(t, n, o);
}
function a(t, e, i) {
this.h = +t;
this.s = +e;
this.l = +i;
}
function _(t, e, i) {
return 255 * (t < 60 ? e + (i - e) * t / 60 : t < 180 ? i : t < 240 ? e + (i - e) * (240 - t) / 60 : e);
}
function l(t, e, i) {
if (1 === arguments.length) if (t instanceof u) {
i = t.b;
e = t.a;
t = t.l;
} else if (t instanceof g) {
var n = t.h * I;
i = Math.sin(n) * t.c;
e = Math.cos(n) * t.c;
t = t.l;
} else {
t instanceof r || (t = o(t));
i = f(t.r);
e = f(t.g);
t = f(t.b);
var s = d((.4124564 * i + .3575761 * e + .1804375 * t) / T), a = d((.2126729 * i + .7151522 * e + .072175 * t) / D), _ = d((.0193339 * i + .119192 * e + .9503041 * t) / E);
i = 200 * (a - _);
e = 500 * (s - a);
t = 116 * a - 16;
}
return new u(t, e, i);
}
function u(t, e, i) {
this.l = +t;
this.a = +e;
this.b = +i;
}
function d(t) {
return t > W ? Math.pow(t, 1 / 3) : t / L + O;
}
function c(t) {
return t > P ? t * t * t : L * (t - O);
}
function h(t) {
return 255 * (t <= .0031308 ? 12.92 * t : 1.055 * Math.pow(t, 1 / 2.4) - .055);
}
function f(t) {
return (t /= 255) <= .04045 ? t / 12.92 : Math.pow((t + .055) / 1.055, 2.4);
}
function p(t, e, i) {
if (1 === arguments.length) if (t instanceof g) {
i = t.l;
e = t.c;
t = t.h;
} else {
t instanceof u || (t = l(t));
i = t.l;
e = Math.sqrt(t.a * t.a + t.b * t.b);
t = Math.atan2(t.b, t.a) * N;
t < 0 && (t += 360);
}
return new g(t, e, i);
}
function g(t, e, i) {
this.h = +t;
this.c = +e;
this.l = +i;
}
function m(t, e, i) {
if (1 === arguments.length) if (t instanceof $) {
i = t.l;
e = t.s;
t = t.h;
} else {
t instanceof r || (t = o(t));
var n = t.r / 255, s = t.g / 255, a = t.b / 255;
i = (Y * a + U * n - G * s) / (Y + U - G);
var _ = a - i, l = (q * (s - i) - H * _) / z;
e = Math.sqrt(l * l + _ * _) / (q * i * (1 - i));
t = e ? Math.atan2(l, _) * N - 120 : NaN;
t < 0 && (t += 360);
}
return new $(t, e, i);
}
function $(t, e, i) {
this.h = +t;
this.s = +e;
this.l = +i;
}
var b = .7, w = 1 / b, x = /^#([0-9a-f]{3})$/, v = /^#([0-9a-f]{6})$/, y = /^rgb\(\s*([-+]?\d+)\s*,\s*([-+]?\d+)\s*,\s*([-+]?\d+)\s*\)$/, j = /^rgb\(\s*([-+]?\d+(?:\.\d+)?)%\s*,\s*([-+]?\d+(?:\.\d+)?)%\s*,\s*([-+]?\d+(?:\.\d+)?)%\s*\)$/, C = /^hsl\(\s*([-+]?\d+(?:\.\d+)?)\s*,\s*([-+]?\d+(?:\.\d+)?)%\s*,\s*([-+]?\d+(?:\.\d+)?)%\s*\)$/, S = {
aliceblue: 15792383,
antiquewhite: 16444375,
aqua: 65535,
aquamarine: 8388564,
azure: 15794175,
beige: 16119260,
bisque: 16770244,
black: 0,
blanchedalmond: 16772045,
blue: 255,
blueviolet: 9055202,
brown: 10824234,
burlywood: 14596231,
cadetblue: 6266528,
chartreuse: 8388352,
chocolate: 13789470,
coral: 16744272,
cornflowerblue: 6591981,
cornsilk: 16775388,
crimson: 14423100,
cyan: 65535,
darkblue: 139,
darkcyan: 35723,
darkgoldenrod: 12092939,
darkgray: 11119017,
darkgreen: 25600,
darkgrey: 11119017,
darkkhaki: 12433259,
darkmagenta: 9109643,
darkolivegreen: 5597999,
darkorange: 16747520,
darkorchid: 10040012,
darkred: 9109504,
darksalmon: 15308410,
darkseagreen: 9419919,
darkslateblue: 4734347,
darkslategray: 3100495,
darkslategrey: 3100495,
darkturquoise: 52945,
darkviolet: 9699539,
deeppink: 16716947,
deepskyblue: 49151,
dimgray: 6908265,
dimgrey: 6908265,
dodgerblue: 2003199,
firebrick: 11674146,
floralwhite: 16775920,
forestgreen: 2263842,
fuchsia: 16711935,
gainsboro: 14474460,
ghostwhite: 16316671,
gold: 16766720,
goldenrod: 14329120,
gray: 8421504,
green: 32768,
greenyellow: 11403055,
grey: 8421504,
honeydew: 15794160,
hotpink: 16738740,
indianred: 13458524,
indigo: 4915330,
ivory: 16777200,
khaki: 15787660,
lavender: 15132410,
lavenderblush: 16773365,
lawngreen: 8190976,
lemonchiffon: 16775885,
lightblue: 11393254,
lightcoral: 15761536,
lightcyan: 14745599,
lightgoldenrodyellow: 16448210,
lightgray: 13882323,
lightgreen: 9498256,
lightgrey: 13882323,
lightpink: 16758465,
lightsalmon: 16752762,
lightseagreen: 2142890,
lightskyblue: 8900346,
lightslategray: 7833753,
lightslategrey: 7833753,
lightsteelblue: 11584734,
lightyellow: 16777184,
lime: 65280,
limegreen: 3329330,
linen: 16445670,
magenta: 16711935,
maroon: 8388608,
mediumaquamarine: 6737322,
mediumblue: 205,
mediumorchid: 12211667,
mediumpurple: 9662683,
mediumseagreen: 3978097,
mediumslateblue: 8087790,
mediumspringgreen: 64154,
mediumturquoise: 4772300,
mediumvioletred: 13047173,
midnightblue: 1644912,
mintcream: 16121850,
mistyrose: 16770273,
moccasin: 16770229,
navajowhite: 16768685,
navy: 128,
oldlace: 16643558,
olive: 8421376,
olivedrab: 7048739,
orange: 16753920,
orangered: 16729344,
orchid: 14315734,
palegoldenrod: 15657130,
palegreen: 10025880,
paleturquoise: 11529966,
palevioletred: 14381203,
papayawhip: 16773077,
peachpuff: 16767673,
peru: 13468991,
pink: 16761035,
plum: 14524637,
powderblue: 11591910,
purple: 8388736,
rebeccapurple: 6697881,
red: 16711680,
rosybrown: 12357519,
royalblue: 4286945,
saddlebrown: 9127187,
salmon: 16416882,
sandybrown: 16032864,
seagreen: 3050327,
seashell: 16774638,
sienna: 10506797,
silver: 12632256,
skyblue: 8900331,
slateblue: 6970061,
slategray: 7372944,
slategrey: 7372944,
snow: 16775930,
springgreen: 65407,
steelblue: 4620980,
tan: 13808780,
teal: 32896,
thistle: 14204888,
tomato: 16737095,
turquoise: 4251856,
violet: 15631086,
wheat: 16113331,
white: 16777215,
whitesmoke: 16119285,
yellow: 16776960,
yellowgreen: 10145074
};
i.prototype = e.prototype = {
displayable: function() {
return this.rgb().displayable();
},
toString: function() {
return this.rgb() + "";
}
};
var A = o.prototype = r.prototype = new e();
A.brighter = function(t) {
t = null == t ? w : Math.pow(w, t);
return new r(this.r * t, this.g * t, this.b * t);
};
A.darker = function(t) {
t = null == t ? b : Math.pow(b, t);
return new r(this.r * t, this.g * t, this.b * t);
};
A.rgb = function() {
return this;
};
A.displayable = function() {
return 0 <= this.r && this.r <= 255 && 0 <= this.g && this.g <= 255 && 0 <= this.b && this.b <= 255;
};
A.toString = function() {
var t = Math.round(this.r), e = Math.round(this.g), i = Math.round(this.b);
return "#" + (isNaN(t) || t <= 0 ? "00" : t < 16 ? "0" + t.toString(16) : t >= 255 ? "ff" : t.toString(16)) + (isNaN(e) || e <= 0 ? "00" : e < 16 ? "0" + e.toString(16) : e >= 255 ? "ff" : e.toString(16)) + (isNaN(i) || i <= 0 ? "00" : i < 16 ? "0" + i.toString(16) : i >= 255 ? "ff" : i.toString(16));
};
var k = s.prototype = a.prototype = new e();
k.brighter = function(t) {
t = null == t ? w : Math.pow(w, t);
return new a(this.h, this.s, this.l * t);
};
k.darker = function(t) {
t = null == t ? b : Math.pow(b, t);
return new a(this.h, this.s, this.l * t);
};
k.rgb = function() {
var t = this.h % 360 + 360 * (this.h < 0), e = isNaN(t) || isNaN(this.s) ? 0 : this.s, i = this.l, n = i + (i < .5 ? i : 1 - i) * e, o = 2 * i - n;
return new r(_(t >= 240 ? t - 240 : t + 120, o, n), _(t, o, n), _(t < 120 ? t + 240 : t - 120, o, n));
};
k.displayable = function() {
return (0 <= this.s && this.s <= 1 || isNaN(this.s)) && 0 <= this.l && this.l <= 1;
};
var I = Math.PI / 180, N = 180 / Math.PI, B = 18, T = .95047, D = 1, E = 1.08883, O = 4 / 29, P = 6 / 29, L = 3 * P * P, W = P * P * P, R = l.prototype = u.prototype = new e();
R.brighter = function(t) {
return new u(this.l + B * (null == t ? 1 : t), this.a, this.b);
};
R.darker = function(t) {
return new u(this.l - B * (null == t ? 1 : t), this.a, this.b);
};
R.rgb = function() {
var t = (this.l + 16) / 116, e = isNaN(this.a) ? t : t + this.a / 500, i = isNaN(this.b) ? t : t - this.b / 200;
t = D * c(t);
e = T * c(e);
i = E * c(i);
return new r(h(3.2404542 * e - 1.5371385 * t - .4985314 * i), h(-.969266 * e + 1.8760108 * t + .041556 * i), h(.0556434 * e - .2040259 * t + 1.0572252 * i));
};
var F = p.prototype = g.prototype = new e();
F.brighter = function(t) {
return new g(this.h, this.c, this.l + B * (null == t ? 1 : t));
};
F.darker = function(t) {
return new g(this.h, this.c, this.l - B * (null == t ? 1 : t));
};
F.rgb = function() {
return l(this).rgb();
};
var M = -.14861, V = 1.78277, H = -.29227, z = -.90649, q = 1.97294, U = q * z, G = q * V, Y = V * H - z * M, X = m.prototype = $.prototype = new e();
X.brighter = function(t) {
t = null == t ? w : Math.pow(w, t);
return new $(this.h, this.s, this.l * t);
};
X.darker = function(t) {
t = null == t ? b : Math.pow(b, t);
return new $(this.h, this.s, this.l * t);
};
X.rgb = function() {
var t = isNaN(this.h) ? 0 : (this.h + 120) * I, e = +this.l, i = isNaN(this.s) ? 0 : this.s * e * (1 - e), n = Math.cos(t), o = Math.sin(t);
return new r(255 * (e + i * (M * n + V * o)), 255 * (e + i * (H * n + z * o)), 255 * (e + i * (q * n)));
};
var K = "0.3.4";
t.version = K;
t.color = i;
t.rgb = o;
t.hsl = s;
t.lab = l;
t.hcl = p;
t.cubehelix = m;
});
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t) {
t = s.shallowExtend({}, t);
for (var e in t) if (t.hasOwnProperty(e) && o(e, r) > -1) {
for (var i = "", n = 0, a = r.length; n < a; n++) {
var _ = r[n];
if (_ in t) {
i += _ + "(" + t[_] + ")";
delete t[_];
}
}
t.transform = i;
t.webkitTransform = i;
}
return t;
}
var o = i(8), r = [ "matrix", "translate", "translateX", "translateY", "scale", "scaleX", "scaleY", "rotate", "skew", "skewX", "skewY", "matrix3d", "translate3d", "translateZ", "scale3d", "scaleZ", "rotate3d", "rotateX", "rotateY", "rotateZ", "perspective" ], s = i(51);
t.exports = n;
e(n, "meshim_widget_utils_propsToCSSStyle");
return n;
}();
}).call(e, i(3));
}, function(t, e, i) {
(function(e, n, o, r, s) {
e.__$$__jx_ui_FloatingFrame = i(84);
e.__$$__meshim_widget_components_mobileChatUnreadCountBadge_UnreadCount = i(342);
e.__$$__meshim_widget_components_mobileChatButton_TappingScreen = i(334);
t.exports = function() {
function t(r, s, _, l, u) {
if (!(this instanceof t)) return new t(r, s, _, l, u);
s = s || n.generateID();
var d = [ e.__$$__jx_ui_FloatingFrame, "", "", [ [ e.__$$__meshim_widget_components_mobileChatUnreadCountBadge_UnreadCount, "mobile_unread", "", [], {
id: "mobile_unread",
opacity: "0"
} ], [ e.__$$__meshim_widget_components_mobileChatButton_TappingScreen, "", "", [], {} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:mui": "meshim.ui",
"xmlns:components": "meshim.widget.components",
"xmlns:widgets": "meshim.widget.widgets",
"xmlns:mobileChatButton": "meshim.widget.components.mobileChatButton",
"xmlns:mobileChatUnreadCountBadge": "meshim.widget.components.mobileChatUnreadCountBadge",
useDisplay: "true",
visible: "false",
cursor: "pointer"
} ], c = d[0].call(this, r, s, null, n.mangleIDs(s, d[3]), d[4]), h = c || this;
n.set(s, h);
var f = n.get(s + "__mobile_unread");
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var p = function() {
function t() {
if (v) {
s = new _(h, u);
h.dom.className = "zopim";
h.content.setStyle("textAlign", "left");
h.content.addClass("meshim_widget_Widget");
h.wrapper.addClass(h.__jx__fqname);
h.iframe.style.verticalAlign = "top";
h.autobind(g, "value", n);
h.autobind(m, "value", n);
h.autobind($, "value", function(t) {
if (o !== t) {
o = t;
e();
}
});
h.autobind(b, "value", function(t) {
if (w !== t) {
w = t;
e();
n();
f.updateUnread(w);
}
});
h.autobind(x, "value", function(t) {
if (r !== t) {
r = t;
e();
}
});
}
}
function e() {
if (v && o && w > 0 && r) {
h.setDisplay("");
s.animate({
endStyle: d,
duration: 200
});
} else s.animate({
endStyle: u,
duration: 200
}, function(t) {
t || h.setDisplay("none");
});
}
function n() {
var t = g.getValue();
if (t && 0 != t.width$string && 0 != t.height$string) {
for (var e, i, n, o, r = 11, s = 3, a = r + s, _ = t.zoom$string, u = t.scale$string, d = 0, c = l.cssom_prefixes.length; d < c; d++) {
h.wrapper.setStyle(l.cssom_prefixes[d] + "Transform", "scale(" + u + ")");
h.wrapper.setStyle(l.cssom_prefixes[d] + "TransformOrigin", "0 0");
}
if ("auto" === t.left$string) {
e = "auto";
i = parseFloat(t.right$string) - a * u;
} else {
i = "auto";
e = parseFloat(t.left$string) + parseFloat(t.width$string) - a * u;
}
if ("auto" === t.bottom$string) {
o = "auto";
n = parseFloat(t.top$string) - a * u;
} else {
n = "auto";
o = parseFloat(t.bottom$string) + parseFloat(t.height$string) - a * u;
}
h.setStyle({
top: "",
right: "",
bottom: "",
left: ""
});
h.setStyle({
position: t.position$string,
top: n,
right: i,
left: e,
bottom: o,
height: h.wrapper.getHeight() / _,
width: h.wrapper.getWidth() / _
});
}
}
var o, r, s, a = i(41), _ = i(335), l = i(51), u = {
opacity: 0
}, d = {
opacity: 1
}, c = a.root.$("livechat"), p = c.$("ui").$("chat_button"), g = p.$("mobile").$("calculated_styles"), m = c.$("settings").$("theme").$("chat_button").$("position_mobile$string"), $ = p.$("fully_visible$bool"), b = p.$("unread_count$int"), w = 0, x = c.$("channel").$("chatting$bool"), v = c.$("ui").$("mobile$bool").getValue();
t();
}();
for (var g in p) p.hasOwnProperty(g) && (h[g] = p[g]);
h.fire && h.fire("init");
h.setStyle && h.setStyle(_);
h.setAttributes && h.setAttributes(u);
"function" == typeof h.addChildren ? h.addChildren(l) : n.addChildren(h, l);
if (h !== this) {
h.__jx__constructor = a;
h.__jx__native = !1;
}
return h;
}
var a;
t.prototype = r(e.__$$__jx_ui_FloatingFrame.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_FloatingFrame;
t.__jx__jcss = {
"**self": {
padding: "3px"
}
};
s(t, "meshim_widget_components_MobileChatUnreadCountBadge");
a = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(4), i(21), i(31), i(15), i(3));
}, function(t, e, i) {
(function(e, n, o, r, s) {
e.__$$__jx_ui_Widget = i(18);
e.__$$__jx_ui_Label = i(104);
t.exports = function() {
function t(r, s, a, _, l) {
if (!(this instanceof t)) return new t(r, s, a, _, l);
s = s || n.generateID();
var u = [ e.__$$__jx_ui_Widget, "", "", [ [ e.__$$__jx_ui_Widget, "", "", [], {
addClass: "unread_badge"
} ], [ e.__$$__jx_ui_Label, "unread_badge_text", "", [], {
id: "unread_badge_text",
addClass: "unread_badge_text"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui"
} ], d = u[0].call(this, r, s, null, n.mangleIDs(s, u[3]), u[4]), c = d || this;
n.set(s, c);
var h = n.get(s + "__unread_badge_text");
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var f = function() {
var t = 0;
c.updateUnread = function(e) {
var i = Math.min(e, 99);
if (i !== t) {
t = i;
if (t) {
h.setText(t);
c.setOpacity(1);
} else c.setOpacity(0);
}
};
}();
for (var p in f) f.hasOwnProperty(p) && (c[p] = f[p]);
c.fire && c.fire("init");
c.setStyle && c.setStyle(a);
c.setAttributes && c.setAttributes(l);
"function" == typeof c.addChildren ? c.addChildren(_) : n.addChildren(c, _);
if (c !== this) {
c.__jx__constructor = i;
c.__jx__native = !1;
}
return c;
}
var i;
t.prototype = r(e.__$$__jx_ui_Widget.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_Widget;
t.__jx__jcss = {
"**self": {
position: "relative",
width: "22px",
height: "22px"
},
".unread_badge": {
position: "absolute",
top: "0",
left: "0",
height: "100%",
width: "100%",
background: "#EF4444",
border: "1px solid #AF1E1E",
boxShadow: "0px 0px 3px 0px rgba(0,0,0,0.6)",
borderRadius: "50%"
},
".unread_badge_text": {
position: "absolute",
top: "0",
left: "0",
width: "100%",
height: "100%",
fontWeight: "700",
fontSize: "12px",
color: "#FFF",
lineHeight: "22px",
textAlign: "center"
}
};
s(t, "meshim_widget_components_mobileChatUnreadCountBadge_UnreadCount");
i = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(4), i(21), i(31), i(15), i(3));
}, function(t, e, i) {
(function(e, n, o, r, s) {
e.__$$__jx_ui_IFrame = i(85);
e.__$$__meshim_widget_components_mobileChatWindow_MainScreen = i(344);
e.__$$__meshim_widget_widgets_fontLoader_ZopimFont = i(299);
t.exports = function() {
function t(r, s, _, l, u) {
if (!(this instanceof t)) return new t(r, s, _, l, u);
s = s || n.generateID();
var d = [ e.__$$__jx_ui_IFrame, "", "", [ [ e.__$$__meshim_widget_components_mobileChatWindow_MainScreen, "", "", [], {} ], [ e.__$$__meshim_widget_widgets_fontLoader_ZopimFont, "", "", [], {} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:widgets": "meshim.widget.widgets",
"xmlns:mobileWindow": "meshim.widget.components.mobileChatWindow",
top: "0",
left: "0",
width: "100%",
height: "100%",
position: "fixed",
zIndex: "16000003",
minWidth: "100%",
maxWidth: "100%",
minHeight: "100%",
maxHeight: "100%",
useDisplay: "true",
visible: "false"
} ], c = d[0].call(this, r, s, null, n.mangleIDs(s, d[3]), d[4]), h = c || this;
n.set(s, h);
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var f = function() {
function t() {
h.defaultPlacement.addClass(h.__jx__fqname);
h.defaultPlacement.addClass("meshim_widget_Widget");
c(h.ibody);
s.init();
o();
r = new d(h, f);
h.moveDown = n;
h.moveUp = e;
a.registerChatWindow(h);
}
function e(t) {
h.setVisible(!0);
u.store();
_(!0);
r.animate({
endStyle: p,
duration: 500
}, function(e) {
e || l(!0);
t && t(e);
});
}
function n(t) {
l(!1);
_(!1);
u.restore();
r.animate({
endStyle: f,
duration: 300
}, function(e) {
e || h.setVisible(!1);
t && t(e);
});
}
function o() {
var t = h.idoc.createElement("meta");
t.setAttribute("name", "viewport");
t.setAttribute("content", "width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no");
h.idoc.head.appendChild(t);
}
var r, s = i(202), a = i(58), _ = i(350), l = i(351), u = i(352), d = i(335), c = i(301), f = {
opacity: 0,
translateY: "100%"
}, p = {
opacity: 1,
translateY: "0%"
};
t();
}();
for (var p in f) f.hasOwnProperty(p) && (h[p] = f[p]);
h.fire && h.fire("init");
h.setStyle && h.setStyle(_);
h.setAttributes && h.setAttributes(u);
"function" == typeof h.addChildren ? h.addChildren(l) : n.addChildren(h, l);
if (h !== this) {
h.__jx__constructor = a;
h.__jx__native = !1;
}
return h;
}
var a;
t.prototype = r(e.__$$__jx_ui_IFrame.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_IFrame;
t.__jx__jcss = {};
s(t, "meshim_widget_components_MobileChatWindow");
a = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(4), i(21), i(31), i(15), i(3));
}, function(t, e, i) {
(function(e, n, o, r, s) {
e.__$$__jx_ui_Widget = i(18);
e.__$$__meshim_widget_components_chatWindow_MenuStack = i(269);
e.__$$__meshim_widget_widgets_ViewStack = i(89);
e.__$$__meshim_widget_components_chatWindow_NewChatForm = i(91);
e.__$$__meshim_widget_components_chatWindow_PreChatOfflineForm = i(135);
e.__$$__meshim_widget_components_mobileChatWindow_ChatPanel = i(345);
e.__$$__meshim_widget_components_chatWindow_PostChatForm = i(255);
e.__$$__meshim_widget_components_chatWindow_CookieForm = i(260);
e.__$$__meshim_widget_components_chatWindow_CardForm = i(264);
e.__$$__meshim_widget_components_chatWindow_AgentList = i(265);
e.__$$__meshim_widget_components_chatWindow_AboutPanel = i(267);
e.__$$__meshim_widget_components_chatWindow_RatingPanel = i(268);
t.exports = function() {
function t(r, s, _, l, u) {
if (!(this instanceof t)) return new t(r, s, _, l, u);
s = s || n.generateID();
var d = [ e.__$$__jx_ui_Widget, "", "", [ [ e.__$$__meshim_widget_components_chatWindow_MenuStack, "menu_stack", "", [], {
id: "menu_stack",
addClass: "popout"
} ], [ e.__$$__meshim_widget_widgets_ViewStack, "main_stack", "", [ [ e.__$$__meshim_widget_components_chatWindow_NewChatForm, "", "", [], {
name: "new_chat_form"
} ], [ e.__$$__meshim_widget_components_chatWindow_PreChatOfflineForm, "", "", [], {
name: "pre_chat_offline_form"
} ], [ e.__$$__meshim_widget_components_mobileChatWindow_ChatPanel, "", "", [], {
name: "chat_panel"
} ], [ e.__$$__meshim_widget_components_chatWindow_PostChatForm, "", "", [], {
name: "post_chat_form"
} ], [ e.__$$__meshim_widget_components_chatWindow_CookieForm, "", "", [], {
name: "cookie_form"
} ], [ e.__$$__meshim_widget_components_chatWindow_CardForm, "", "", [], {
name: "card_form"
} ], [ e.__$$__meshim_widget_components_chatWindow_AgentList, "", "", [], {
name: "agent_list"
} ], [ e.__$$__meshim_widget_components_chatWindow_AboutPanel, "", "", [], {
name: "about_panel"
} ], [ e.__$$__meshim_widget_components_chatWindow_RatingPanel, "", "", [], {
name: "rating_panel"
} ] ], {
id: "main_stack",
onChildHide: "-1"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:chatWindow": "meshim.widget.components.chatWindow",
"xmlns:mobileChatWindow": "meshim.widget.components.mobileChatWindow",
"xmlns:widgets": "meshim.widget.widgets"
} ], c = d[0].call(this, r, s, null, n.mangleIDs(s, d[3]), d[4]), h = c || this;
n.set(s, h);
var f = n.get(s + "__menu_stack"), p = n.get(s + "__main_stack");
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var g = function() {
function t() {
e();
p.on("click", e);
p.on("indexChange", e);
h.autobind(s, "value", function() {
p.setName(s.getValue());
});
h.autobind(a, "value", function() {
f.setName(a.getValue());
});
}
function e() {
a.update("");
}
var n = i(41), o = n.root.$("livechat"), r = o.$("ui").$("chat_window"), s = r.$("main_stack_name$string"), a = r.$("menu_stack_name$string");
t();
}();
for (var m in g) g.hasOwnProperty(m) && (h[m] = g[m]);
h.fire && h.fire("init");
h.setStyle && h.setStyle(_);
h.setAttributes && h.setAttributes(u);
"function" == typeof h.addChildren ? h.addChildren(l) : n.addChildren(h, l);
if (h !== this) {
h.__jx__constructor = a;
h.__jx__native = !1;
}
return h;
}
var a;
t.prototype = r(e.__$$__jx_ui_Widget.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_Widget;
t.__jx__jcss = {
"**self": {
position: "absolute",
"top, left, right, bottom": 0,
backgroundColor: "$$windowBg",
boxShadow: "$$windowShadow",
"-webkit-text-size-adjust, -moz-text-size-adjust, -ms-text-size-adjust, text-size-adjust": "100%"
}
};
s(t, "meshim_widget_components_mobileChatWindow_MainScreen");
a = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(4), i(21), i(31), i(15), i(3));
}, function(t, e, i) {
(function(e, n, o, r, s, a) {
e.__$$__jx_ui_Widget = i(18);
e.__$$__meshim_widget_components_chatWindow_chatPanel_ChatPanelHeader = i(195);
e.__$$__meshim_widget_components_chatWindow_chatPanel_FastInitChatLog = i(214);
e.__$$__meshim_widget_widgets_Branding = i(93);
e.__$$__meshim_widget_components_mobileChatWindow_chatPanel_AgentTypingStatus = i(346);
e.__$$__meshim_widget_widgets_CookieLawNotice = i(123);
e.__$$__meshim_widget_components_chatWindow_chatPanel_QueueMessage = i(248);
e.__$$__meshim_widget_components_mobileChatWindow_chatPanel_ChatTextArea = i(347);
e.__$$__meshim_widget_widgets_TitleBar = i(102);
e.__$$__meshim_widget_widgets_MobileOptionsMenuIcon = i(117);
e.__$$__meshim_widget_widgets_ChatWindowDisconnectedToast = i(136);
e.__$$__meshim_widget_components_chatWindow_chatPanel_File = i(194);
e.__$$__meshim_widget_components_mobileChatWindow_chatPanel_NewMessagesToast = i(349);
t.exports = function() {
function t(s, a, l, u, d) {
if (!(this instanceof t)) return new t(s, a, l, u, d);
a = a || n.generateID();
var c = [ e.__$$__jx_ui_Widget, "", "", [ [ e.__$$__jx_ui_Widget, "", "", [ [ e.__$$__jx_ui_Widget, "", "", [ [ e.__$$__jx_ui_Widget, "scrollable", "", [ [ e.__$$__jx_ui_Widget, "served_by_container", "", [ [ e.__$$__meshim_widget_components_chatWindow_chatPanel_ChatPanelHeader, "", "", [], {} ] ], {
id: "served_by_container",
addClass: "served_by_container"
} ], [ e.__$$__jx_ui_Widget, "", "", [ [ e.__$$__jx_ui_Widget, "", "", [ [ e.__$$__meshim_widget_components_chatWindow_chatPanel_FastInitChatLog, "", "", [], {} ] ], {
addClass: "chat_log_wrapper"
} ] ], {
addClass: "chatlog_container"
} ], [ e.__$$__jx_ui_Widget, "branding_and_agent_typing_container", "", [ [ e.__$$__meshim_widget_widgets_Branding, "chatpanel_branding", "", [], {
id: "chatpanel_branding",
addClass: "chatpanel_branding"
} ], [ e.__$$__meshim_widget_components_mobileChatWindow_chatPanel_AgentTypingStatus, "agent_typing", "", [], {
id: "agent_typing",
class: "agent_typing"
} ] ], {
id: "branding_and_agent_typing_container",
addClass: "branding_and_agent_typing_container"
} ], [ e.__$$__meshim_widget_widgets_CookieLawNotice, "cookie_law_notice", "", [], {
id: "cookie_law_notice",
addClass: "cookie_law_notice"
} ] ], {
id: "scrollable",
addClass: "scrollable"
} ], [ e.__$$__meshim_widget_components_chatWindow_chatPanel_QueueMessage, "queue_message", "", [], {
id: "queue_message",
addClass: "queue_message"
} ] ], {
addClass: "scrollable_container"
} ], [ e.__$$__jx_ui_Widget, "", "", [ [ e.__$$__meshim_widget_components_mobileChatWindow_chatPanel_ChatTextArea, "", "", [], {} ] ], {
addClass: "textarea_container"
} ] ], {
addClass: "main_flexbox"
} ], [ e.__$$__meshim_widget_widgets_TitleBar, "", "", [], {} ], [ e.__$$__meshim_widget_widgets_MobileOptionsMenuIcon, "", "", [], {
addClass: "mobile_options_menu_icon"
} ], [ e.__$$__meshim_widget_widgets_ChatWindowDisconnectedToast, "", "", [], {} ], [ e.__$$__meshim_widget_components_chatWindow_chatPanel_File, "", "", [], {} ], [ e.__$$__jx_ui_Widget, "", "", [ [ e.__$$__meshim_widget_components_mobileChatWindow_chatPanel_NewMessagesToast, "", "", [], {
addClass: "new_messages_toast"
} ] ], {
addClass: "new_messages_toast_parent"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:widgets": "meshim.widget.widgets",
"xmlns:chatPanel": "meshim.widget.components.chatWindow.chatPanel",
"xmlns:mobileChatPanel": "meshim.widget.components.mobileChatWindow.chatPanel"
} ], h = c[0].call(this, s, a, null, n.mangleIDs(a, c[3]), c[4]), f = h || this;
n.set(a, f);
var p = n.get(a + "__scrollable"), g = n.get(a + "__served_by_container"), m = n.get(a + "__branding_and_agent_typing_container"), $ = n.get(a + "__chatpanel_branding"), b = (n.get(a + "__agent_typing"), 
n.get(a + "__cookie_law_notice")), w = n.get(a + "__queue_message");
if (!t.__jx__jcss_generated) {
o.generate(s, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var x = function() {
function t() {
x.rtl(f);
p.on("scroll", l);
f.on("touchstart", c.userTouchStart);
f.on("touchend", c.userTouchEnd);
f.autobind(N, "value", n);
f.autobind(L, "value", o);
f.autobind(I.$("smooth_scroll_count$int"), "value", s);
f.autobind(I.$("instant_scroll_count$int"), "value", a);
f.autobind(P, "value", e);
f.autobind(O, "value", e);
d = v.isStyleSupported("overflow-scrolling");
d && u();
f.autobind(E, "value", function(t) {
g.setDisplay(t ? "block" : "none");
});
}
function e() {
if (P.getValue() && !O.getValue()) {
m.setDisplay("none");
b.setDisplay("");
w.setDisplay("none");
} else {
m.setDisplay("");
b.setDisplay("none");
w.setDisplay("");
}
}
function n(t) {
$[t ? "addClass" : "removeClass"]("hide");
}
function o() {
L.getValue() > 0 ? $.setDisplay("none") : $.setDisplay("");
}
function s(t) {
if (!R || t === !0) {
var e = l();
if (e <= A) R = !1; else {
var i = Math.floor(Math.max(e * j, C));
W.scrollTop = W.scrollTop + i;
if (e - i > 0) {
R = !0;
F(function() {
s(!0);
});
} else R = !1;
}
}
}
function a() {
W.scrollTop = 99999999999;
c.userDistFromBottom(0);
}
function _() {
return W.scrollHeight - W.offsetHeight - W.scrollTop;
}
function l() {
var t = _();
c.userDistFromBottom(t);
d && M(t);
return t;
}
function u() {
function t() {
var t = D.getValue(), i = T.getValue();
"chat_panel" === t && i === !0 && e();
}
function e() {
p.setCSSStyle("webkitOverflowScrolling", "auto");
setTimeout(function() {
p.setCSSStyle("webkitOverflowScrolling", "touch");
}, 50);
}
f.autobind(T, "value", t);
f.autobind(D, "value", t);
}
var d, c = i(202), h = i(41), x = i(97), v = i(51), y = i(59), j = .25, C = 5, S = 50, A = 1, k = h.root.$("livechat"), I = k.$("ui").$("chat_window").$("chat_panel").$("scrollable"), N = k.$("ui").$("chat_window").$("typing_info").$("agent_typing$bool"), B = k.$("ui").$("chat_window"), T = B.$("display$bool"), D = B.$("main_stack_name$string"), E = B.$("display_profile_card$bool"), O = k.$("profile").$("allow_cookies$bool"), P = k.$("settings").$("cookie_law").$("enabled$bool"), L = k.$("channel").$("queue_position$int"), W = p.dom, R = !1, F = window.requestAnimationFrame || r, M = y.debounce(function(t) {
W.scrollHeight - W.offsetHeight !== 1 && (0 === t ? W.scrollTop = W.scrollHeight - W.offsetHeight - A : 0 === W.scrollTop && (W.scrollTop = A));
}, S);
t();
}();
for (var v in x) x.hasOwnProperty(v) && (f[v] = x[v]);
f.fire && f.fire("init");
f.setStyle && f.setStyle(l);
f.setAttributes && f.setAttributes(d);
"function" == typeof f.addChildren ? f.addChildren(u) : n.addChildren(f, u);
if (f !== this) {
f.__jx__constructor = _;
f.__jx__native = !1;
}
return f;
}
var _;
t.prototype = s(e.__$$__jx_ui_Widget.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_Widget;
t.__jx__jcss = {
"**self": {
height: "100%"
},
".mobile_options_menu_icon": {
position: "absolute",
zIndex: "102"
},
"&.ltr": {
".mobile_options_menu_icon": {
"top, left": 0
}
},
"&.rtl": {
".mobile_options_menu_icon": {
"top, right": 0
}
},
".main_flexbox": {
paddingTop: "$$titleBarHeight",
position: "relative",
height: "100%",
display: [ "flex", "-webkit-flex" ],
"flexDirection, -webkit-flex-direction": "column"
},
".scrollable_container": {
position: "relative",
"flexGrow, -webkit-flex-grow": "1",
display: [ "flex", "-webkit-flex" ]
},
".scrollable": {
"flexGrow, -webkit-flex-grow": "1",
display: [ "flex", "-webkit-flex" ],
"flexDirection, -webkit-flex-direction": "column",
overflowY: "auto",
"-webkit-overflow-scrolling": "touch"
},
".served_by_container": {
"flexShrink, -webkit-flex-shrink": "0",
position: "relative",
width: "100%",
padding: "10px",
background: "$$chatPanelProfileCardContainerBackground",
borderWidth: "$$chatPanelProfileCardContainerBorderWidth",
borderStyle: "$$chatPanelProfileCardContainerBorderStyle",
borderColor: "$$chatPanelProfileCardContainerBorderColor"
},
".chatlog_container": {
position: "relative",
marginTop: "auto",
"flexShrink, -webkit-flex-shrink": "0"
},
".chat_log_wrapper": {
margin: "$$chatLogMargin"
},
".branding_and_agent_typing_container": {
position: "relative",
"flexShrink, -webkit-flex-shrink": "0",
height: "1.5em",
width: "100%"
},
".chatpanel_branding": {
position: "absolute",
transition: "opacity 2.5s 0.5s",
padding: "0px 15px 5px"
},
".chatpanel_branding.hide": {
visibility: "hidden",
transition: "none",
opacity: 0
},
".agent_typing": {
paddingTop: "2px",
width: "100%",
whiteSpace: "nowrap",
overflow: "hidden",
textOverflow: "ellipsis"
},
".cookie_law_notice": {
"flexShrink, -webkit-flex-shrink": "0",
fontSize: "$$fontSizeS",
color: "$$chatLogSystemMsgColor",
textAlign: "center",
height: "21px"
},
".textarea_container": {
position: "relative",
"flexShrink, -webkit-flex-shrink": "0"
},
".new_messages_toast_parent": {
position: "absolute",
bottom: "115px",
width: "100%",
height: "0px",
textAlign: "center"
},
".new_messages_toast": {
maxWidth: "80%"
},
".queue_message": {
position: "absolute",
bottom: "0px",
left: "10px",
right: "10px",
background: "white",
height: "30px",
padding: "7px 0"
}
};
a(t, "meshim_widget_components_mobileChatWindow_ChatPanel");
_ = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(4), i(21), i(31), i(13), i(15), i(3));
}, function(t, e, i) {
(function(e, n, o, r, s, a) {
e.__$$__jx_ui_Widget = i(18);
t.exports = function() {
function t(s, a, l, u, d) {
if (!(this instanceof t)) return new t(s, a, l, u, d);
a = a || n.generateID();
var c = [ e.__$$__jx_ui_Widget, "", "", [], {
"xmlns:ui": "jx.ui"
} ], h = c[0].call(this, s, a, null, n.mangleIDs(a, c[3]), c[4]), f = h || this;
n.set(a, f);
if (!t.__jx__jcss_generated) {
o.generate(s, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var p = function() {
function t() {
f.autobind(a.$("num_typing_agents$int"), "value", e);
if (r && r.onLanguage) {
r.onLanguage(e);
f.onDestruction(function() {
r.unLanguage(e);
});
}
}
function e() {
var t = a.$("num_typing_agents$int").getValue();
if (t >= 1) {
f.setText((1 == t ? o.chat_panel.name_is_typing : o.chat_panel.agents_are_typing).replace("<name>", a.$("agent_names$string").getValue()));
f.setDisplay("");
} else f.setDisplay("none");
}
var n = i(41), o = i(99), s = n.root.$("livechat"), a = s.$("ui").$("chat_window").$("typing_info");
t();
}();
for (var g in p) p.hasOwnProperty(g) && (f[g] = p[g]);
f.fire && f.fire("init");
f.setStyle && f.setStyle(l);
f.setAttributes && f.setAttributes(d);
"function" == typeof f.addChildren ? f.addChildren(u) : n.addChildren(f, u);
if (f !== this) {
f.__jx__constructor = _;
f.__jx__native = !1;
}
return f;
}
var _;
t.prototype = s(e.__$$__jx_ui_Widget.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_Widget;
t.__jx__jcss = {
"**self": {
fontSize: "$$fontSizeS",
color: "$$chatLogSystemMsgColor",
background: "$$chatLogSystemMsgBg",
textAlign: "center"
}
};
a(t, "meshim_widget_components_mobileChatWindow_chatPanel_AgentTypingStatus");
_ = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(4), i(21), i(31), i(23), i(15), i(3));
}, function(t, e, i) {
(function(e, n, o, r, s, a) {
e.__$$__jx_ui_Widget = i(18);
e.__$$__meshim_widget_widgets_Button = i(162);
e.__$$__meshim_widget_widgets_IconFont = i(98);
e.__$$__meshim_widget_widgets_SendFile = i(286);
e.__$$__meshim_widget_components_mobileChatWindow_chatPanel_AutoResizeTextArea = i(348);
t.exports = function() {
function t(s, a, l, u, d) {
if (!(this instanceof t)) return new t(s, a, l, u, d);
a = a || n.generateID();
var c = [ e.__$$__jx_ui_Widget, "", "", [ [ e.__$$__jx_ui_Widget, "", "", [ [ e.__$$__meshim_widget_widgets_Button, "send", "", [ [ e.__$$__meshim_widget_widgets_IconFont, "", "", [], {
icon: "send",
addClass: "send"
} ] ], {
id: "send",
addClass: "send_button primary fit"
} ], [ e.__$$__meshim_widget_widgets_Button, "upload", "", [ [ e.__$$__meshim_widget_widgets_IconFont, "", "", [], {
icon: "upload",
addClass: "upload"
} ], [ e.__$$__meshim_widget_widgets_SendFile, "", "", [], {
addClass: "send_file"
} ] ], {
id: "upload",
addClass: "upload_button primary fit"
} ] ], {
addClass: "send_wrapper"
} ], [ e.__$$__jx_ui_Widget, "", "", [ [ e.__$$__meshim_widget_components_mobileChatWindow_chatPanel_AutoResizeTextArea, "textarea", "", [], {
id: "textarea",
addClass: "textarea"
} ] ], {
addClass: "textarea_wrapper"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:mui": "meshim.ui",
"xmlns:widgets": "meshim.widget.widgets",
"xmlns:mobileChatWindow": "meshim.widget.components.mobileChatWindow"
} ], h = c[0].call(this, s, a, null, n.mangleIDs(a, c[3]), c[4]), f = h || this;
n.set(a, f);
var p = n.get(a + "__send"), g = n.get(a + "__upload"), m = n.get(a + "__textarea");
if (!t.__jx__jcss_generated) {
o.generate(s, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var $ = function() {
function t() {
y.$("chat_window").update({
menu_stack_name$string: ""
});
}
function e() {
c.resetUnreadCount();
}
function n() {
r.isIOS && "ja" === l && u && m.dom.scrollIntoViewIfNeeded();
h.userInputValue(m.getValue());
}
function o(t, e) {
if (_ !== t || d !== e) {
_ = t;
d = e;
if (d && _ === N.FILE) {
p.setDisplay("none");
g.setDisplay("");
} else {
p.setDisplay("");
g.setDisplay("none");
}
}
}
function s() {
var t = k.getValue(), e = C.getValue("color_customization_enabled$int") || C.getValue("widget_customization_enabled$int"), i = !0;
e ? t === !1 && (i = !1) : i = !1;
o(_, i);
}
function a() {
m.setPlaceholder(b.chat_panel.chattextarea_placeholder);
u = !!m.dom.scrollIntoViewIfNeeded;
f.autobind(S, "value", function(t) {
l = t;
});
f.autobind(j, "value", function(t) {
m.setValue(t);
o(t ? N.TEXT : N.FILE, d);
});
f.autobind(k, "value", s);
f.autobind(C, "value", s);
m.on("input", n);
m.on("focus", function() {
e();
t();
h.userFocusTextArea();
});
m.on("keydown", function(t) {
if (13 === t.keyCode && !t.shiftKey && !t.ctrlKey && !t.altKey) {
t.preventDefault();
h.userSendMessage(m.getValue());
}
});
p.on("mousedown", function(i) {
w.isChromeIOSMobile || r.isIOS && "ja" === l || i.preventDefault();
r.isAndroid && m.dom.setSelectionRange && m.dom.setSelectionRange(0, 1);
h.userSendMessage(m.getValue());
e();
t();
});
f.autobind(I, "value", function(t) {
f.setDisabled("idle_disconnect" === t);
});
}
var _, l, u, d, c = i(87), h = i(202), $ = i(41), b = i(99), w = i(56), x = $.root, v = x.$("livechat"), y = v.$("ui"), j = y.$("chat_window").$("chat_panel").$("textarea").$("value$string"), C = v.$("settings").$("package"), S = v.$("settings").$("language").$("language$string"), A = v.$("settings").$("file_sending"), k = A.$("enabled$bool"), I = x.$("connection").$("status$string"), N = {
TEXT: 0,
FILE: 1
};
a();
}();
for (var b in $) $.hasOwnProperty(b) && (f[b] = $[b]);
f.fire && f.fire("init");
f.setStyle && f.setStyle(l);
f.setAttributes && f.setAttributes(d);
"function" == typeof f.addChildren ? f.addChildren(u) : n.addChildren(f, u);
if (f !== this) {
f.__jx__constructor = _;
f.__jx__native = !1;
}
return f;
}
var _;
t.prototype = s(e.__$$__jx_ui_Widget.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_Widget;
t.__jx__jcss = {
"**self": {
width: "100%",
display: [ "flex", "-webkit-flex" ],
borderWidth: "$$chatTextAreaBorderWidth",
borderStyle: "$$chatTextAreaBorderStyle",
borderColor: "$$chatTextAreaBorderColor",
"&.disabled": {
opacity: "0.5"
}
},
".textarea": {
width: "100%",
lineHeight: "1.3em",
maxHeight: "3.9em",
minHeight: "2em",
padding: "10px",
paddingBottom: "0px",
resize: "none"
},
".textarea_wrapper": {
"flexGrow, -webkit-flex-grow": "1",
"order, -webkit-order": "1"
},
".send_button, .upload_button": {
fontSize: "$$fontSizeXXL",
margin: "$$chatTextAreaSubmitMargin",
padding: "$$chatTextAreaSubmitPadding",
width: "44px",
height: "32px",
boxShadow: "inset 0px 2px 0px 0px rgba(255,255,255,0.30)",
borderRadius: "4px",
".send": {
paddingLeft: "3px",
paddingTop: "4px"
},
".upload": {
paddingTop: "3px"
}
},
".send_button.rtl .send": {
direction: "ltr"
},
".upload_button": {
position: "relative"
},
".send_file": {
position: "absolute",
"top, left": 0
},
".send_wrapper": {
"flexShrink, -webkit-flex-shrink": "0",
"order, -webkit-order": "2",
marginTop: "auto"
}
};
a(t, "meshim_widget_components_mobileChatWindow_chatPanel_ChatTextArea");
_ = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(4), i(21), i(31), i(7), i(15), i(3));
}, function(t, e, i) {
(function(e, n, o, r, s, a) {
e.__$$__meshim_widget_widgets_TextArea = i(175);
t.exports = function() {
function t(s, a, l, u, d) {
if (!(this instanceof t)) return new t(s, a, l, u, d);
a = a || n.generateID();
var c = [ e.__$$__meshim_widget_widgets_TextArea, "", "", [], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:widgets": "meshim.widget.widgets",
addClass: "unstyled"
} ], h = c[0].call(this, s, a, null, n.mangleIDs(a, c[3]), c[4]), f = h || this;
n.set(a, f);
if (!t.__jx__jcss_generated) {
o.generate(s, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var p = function() {
function t() {
f.setValue = e;
f.autobind(s, "value", function(t) {
t && n();
});
f.on("input", n);
}
function e(t) {
t = r(t, "checkNull") ? "" : t;
t !== f.getValue() && a.call(f, t);
n();
}
function n() {
f.setHeight(0).setHeight(f.getScrollHeight());
}
var o = i(41), s = o.root.$("livechat").$("ui").$("theme_loaded$bool"), a = f.setValue;
t();
}();
for (var g in p) p.hasOwnProperty(g) && (f[g] = p[g]);
f.fire && f.fire("init");
f.setStyle && f.setStyle(l);
f.setAttributes && f.setAttributes(d);
"function" == typeof f.addChildren ? f.addChildren(u) : n.addChildren(f, u);
if (f !== this) {
f.__jx__constructor = _;
f.__jx__native = !1;
}
return f;
}
var _;
t.prototype = s(e.__$$__meshim_widget_widgets_TextArea.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__meshim_widget_widgets_TextArea;
t.__jx__jcss = {
"**self": {
overflowX: "hidden"
}
};
a(t, "meshim_widget_components_mobileChatWindow_chatPanel_AutoResizeTextArea");
_ = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(4), i(21), i(31), i(11), i(15), i(3));
}, function(t, e, i) {
(function(e, n, o, r, s) {
e.__$$__meshim_widget_widgets_Toast = i(138);
e.__$$__jx_ui_html_div = i(124);
e.__$$__meshim_widget_widgets_IconFont = i(98);
e.__$$__jx_ui_html_span = i(119);
t.exports = function() {
function t(r, s, _, l, u) {
if (!(this instanceof t)) return new t(r, s, _, l, u);
s = s || n.generateID();
var d = [ e.__$$__meshim_widget_widgets_Toast, "", "", [ [ e.__$$__jx_ui_html_div, "", "", [ [ e.__$$__meshim_widget_widgets_IconFont, "", "", [], {
icon: "arrow_down_long",
addClass: "arrow_down_long"
} ] ], {
addClass: "arrow_container"
} ], [ e.__$$__jx_ui_html_span, "message", "", [], {
id: "message"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:widgets": "meshim.widget.widgets",
display: "inline-block",
useDisplay: "true",
visible: "false"
} ], c = d[0].call(this, r, s, null, n.mangleIDs(s, d[3]), d[4]), h = c || this;
n.set(s, h);
var f = n.get(s + "__message");
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var p = function() {
function t() {
r = new u(h, c);
h.autobind(b, "value", e);
h.autobind(w, "value", e);
h.autobind(m, "value", function(t) {
if (t > 0) {
n();
f.setText(d.chat_panel[1 == t ? "new_message_below" : "new_messages_below"].replace("<number>", t));
} else o();
});
h.on("click", function() {
a.resetUnreadCount();
_.scrollToBottom();
});
}
function e(t) {
t && o();
}
function n() {
s = !0;
h.setVisible(!0);
r.animate({
endStyle: p,
duration: 300,
delay: 500
});
}
function o() {
if (s) {
s = !1;
r.animate({
endStyle: c,
duration: 100
}, function(t) {
t || h.setVisible(!1);
});
}
}
var r, s, a = i(87), _ = i(202), l = i(41), u = i(335), d = i(99), c = {
opacity: 0
}, p = {
opacity: 1
}, g = l.root.$("livechat").$("ui"), m = g.$("chat_button").$("unread_count$int"), $ = g.$("chat_window").$("chat_panel").$("scrollable"), b = $.$("scrolled_to_bottom$bool"), w = $.$("smooth_scroll_count$int");
t();
}();
for (var g in p) p.hasOwnProperty(g) && (h[g] = p[g]);
h.fire && h.fire("init");
h.setStyle && h.setStyle(_);
h.setAttributes && h.setAttributes(u);
"function" == typeof h.addChildren ? h.addChildren(l) : n.addChildren(h, l);
if (h !== this) {
h.__jx__constructor = a;
h.__jx__native = !1;
}
return h;
}
var a;
t.prototype = r(e.__$$__meshim_widget_widgets_Toast.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__meshim_widget_widgets_Toast;
t.__jx__jcss = {
"**self": {
fontWeight: "bold"
},
".arrow_container": {
display: "inline-block",
paddingRight: "4px",
verticalAlign: "bottom"
}
};
s(t, "meshim_widget_components_mobileChatWindow_chatPanel_NewMessagesToast");
a = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(4), i(21), i(31), i(15), i(3));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function i(t) {
var e;
if (t && !a) {
e = n();
r = e.getAttribute("content") || "";
e.setAttribute("content", _);
a = !0;
} else if (!t && a) {
e = n();
e.setAttribute("content", r);
a = !1;
}
}
function n() {
if (s) return s;
var t = document.head.querySelectorAll("meta[name=viewport]");
s = t[t.length - 1] || o();
return s;
}
function o() {
var t = document.createElement("meta");
t.setAttribute("name", "viewport");
document.head.appendChild(t);
return t;
}
var r, s, a, _ = "width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no";
i.resetState = function() {
s && s.parentNode.removeChild(s);
r = s = a = void 0;
};
t.exports = i;
e(i, "meshim_widget_components_mobileChatWindow_utils_disablePageZooming");
return i;
}();
}).call(e, i(3));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function i(t) {
var e, i, a;
if (document.body && document.body.style) {
n = document.body.style, t = !!t;
if (t && !o) {
for (e = 0, i = r.length; e < i; e++) {
a = r[e];
s[a] = n[a];
}
n.position = "fixed";
n.overflowY = "hidden";
n.webkitTextSizeAdjust = "100%";
n.width = "100%";
n.minHeight = "100%";
n.margin = "0px";
o = !0;
} else if (!t && o) {
for (e = 0, i = r.length; e < i; e++) {
a = r[e];
n[a] = s[a];
}
o = !1;
}
}
}
var n, o, r = [ "position", "overflowY", "webkitTextSizeAdjust", "width", "minHeight", "margin" ], s = {};
i.resetState = function() {
o = void 0;
s = {};
};
t.exports = i;
e(i, "meshim_widget_components_mobileChatWindow_utils_disablePageScrolling");
return i;
}();
}).call(e, i(3));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n() {
var t = d.getDocumentScrollElement();
_ = t.scrollTop;
l = t.scrollLeft;
}
function o() {
if ("undefined" != typeof _) {
var t = d.getDocumentScrollElement();
t.scrollTop = _;
t.scrollLeft = l;
}
}
function r() {
if (a) return a;
a = document.scrollingElement ? document.scrollingElement : !u.isWebKit && u.isStrict ? document.documentElement : document.body || document.documentElement;
return a;
}
function s() {
_ = l = a = void 0;
}
var a, _, l, u = i(7), d = {
store: n,
restore: o,
resetState: s,
getDocumentScrollElement: r
};
t.exports = d;
e(d, "meshim_widget_components_mobileChatWindow_utils_storePageScrolling");
return d;
}();
}).call(e, i(3));
}, function(t, e, i) {
(function(e, n, o, r, s) {
e.__$$__jx_ui_FullFrame = i(86);
e.__$$__meshim_widget_components_mobileChatWindow_MainScreen = i(344);
e.__$$__meshim_widget_widgets_fontLoader_ZopimFont = i(299);
t.exports = function() {
function t(r, s, _, l, u) {
if (!(this instanceof t)) return new t(r, s, _, l, u);
s = s || n.generateID();
var d = [ e.__$$__jx_ui_FullFrame, "", "", [ [ e.__$$__meshim_widget_components_mobileChatWindow_MainScreen, "", "", [], {} ], [ e.__$$__meshim_widget_widgets_fontLoader_ZopimFont, "", "", [], {} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:widgets": "meshim.widget.widgets",
"xmlns:mobileWindow": "meshim.widget.components.mobileChatWindow"
} ], c = d[0].call(this, r, s, null, n.mangleIDs(s, d[3]), d[4]), h = c || this;
n.set(s, h);
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var f = function() {
function t() {
n(h);
e.init();
}
var e = i(202), n = i(301);
t();
}();
for (var p in f) f.hasOwnProperty(p) && (h[p] = f[p]);
h.fire && h.fire("init");
h.setStyle && h.setStyle(_);
h.setAttributes && h.setAttributes(u);
"function" == typeof h.addChildren ? h.addChildren(l) : n.addChildren(h, l);
if (h !== this) {
h.__jx__constructor = a;
h.__jx__native = !1;
}
return h;
}
var a;
t.prototype = r(e.__$$__jx_ui_FullFrame.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_FullFrame;
t.__jx__jcss = {};
s(t, "meshim_widget_components_PopoutMobileChatWindow");
a = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(4), i(21), i(31), i(15), i(3));
}, function(t, e, i) {
(function(e, n, o, r, s) {
e.__$$__jx_ui_FloatingFrame = i(84);
e.__$$__jx_ui_FullFrame = i(86);
e.__$$__meshim_widget_components_mobileChatNotification_NotificationCard = i(355);
e.__$$__meshim_widget_widgets_fontLoader_ZopimFont = i(299);
t.exports = function() {
function t(r, s, _, l, u) {
if (!(this instanceof t)) return new t(r, s, _, l, u);
s = s || n.generateID();
var d = [ e.__$$__jx_ui_FloatingFrame, "", "", [ [ e.__$$__jx_ui_FullFrame, "notification_card_container", "", [ [ e.__$$__meshim_widget_components_mobileChatNotification_NotificationCard, "notification_card", "", [], {
id: "notification_card",
addClass: "notification_card"
} ] ], {
id: "notification_card_container",
addClass: "notification_card_container",
overflow: "hidden"
} ], [ e.__$$__meshim_widget_widgets_fontLoader_ZopimFont, "", "", [], {} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:widgets": "meshim.widget.widgets",
"xmlns:mobileChatNotification": "meshim.widget.components.mobileChatNotification",
position: "fixed",
bottom: "0",
left: "0",
right: "0",
width: "100%",
height: "132px",
minWidth: "220px",
maxWidth: "350px",
marginLeft: "auto",
marginRight: "auto",
zIndex: "16000004",
useDisplay: "true",
visible: "false",
addClass: "zopim"
} ], c = d[0].call(this, r, s, null, n.mangleIDs(s, d[3]), d[4]), h = c || this;
n.set(s, h);
var f = n.get(s + "__notification_card_container"), p = n.get(s + "__notification_card");
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var g = function() {
function t() {
h.defaultPlacement.addClass(h.__jx__fqname);
h.defaultPlacement.addClass("meshim_widget_Widget");
h.setCSSStyle("willChange", "transform");
g(h.ibody);
a = new d(h, x);
h.autobind(I, "value", n);
h.moveDown = r;
h.moveUp = o;
l.registerChatNotification(h);
}
function e() {
var t = window.innerWidth;
if (!(t < w)) {
var e = parseFloat(T.getValue()), i = e * c.MOBILE_ZOOM_ADDITIONAL;
b / i > t && (i = (b + 4) / t);
h.setStyle({
maxWidth: b / i + "px",
height: $ / i + "px"
});
f.setStyle({
transform: "scale(" + 1 / i + ")",
"-webkit-transform": "scale(" + 1 / i + ")",
transformOrigin: "top left",
"-webkit-transform-origin": "top left",
width: b + "px",
height: $ + "px"
});
}
}
function n(t) {
if (t && !(parseFloat(T.getValue()) > 1)) {
var i = A.getValue();
if (!(i > t || void 0 === i) && (t < k.getValue() || !k.getValue())) {
var n = N.getValue(), o = C.$("log").$(n), r = o.getValue(), s = r.nick$string, a = j.$("agents").$(s);
null === a.getValue() && (a = j.$("settings").$("concierge"));
e();
p.setAgentDataNode(a);
p.setLogDataNode(o);
u.showMobileNotification();
}
}
}
function o(t) {
h.setVisible(!0);
s = clearTimeout(s);
a.animate({
endStyle: v,
duration: 200
}, function(e) {
if (!e) {
B.write({
shown$bool: !0
});
s = setTimeout(u.hideMobileNotification, m);
}
t && t(e);
});
}
function r(t) {
s = clearTimeout(s);
a.animate({
endStyle: x,
duration: 200
}, function(e) {
e || h.setVisible(!1);
t && t(e);
});
}
var s, a, _ = i(41), l = i(58), u = i(113), d = i(335), c = i(56), g = i(301), m = 7200, $ = 132, b = 350, w = 980, x = {
opacity: 0,
translateY: "100%"
}, v = {
opacity: 1,
translateY: "0%"
}, y = _.root, j = y.$("livechat"), C = j.$("channel"), S = j.$("ui"), A = y.$("connection").$("reattached_timestamp$int"), k = C.$("first_visitor_msg_ts$int"), I = C.$("first_account_msg_ts$int"), N = C.$("first_account_msg_id$string"), B = S.$("chat_notification"), T = S.$("chat_button").$("mobile").$("calculated_styles").$("zoom$string");
t();
}();
for (var m in g) g.hasOwnProperty(m) && (h[m] = g[m]);
h.fire && h.fire("init");
h.setStyle && h.setStyle(_);
h.setAttributes && h.setAttributes(u);
"function" == typeof h.addChildren ? h.addChildren(l) : n.addChildren(h, l);
if (h !== this) {
h.__jx__constructor = a;
h.__jx__native = !1;
}
return h;
}
var a;
t.prototype = r(e.__$$__jx_ui_FloatingFrame.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_FloatingFrame;
t.__jx__jcss = {
".notification_card": {
position: "relative",
height: "122px",
width: "100%"
},
".notification_card_container": {
paddingLeft: "5px",
paddingRight: "5px"
}
};
s(t, "meshim_widget_components_MobileChatNotification");
a = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(4), i(21), i(31), i(15), i(3));
}, function(t, e, i) {
(function(e, n, o, r, s, a) {
e.__$$__jx_ui_Widget = i(18);
e.__$$__meshim_widget_widgets_Gravatar = i(149);
e.__$$__meshim_widget_widgets_Controls = i(263);
e.__$$__meshim_widget_widgets_Button = i(162);
t.exports = function() {
function t(s, a, l, u, d) {
if (!(this instanceof t)) return new t(s, a, l, u, d);
a = a || n.generateID();
var c = o(111), h = o(112), f = [ e.__$$__jx_ui_Widget, "", "", [ [ e.__$$__jx_ui_Widget, "", "", [], {
addClass: "paper"
} ], [ e.__$$__jx_ui_Widget, "", "", [ [ e.__$$__meshim_widget_widgets_Gravatar, "gravatar", "", [], {
id: "gravatar",
addClass: "rounded_avatar"
} ], [ e.__$$__jx_ui_Widget, "", "", [], {
addClass: "agent_profile_spacer"
} ], [ e.__$$__jx_ui_Widget, "agent_name", "", [], {
id: "agent_name",
addClass: "agent_name"
} ] ], {
addClass: "agent_profile"
} ], [ e.__$$__jx_ui_Widget, "chat_msg", "", [], {
id: "chat_msg",
addClass: "text_container"
} ], [ e.__$$__meshim_widget_widgets_Controls, "", "", [ [ e.__$$__meshim_widget_widgets_Button, "reply_btn", "", [ c ], {
placement: "primary",
id: "reply_btn",
addClass: "wide"
} ], [ e.__$$__meshim_widget_widgets_Button, "dismiss_btn", "", [ h ], {
placement: "secondary",
id: "dismiss_btn",
addClass: "wide secondary"
} ] ], {
addClass: "controls_container"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:widgets": "meshim.widget.widgets",
"xmlns:mobileChatNotification": "meshim.widget.components.mobileChatNotification"
} ], p = f[0].call(this, s, a, null, n.mangleIDs(a, f[3]), f[4]), g = p || this;
n.set(a, g);
var m = n.get(a + "__gravatar"), $ = n.get(a + "__agent_name"), b = n.get(a + "__chat_msg"), w = n.get(a + "__reply_btn"), x = n.get(a + "__dismiss_btn");
if (!t.__jx__jcss_generated) {
r.generate(s, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var v = function() {
function t() {
x.on("click", function() {
_.userDismissMobileNotification();
l.write({
dismiss_clicked$bool: !0
});
});
w.on("click", function() {
_.userReplyMobileNotification();
l.write({
reply_clicked$bool: !0
});
});
}
function e(t) {
m.setMemberNode(t);
}
function n(t) {
r && g.autounbind(r, "value", o);
r = t;
r && g.autobind(r, "value", o);
}
function o(t) {
if (t) {
"attachment" in t ? b.setText(s.chat_notification.attachment) : "msg$string" in t && b.setText(t.msg$string);
"display_name$string" in t && $.setText(t.display_name$string);
}
}
var r, s = i(99), a = i(41), _ = i(113), l = a.root.$("livechat").$("ui").$("chat_notification");
g.setAgentDataNode = e;
g.setLogDataNode = n;
t();
}();
for (var y in v) v.hasOwnProperty(y) && (g[y] = v[y]);
g.fire && g.fire("init");
g.setStyle && g.setStyle(l);
g.setAttributes && g.setAttributes(d);
"function" == typeof g.addChildren ? g.addChildren(u) : n.addChildren(g, u);
if (g !== this) {
g.__jx__constructor = _;
g.__jx__native = !1;
}
return g;
}
var _;
t.prototype = s(e.__$$__jx_ui_Widget.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_Widget;
t.__jx__jcss = {
".paper": {
position: "absolute",
top: "14px",
"bottom, left, right": 0,
backgroundColor: "white",
opacity: "0.9",
zIndex: "-1",
boxShadow: "0 0 2px rgba(0, 0, 0, 0.5);",
borderRadius: "5px",
margin: "0 2px 2px"
},
".agent_profile": {
width: "100%",
display: [ "flex", "-webkit-flex" ],
"alignItems, -webkit-align-items": "flex-end",
position: "relative",
padding: "0 14px"
},
".rounded_avatar": {
"flexShrink, -webkit-flex-shrink": "0",
borderRadius: "50%",
"width, height": "40px",
border: "1px solid #ddd"
},
".agent_profile_spacer": {
"flexShrink, -webkit-flex-shrink": "0",
width: "8px"
},
".agent_name": {
"flexGrow, -webkit-flex-grow": "1",
position: "relative",
bottom: "4px",
color: "$$profileCardNameColor",
fontWeight: "bold",
overflow: "hidden",
textOverflow: "ellipsis",
whiteSpace: "nowrap"
},
".controls_container": {
position: "absolute",
"bottom, left, right": 0,
padding: "10px"
},
".text_container": {
width: "100%",
padding: "10px",
paddingTop: "6px",
overflow: "hidden",
textOverflow: "ellipsis",
whiteSpace: "nowrap"
}
};
a(t, "meshim_widget_components_mobileChatNotification_NotificationCard");
_ = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(4), i(21), i(23), i(31), i(15), i(3));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n() {
s = u.root.$("livechat");
a = s.$("agents");
_ = s.$("triggers").$("agents");
l = s.$("ui").$("chat_window").$("typing_info");
a.on("value", o);
_.on("value", o);
}
function o() {
var t, e = a.getValue(), i = _.getValue(), n = [];
if (e) for (t in e) e.hasOwnProperty(t) && e[t].typing$bool && n.push(e[t].display_name$string);
if (i) for (t in i) i.hasOwnProperty(t) && i[t].typing$bool && n.push(t);
l.update({
agent_typing$bool: n.length > 0,
agent_names$string: n.join(d),
num_typing_agents$int: n.length
});
}
function r() {
_.un("value", o);
a.un("value", o);
s = a = _ = l = void 0;
}
var s, a, _, l, u = i(41), d = ", ", c = {
SEPARATOR: d,
init: n,
resetState: r
};
t.exports = c;
e(c, "meshim_widget_controllers_AgentTypingController");
return c;
}();
}).call(e, i(3));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n() {
a = u.root.$("livechat");
_ = a.$("agents");
l = a.$("ui").$("cache_agents");
_.bindValue(r);
}
function o() {
_.unbindValue(r);
a = _ = l = null;
}
function r(t) {
t && l.update(s(t));
}
function s(t) {
var e, i, n = {};
if (!t) return {};
for (e in t) if (t.hasOwnProperty(e)) {
i = t[e];
if (null === i) continue;
n[e] = "object" == typeof i ? s(i) : i;
}
return n;
}
var a, _, l, u = i(41), d = {
init: n,
reset: o
};
t.exports = d;
e(d, "meshim_widget_controllers_AgentDataController");
return d;
}();
}).call(e, i(3));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n() {
V = tt.root;
if (!V.$("livechat").$("ui").$("mockup$bool").getValue()) {
var t = this;
it.init(t);
nt.init(t);
ot.init(t);
rt.init(t);
st.init(t);
at.init(t);
_t.init(t);
lt.init(t);
ut.init(t);
dt.init(t);
ct.init(t);
ht.init(t);
E();
V.$("livechat").$("ui").$("popout$bool").getValue() && P();
}
}
function o() {
it.instrument("livechat.getName");
return V.$("livechat").$("profile").$("display_name$string").getValue() || "";
}
function r() {
it.instrument("livechat.getEmail");
return V.$("livechat").$("profile").$("email$string").getValue() || "";
}
function s() {
it.instrument("livechat.getPhone");
return V.$("livechat").$("profile").$("phone$string").getValue() || "";
}
function a() {
it.instrument("livechat.isChatting");
return V.$("livechat").$("channel").$("chatting$bool").getValue() || !1;
}
function _(t) {
if ("object" == typeof t) {
var e, i, n = this;
for (i in t) if (t.hasOwnProperty(i)) {
e = "set" + F(i);
q(n[e]) && n[e](t[i]);
}
it.instrument("livechat.set");
return n;
}
}
function l(t) {
function e() {
z.isAuthenticated() ? window.console && window.console.log(it.getPrefix() + ": setName API ignored for authenticated visitors.") : tt.livechat.updateProfile({
name: t
});
}
t = t && t.toString();
if (V.$("livechat").$("profile").$("display_name$string").getValue() !== t) {
it.callOnFastInit(e);
it.callOnReattached(e);
it.instrument("livechat.setName");
}
}
function u(t) {
function e() {
z.isAuthenticated() ? window.console && window.console.log(it.getPrefix() + ": setEmail API ignored for authenticated visitors.") : tt.livechat.updateProfile({
email: t
});
}
t = t && t.toString().trim();
if (V.$("livechat").$("profile").$("email$string").getValue() !== t) if (J.email.test(t)) {
it.callOnFastInit(e);
it.callOnReattached(e);
it.instrument("livechat.setEmail");
} else window.console && window.console.log(it.getPrefix() + ": setEmail(): the email provided is not valid: [" + t + "]");
}
function d(t) {
function e() {
tt.livechat.updateProfile({
phone: t
});
}
t = t && t.toString();
if (V.$("livechat").$("profile").$("phone$string").getValue() !== t) {
it.callOnFastInit(e);
it.callOnReattached(e);
it.instrument("livechat.setPhone");
}
}
function c() {
function t() {
V.$("livechat").$("channel").$("tags").write({
added$string: n.join(",")
});
}
if (arguments.length) {
for (var e, i = arguments, n = [], o = 0, r = i.length; o < r; o++) {
e = (i[o] + "").trim();
e && n.push(e);
}
it.callOnFastInit(t);
it.callOnReattached(t);
it.instrument("livechat.addTags");
}
}
function h(t) {
function e() {
V.$("livechat").$("session").$("page_path").write({
url$string: i,
title$string: n
});
}
var i, n;
if ("object" == typeof t && t && (i = M(t.url))) n = t.title || $t.title || ""; else {
if (!U(t)) {
window.console && window.console.log(it.getPrefix() + ": sendVisitorPath(): the parameters provided are not valid. Please refer to the API documentation.");
return;
}
i = bt + "";
n = $t.title || "";
}
it.callOnReattached(e);
it.instrument("livechat.sendVisitorPath");
}
function f() {
function t() {
V.$("livechat").$("channel").$("tags").write({
removed$string: n.join(",")
});
}
if (arguments.length) {
for (var e, i = arguments, n = [], o = 0, r = i.length; o < r; o++) {
e = (i[o] + "").trim();
e && n.push(e);
}
it.callOnFastInit(t);
it.callOnReattached(t);
it.instrument("livechat.removeTags");
} else window.console && window.console.log(it.getPrefix() + ": removeTags(): Please provide at least one tag");
}
function p(t) {
function e() {
V.$("livechat").$("profile").$("notification").update({
sound$bool: !t
});
}
if ("boolean" == typeof t) {
it.callOnFastInit(e);
it.callOnRegistered(e);
it.instrument("livechat.setDisableSound");
} else window.console && window.console.log(it.getPrefix() + ": setDisableSound() expects passed argument to be true/false");
}
function g(t) {
function e() {
it.saveAPISettings({
settings: {
language: {
language$string: t
}
}
});
V.$("livechat").$("settings").$("language").update({
language$string: t
});
}
if (G(t) && t) {
it.callOnFastInit(e);
it.callOnRegistered(e);
it.instrument("livechat.setLanguage");
} else window.console && window.console.log(it.getPrefix() + ": setLanguage() expects passed argument to be a non-empty string");
}
function m(t) {
function e(t) {
if (o[t] && G(o[t])) {
var e = {};
e[t + "$string"] = o[t];
it.saveAPISettings({
settings: {
greetings: e
}
});
V.$("livechat").$("settings").$("greetings").update(e);
} else window.console && window.console.log(it.getPrefix() + ': setGreetings() expects a non-empty string to be provided for "' + t + '"');
}
function i(t) {
var e = {};
e[t + "$string"] = null;
it.resetAPISettings({
settings: {
greetings: e
}
});
var i = it.getServerSettings("settings.greetings." + t + "$string");
if (i) {
e[t + "$string"] = i;
V.$("livechat").$("settings").$("greetings").update(e);
}
}
function n(t, e) {
if (e in t) return Y(t[e]) ? t[e][0] : t[e];
}
if (t && "object" == typeof t) {
var o = {
online: n(t, "online"),
offline: n(t, "offline")
}, r = function() {
(null === o.online ? i : e)("online");
(null === o.offline ? i : e)("offline");
};
it.callOnFastInit(r, !0);
it.callOnReattached(r, !0);
it.instrument("livechat.setGreetings");
}
}
function $() {
function t() {
tt.livechat.clearAll();
tt.livechat.reconnect();
}
it.callOnRegistered(t);
it.instrument("livechat.clearAll");
}
function b() {
function t() {
et.hideAll();
}
var e = Q.once(t);
it.callOnFastInit(e);
it.callOnRegistered(e);
it.instrument("livechat.hideAll");
}
function w(t) {
if (t && "string" == typeof t) {
it.callOnReattached(function() {
var e = V.$("livechat").$("profile").$("department_id$int").getValue(), i = {
msg: t
};
e && (i.department = e);
tt.livechat.sendChatMsg(i);
mt.window.show();
});
it.instrument("livechat.say");
} else window.console && window.console.log(it.getPrefix() + ": say() expects a non-empty string to be provided as an argument");
}
function x(t) {
if (q(t)) {
it.callOnReattached(it.getCallbackCaller(t), !0);
it.instrument("livechat.setOnConnected");
} else window.console && window.console.log(it.getPrefix() + ": setOnConnected() expects a callback function to be provided");
}
function v(t) {
var e = xt.last_chatting_state, i = X(t);
if (i !== xt.last_chatting_state) {
xt.last_chatting_state = i;
i ? xt.start_ready && xt.fire("chat_start") : e && xt.fire("chat_end");
}
}
function y() {
if (!xt.listening) {
xt.listening = !0;
V.$("livechat").$("channel").$("chatting$bool").bindValue(v);
}
}
function j(t) {
if (q(t)) {
xt.on("chat_start", it.getCallbackCaller(t));
y();
it.instrument("livechat.setOnChatStart");
if (!xt.start_settled) {
xt.start_settled = !0;
it.callOnReattached(function() {
xt.last_chatting_state = X(V.$("livechat").$("channel").$("chatting$bool").getValue());
xt.start_ready = !0;
});
}
} else window.console && window.console.log(it.getPrefix() + ": setOnChatStart() expects a callback function to be provided");
}
function C(t) {
if (q(t)) {
xt.on("chat_end", it.getCallbackCaller(t));
y();
it.instrument("livechat.setOnChatEnd");
} else window.console && window.console.log(it.getPrefix() + ": setOnChatEnd() expects a callback function to be provided");
}
function S(t) {
q(t) ? it.callOnRegistered(it.getCallbackCaller(t), !0) : window.console && window.console.log(it.getPrefix() + ": setOnFlashReady() expects a callback function to be provided");
}
function A(t) {
function e() {
i(n.getValue());
}
if (q(t)) {
var i = it.getCallbackCaller(t), n = V.$("livechat").$("account").$("status$string"), o = V.$("livechat").$("departments"), r = H.debounce(e);
n.bindValue(r);
o.bindValue(r);
it.instrument("livechat.setOnStatus");
} else window.console && window.console.log(it.getPrefix() + ": setOnStatus() expects a callback function to be provided");
}
function k(t) {
if (q(t)) {
var e;
t = it.getCallbackCaller(t);
V.$("livechat").$("ui").$("chat_button").$("unread_count$int").bindValue(function(i) {
if (K(i) && e != i) {
e = i;
it.callNow(t, e);
}
});
it.instrument("livechat.setOnUnreadMsgs");
} else window.console && window.console.log(it.getPrefix() + ": setOnUnreadMsgs() expects a callback function to be provided");
}
function I() {
tt.livechat.endChat();
it.instrument("livechat.endChat");
}
function N(t) {
function e() {
if (G(t) && t) {
t = t.toLowerCase();
if ("online" === t || "offline" === t) {
it.saveAPISettings({
account: {
status$string: t
}
});
V.$("livechat").$("account").update({
status$string: t
});
} else window.console && window.console.log(it.getPrefix() + ': setStatus() only accepts "online" or "offline" as a valid status');
} else window.console && window.console.log(it.getPrefix() + ": setStatus() expects passed argument to be a non-empty string");
}
function i() {
it.resetAPISettings({
account: {
status$string: null
}
});
var t = it.getServerSettings("account.status$string");
t && V.$("livechat").$("account").update({
status$string: t
});
}
var n = null === t ? i : e;
it.savePopoutAPICalls("setStatus", [ t ]);
it.callOnFastInit(n);
it.callOnReattached(n);
it.instrument("livechat.setStatus");
}
function B(t) {
function e() {
V.$("livechat").$("profile").write({
notes$string: t
});
}
if (G(t)) {
it.callOnFastInit(e);
it.callOnReattached(e);
it.instrument("livechat.setNotes");
} else window.console && window.console.log(it.getPrefix() + ": setNotes() expects passed argument to be a string");
}
function T(t) {
function e() {
V.$("livechat").$("profile").write({
notes_append$string: t
});
}
if (G(t)) {
it.callOnReattached(e);
it.instrument("livechat.appendNotes");
} else window.console && window.console.log(it.getPrefix() + ": appendNotes() expects passed argument to be a string");
}
function D(t) {
if ("object" == typeof t && q(t.jwtFn)) {
it.instrument("livechat.authenticate");
var e = V.$("connection").$("status$string").getValue();
e ? window.console && window.console.log(it.getPrefix() + ": visitor authentication must be initiated immediately after embedding script") : z.setSiteJWTFunc(t.jwtFn);
} else window.console && window.console.log(it.getPrefix() + ": authenticate(): the parameters provided are not valid. Please refer to the API documentation.");
}
function E() {
var t = window.$zopim;
window.$zopim = it.callNow;
window.$zopim.livechat = mt;
it.handleDelayed(t && t._);
}
function O() {
var t = window.$zopim, e = t && t.onError;
if ("function" == typeof e) {
e = it.getCallbackCaller(e);
it.callNow(e);
}
}
function P() {
wt = {
"departments.filter": _t.filter,
"departments.setLabel": _t.setLabel,
"prechatForm.setGreetings": ct.setGreetings,
"offlineForm.setGreetings": ht.setGreetings,
"theme.setColors": lt.setColors,
"theme.reload": lt.reload,
"theme.setTheme": lt.setTheme,
"theme.setProfileCardConfig": lt.setProfileCardConfig,
"concierge.setName": st.setName,
"concierge.setTitle": st.setTitle,
"concierge.setAvatar": st.setAvatar,
"window.setTitle": ut.setTitle,
setStatus: mt.setStatus
};
for (var t = it.parseAPIFromQuery(), e = this, i = 0, n = t.length; i < n; i++) {
var o = t[i][0], r = t[i][1];
o in wt && wt[o].apply(e, r);
}
}
function L(t) {
return function() {
window.console && window.console.log(it.getPrefix() + ': LiveChatAPI call "' + t + '" is obsolete. Refer to http://api.zopim.com/ for the latest API documentation.');
};
}
function W(t, e, i) {
return function() {
window.console && window.console.log(it.getPrefix() + ': LiveChatAPI call "' + t + '" is deprecated and may be removed in the future. ' + (e ? 'Use "' + e + '" instead.' : "Refer to http://api.zopim.com/ for the latest API documentation."));
return i.apply(this, arguments);
};
}
function R(t, e, i) {
return function() {
var t = Array.prototype.slice.call(arguments, 0);
return i.apply(this, t);
};
}
function F(t) {
t += "";
return t.charAt(0).toUpperCase() + t.substring(1);
}
function M(t) {
if ("string" != typeof t) return "";
var e, i = J.search.hurl;
i.lastIndex = 0;
e = i.exec(t);
i.lastIndex = 0;
return e ? e[0].trim() : "";
}
var V, H = i(59), z = i(52), q = i(10), U = i(11), G = i(20), Y = i(22), X = i(17), K = i(24), Z = i(6), Q = i(53), J = i(45), tt = i(41), et = i(113), it = i(111), nt = i(359), ot = i(360), rt = i(361), st = i(363), at = i(364), _t = i(365), lt = i(362), ut = i(366), dt = i(367), ct = i(368), ht = i(369), ft = i(370), pt = {
interval: 500,
limit: 10
}, gt = it.rateLimit(N, "setStatus", pt), mt = {
badge: nt,
bubble: ot,
button: rt,
concierge: st,
cookieLaw: at,
departments: _t,
theme: lt,
window: ut,
debug: dt,
prechatForm: ct,
offlineForm: ht,
mobileNotifications: ft,
generateDeprecatedFunction: W,
generateLimitedFunction: R,
authenticate: D,
init: n,
handleInitError: O,
isChatting: a,
set: _,
getName: o,
getEmail: r,
getPhone: s,
setName: l,
setEmail: u,
setPhone: d,
addTags: c,
sendVisitorPath: h,
removeTags: f,
setDisableSound: p,
setLanguage: g,
setGreetings: m,
clearAll: $,
hideAll: b,
say: w,
setOnConnected: x,
setOnChatStart: j,
setOnChatEnd: C,
setOnFlashReady: S,
setOnStatus: A,
setOnUnreadMsgs: k,
endChat: I,
setStatus: gt,
setNotes: B,
appendNotes: T
}, $t = document, bt = window.location, wt = {}, xt = {
listening: !1,
last_chatting_state: null,
start_settled: !1,
start_ready: !1
};
Z.extend(xt);
var vt = {
global: "fire freeze setOnGreeting".split(" "),
bubble: "setImage".split(" "),
button: "setImage setTheme useFavicon".split(" "),
window: "getSettings setBg".split(" "),
cookieLaw: "showPrivacyPanel".split(" "),
unreadflag: "disable enable".split(" ")
};
for (var yt in vt) if (vt.hasOwnProperty(yt)) {
var jt, Ct = vt[yt];
if ("global" == yt) jt = mt; else {
mt[yt] || (mt[yt] = {});
jt = mt[yt];
}
for (var St = 0; St < Ct.length; St++) {
var At = Ct[St];
jt[At] = L(At);
}
}
t.exports = mt;
e(mt, "meshim_widget_controllers_LiveChatAPI");
return mt;
}();
}).call(e, i(3));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t) {
function e() {
u.saveAPISettings({
settings: {
banner: t
}
});
r.$("livechat").$("settings").$("banner").update(t);
}
u.callOnFastInit(e, !0);
u.callOnRegistered(e, !0);
}
var o, r, s = i(8), a = i(20), _ = i(41), l = i(113), u = i(111), d = {};
d.init = function(t) {
function e(t) {
function e() {
t = t || "";
a(t) ? n({
text$string: t
}) : window.console && window.console.log(u.getPrefix() + ": badge.setText() expects passed argument to be a string");
}
u.callOnFastInit(e, !0);
u.callOnRegistered(e, !0);
u.instrument("badge.setText");
}
function i() {
function t() {
l.showBanner();
}
u.callOnFastInit(t);
u.callOnRegistered(t);
u.instrument("badge.show");
}
function c() {
function t() {
l.hideBanner();
}
u.callOnFastInit(t);
u.callOnRegistered(t);
u.instrument("badge.hide");
}
o = t;
r = _.root;
d.setLayout = function() {
var t = [ "image_right", "image_left", "text_only", "image_only" ], e = t.join(", ");
return o.generateLimitedFunction("badge.setLayout", 1, function(i) {
function o() {
i && s(i, t) != -1 ? n({
layout$string: i
}) : window.console && window.console.log("Invalid layout. Valid layouts: " + e);
}
u.callOnFastInit(o, !0);
u.callOnRegistered(o, !0);
u.instrument("badge.setLayout");
});
}();
d.setImage = o.generateLimitedFunction("badge.setImage", 1, function(t) {
function e() {
t = t || "";
a(t) ? n({
image_path$string: t
}) : window.console && window.console.log(u.getPrefix() + ": badge.setImage() expects passed argument to be a string");
}
u.callOnFastInit(e, !0);
u.callOnRegistered(e, !0);
u.instrument("badge.setImage");
});
d.setColor = o.generateLimitedFunction("badge.setColor", 1, function(t) {
u.instrument("badge.setColor");
return o.theme.setColor(t, "badge");
});
d.setText = e;
d.show = i;
d.hide = o.generateLimitedFunction("badge.hide", 1, c);
};
t.exports = d;
e(d, "meshim_widget_controllers_liveChatAPI_Badge");
return d;
}();
}).call(e, i(3));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n() {
function t() {
c.showBubble();
}
h.callOnFastInit(t);
h.callOnRegistered(t);
h.instrument("bubble.show");
}
function o() {
function t() {
c.hideBubble();
}
h.callOnFastInit(t);
h.callOnRegistered(t);
h.instrument("bubble.hide");
}
function r() {
function t() {
c.resetBubble();
}
h.callOnFastInit(t);
h.callOnRegistered(t);
h.instrument("bubble.reset");
}
function s(t) {
function e() {
h.saveAPISettings({
settings: {
bubble: {
title$string: t
}
}
});
l.$("livechat").$("settings").$("bubble").update({
title$string: t
});
}
if (t && u(t)) {
h.callOnFastInit(e, !0);
h.callOnRegistered(e, !0);
h.instrument("bubble.setTitle");
} else window.console && window.console.log(h.getPrefix() + ": bubble.setTitle() expects passed argument to be a non-empty string");
}
function a(t) {
function e() {
h.saveAPISettings({
settings: {
bubble: {
text$string: t
}
}
});
l.$("livechat").$("settings").$("bubble").update({
text$string: t
});
}
if (t && u(t)) {
h.callOnFastInit(e, !0);
h.callOnRegistered(e, !0);
h.instrument("bubble.setText");
} else window.console && window.console.log(h.getPrefix() + ": bubble.setText() expects passed argument to be a non-empty string");
}
var _, l, u = i(20), d = i(41), c = i(113), h = i(111), f = {};
f.init = function(t) {
_ = t;
l = d.root;
f.setColor = _.generateLimitedFunction("bubble.setColor", 1, function(t) {
h.instrument("bubble.setColor");
return _.theme.setColor(t, "bubble");
});
};
f.show = n;
f.hide = o;
f.reset = r;
f.setTitle = s;
f.setText = a;
t.exports = f;
e(f, "meshim_widget_controllers_liveChatAPI_Bubble");
return f;
}();
}).call(e, i(3));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n() {
function t() {
$.hideButton();
}
var e = g.once(t);
w.callOnFastInit(e);
w.callOnRegistered(e);
w.instrument("button.hide");
}
function o() {
function t() {
$.showButton();
}
var e = g.once(t);
w.callOnFastInit(e);
w.callOnRegistered(e);
w.instrument("button.show");
}
function r(t) {
function e() {
w.saveAPISettings({
settings: {
theme: {
chat_button: {
v_offset$int: t
}
}
}
});
c.$("livechat").$("settings").$("theme").$("chat_button").update({
v_offset$int: t
});
}
t = parseInt(t, 10);
if (isNaN(t) || t < 0) window.console && window.console.log(w.getPrefix() + ': button.setOffsetVertical() Invalid argument. Argument must be a number (20) or in pixels ("20px") and not smaller than 0'); else {
w.callOnFastInit(e, !0);
w.callOnRegistered(e, !0);
w.instrument("button.setOffsetVertical");
}
}
function s(t) {
function e() {
w.saveAPISettings({
settings: {
theme: {
chat_button: {
v_offset_mobile$int: t
}
}
}
});
c.$("livechat").$("settings").$("theme").$("chat_button").update({
v_offset_mobile$int: t
});
}
t = parseInt(t, 10);
if (isNaN(t) || t < 0) window.console && window.console.log(w.getPrefix() + ': button.setOffsetVerticalMobile() Invalid argument. Argument must be a number (20) or in pixels ("20px") and not smaller than 0'); else {
w.callOnFastInit(e, !0);
w.callOnRegistered(e, !0);
w.instrument("button.setOffsetVerticalMobile");
}
}
function a(t) {
function e() {
w.saveAPISettings({
settings: {
theme: {
chat_button: {
h_offset$int: t
}
}
}
});
c.$("livechat").$("settings").$("theme").$("chat_button").update({
h_offset$int: t
});
}
t = parseInt(t, 10);
if (isNaN(t) || t < 0) window.console && window.console.log(w.getPrefix() + ': button.setOffsetHorizontal() Invalid argument. Argument must be a number (20) or in pixels ("20px") and not smaller than 0'); else {
w.callOnFastInit(e, !0);
w.callOnRegistered(e, !0);
w.instrument("button.setOffsetHorizontal");
}
}
function _(t) {
function e() {
w.saveAPISettings({
settings: {
theme: {
chat_button: {
h_offset_mobile$int: t
}
}
}
});
c.$("livechat").$("settings").$("theme").$("chat_button").update({
h_offset_mobile$int: t
});
}
t = parseInt(t, 10);
if (isNaN(t) || t < 0) window.console && window.console.log(w.getPrefix() + ': button.setOffsetHorizontalMobile() Invalid argument. Argument must be a number (20) or in pixels ("20px") and not smaller than 0'); else {
w.callOnFastInit(e, !0);
w.callOnRegistered(e, !0);
w.instrument("button.setOffsetHorizontalMobile");
}
}
function l(t) {
function e() {
w.saveAPISettings({
settings: {
theme: {
chat_button: {
position$string: t
}
}
}
});
c.$("livechat").$("settings").$("theme").$("chat_button").update({
position$string: t
});
}
if (!h) if (p(t)) {
w.callOnFastInit(e, !0);
w.callOnRegistered(e, !0);
w.instrument("button.setPosition");
} else window.console && window.console.log(w.getPrefix() + ": button.setPosition() expects passed argument to be a string");
}
function u(t) {
function e() {
w.saveAPISettings({
settings: {
theme: {
chat_button: {
position_mobile$string: t
}
}
}
});
c.$("livechat").$("settings").$("theme").$("chat_button").update({
position_mobile$string: t
});
}
if (p(t)) {
w.callOnFastInit(e, !0);
w.callOnRegistered(e, !0);
w.instrument("button.setPositionMobile");
} else window.console && window.console.log(w.getPrefix() + ": button.setPositionMobile() expects passed argument to be a string");
}
var d, c, h, f = i(17), p = i(20), g = i(53), m = i(41), $ = i(113), b = i(362), w = i(111), x = {};
x.init = function(t) {
function e(t) {
function e() {
$.setHideWhenOffline(t);
}
t = f(t);
w.callOnFastInit(e, !0);
w.callOnRegistered(e, !0);
w.instrument("button.setHideWhenOffline");
}
d = t;
c = m.root;
h = c.$("livechat").$("ui").$("mobile$bool").getValue();
x.setColor = d.generateDeprecatedFunction("button.setColor", "$zopim.livechat.theme.setColor", function() {
w.instrument("button.setColor");
return b.setColor.apply(this, arguments);
});
x.setHideWhenOffline = d.generateLimitedFunction("button.setHideWhenOffline", 1, e);
};
x.hide = n;
x.show = o;
x.setOffsetBottom = x.setOffsetVertical = r;
x.setOffsetVerticalMobile = s;
x.setOffsetHorizontal = a;
x.setOffsetHorizontalMobile = _;
x.setPosition = l;
x.setPositionMobile = u;
t.exports = x;
e(x, "meshim_widget_controllers_liveChatAPI_Button");
return x;
}();
}).call(e, i(3));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
var n, o, r, s, a = i(20), _ = i(11), l = i(22), u = i(41), d = i(111), c = {};
c.init = function(t) {
function e(t, e) {
if (t && d.isHexColor(t)) {
e = e || "";
var i = {};
i[e] = t;
c.setColors(i);
} else window.console && window.console.log(d.getPrefix() + ': theme.setColor() Invalid color argument. Color must be in hexadecimal format ("#AABBCC")');
}
function i(t) {
function e() {
var e, i = {};
for (var n in t) if (t.hasOwnProperty(n)) {
e = n || "primary";
if (!u.livechat.getLimit() && "primary" != e) continue;
"badge" == e && (e = "banner");
e += "$string";
t[n] && a(t[n]) && d.isHexColor(t[n]) && (i[e] = t[n]);
}
d.saveAPISettings({
settings: {
theme: {
colors: i
}
}
});
o.$("livechat").$("settings").$("theme").update({
colors: i
});
}
if (t && "object" == typeof t) {
d.savePopoutAPICalls("theme.setColors", [ t ]);
d.callOnFastInit(e, !0);
d.callOnRegistered(e, !0);
d.instrument("theme.setColors");
} else window.console && window.console.log(d.getPrefix() + ": theme.setColors() Invalid argument. Argument must be an object containing the desired colors in hexadecimal format (#AABBCC)");
}
function h(t, e) {
function i(t) {
for (var e, i = [], n = 0, o = t.length; n < o; n++) {
e = t.charAt(n);
"'" !== e && '"' !== e || (i[0] === e ? i.shift() : i.unshift(e));
}
return 0 === i.length;
}
function n() {
s.getValue() ? d.saveAPISettings({
settings: {
theme: {
custom_fonts: {
config$json: t,
font_family$string: e
}
}
}
}) : a(d.getPrefix() + ": theme.setFontConfig() API requires your account to be on the Chat Professional/Enterprise or Advanced/Premium (Legacy) plan. Please upgrade your account.");
}
var r = o.$("connection.status$string").getValue(), a = window.console && window.console.log && window.console.log.bind && window.console.log.bind(window.console) || window.console && window.console.log || function() {};
if (r) a(d.getPrefix() + ": theme.setFontConfig() must be called immediately after embedding script"); else if (f(t) && "string" == typeof e) if (/[^A-Za-z0-9\'\"\-_, ]/.test(e)) a(d.getPrefix() + ": theme.setFontConfig() error: Invalid characters in font-family."); else if (i(e)) {
d.callOnFastInit(n);
d.callOnRegistered(n);
d.instrument("theme.setFontConfig");
} else a(d.getPrefix() + ": theme.setFontConfig() error: Malformed font-family string."); else a(d.getPrefix() + ": theme.setFontConfig() error: Invalid arguments.");
}
function f(t) {
function e(t) {
if (_(t)) return null;
if (!l(t) || 0 === t.length) return "is of invalid type";
for (var e = 0, i = t.length; e < i; e++) if ("string" != typeof t[e]) return "is of invalid type";
return null;
}
function i(t) {
return _(t) ? "is required" : null;
}
function n(t, e, i, n) {
for (var o = 'attribute "' + e + '" of provider "' + t + '" ', r = 0, s = n.length; r < s; r++) {
var a = n[r];
if ("string" == typeof a) {
if (void 0 !== i && typeof i !== a) return o + "is of invalid type";
} else {
var _ = a(i);
if (_) return o + _;
}
}
return null;
}
var o = {
custom: {
urls: [ i, e ]
},
fontdeck: {
id: [ i, "string" ]
},
monotype: {
projectId: [ i, "string" ]
},
google: {
families: [ i, e ],
text: [ "string" ]
},
typekit: {
id: [ i, "string" ],
api: [ "string" ]
}
}, r = [], s = window.console && window.console.log && window.console.log.bind && window.console.log.bind(window.console) || window.console && window.console.log || function() {};
for (var a in t) if (t.hasOwnProperty(a)) {
if (!o[a]) {
s(d.getPrefix() + ': theme.setFontConfig() error: unknown font provider "' + a + '"');
return !1;
}
var u, c = o[a], h = t[a];
for (u in c) if (c.hasOwnProperty(u)) {
var f = c[u], p = n(a, u, h[u], f);
if (p) {
s(d.getPrefix() + ": theme.setFontConfig() error: " + p);
return !1;
}
}
for (u in h) h.hasOwnProperty(u) && (c[u] || r.push(a + "." + u));
}
r.length > 0 && s(d.getPrefix() + ": theme.setFontConfig() warning: unused paths in web_font_config: " + r.join(", "));
return !0;
}
function p() {
function t() {
d.savePopoutAPICalls("theme.reload", []);
o.$("livechat").$("ui").update({
theme_reload$bool: !0
});
}
d.callOnFastInit(t);
d.callOnRegistered(t);
d.instrument("theme.reload");
}
function g(t) {
if (m(t)) {
d.instrument("theme.setProfileCardConfig");
$(t);
} else window.console && window.console.log(d.getPrefix() + ": setProfileCardConfig() Invalid argument. Please refer to the API documentation.");
}
function m(t) {
if (!t || "object" != typeof t) return !1;
for (var e in t) if (t.hasOwnProperty(e) && "boolean" != typeof t[e]) return !1;
return !0;
}
function $(t) {
var e = {};
"avatar" in t && (e.display_avatar$bool = t.avatar);
"title" in t && (e.display_title_name$bool = t.title);
"rating" in t && (e.display_rating$bool = t.rating);
b(e);
d.savePopoutAPICalls("theme.setProfileCardConfig", [ t ]);
}
function b(t) {
function e() {
d.saveAPISettings({
settings: {
theme: {
chat_window: {
profile_card: t
}
}
}
});
r.update(t);
}
d.callOnFastInit(e);
d.callOnRegistered(e);
d.instrument("theme.setProfileCardDisplay");
}
n = t;
o = u.root;
r = o.$("livechat").$("settings").$("theme").$("chat_window").$("profile_card");
s = o.$("livechat").$("gates").$("set_font_config$bool");
c.setTheme = n.generateLimitedFunction("theme.setTheme", 2, function(t) {
function e() {
d.saveAPISettings({
settings: {
theme: {
name$string: t.toString()
}
}
});
o.$("livechat").$("settings").$("theme").update({
name$string: t.toString()
});
}
d.savePopoutAPICalls("theme.setTheme", [ t.toString() ]);
d.callOnFastInit(e, !0);
d.callOnRegistered(e, !0);
d.instrument("theme.setTheme");
});
c.setColor = e;
c.setColors = n.generateLimitedFunction("theme.setColors", 1, i);
c.setFontConfig = h;
c.validateConfig = f;
c.reload = p;
c.setProfileCardConfig = g;
};
t.exports = c;
e(c, "meshim_widget_controllers_liveChatAPI_Theme");
return c;
}();
}).call(e, i(3));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t) {
function e() {
_.saveAPISettings({
settings: {
concierge: t
}
});
r.$("livechat").$("settings").$("concierge").update(t);
}
_.callOnFastInit(e, !0);
_.callOnRegistered(e, !0);
}
var o, r, s = i(20), a = i(41), _ = i(111), l = {};
l.init = function(t) {
function e(t) {
t = t || "";
if (s(t)) {
n({
display_name$string: t
});
_.savePopoutAPICalls("concierge.setName", [ t ]);
_.instrument("concierge.setName");
} else window.console && window.console.log(_.getPrefix() + ": concierge.setName() expects passed argument to be a string");
}
function i(t) {
t = t || "";
if (s(t)) {
n({
title$string: t
});
_.savePopoutAPICalls("concierge.setTitle", [ t ]);
_.instrument("concierge.setTitle");
} else window.console && window.console.log(_.getPrefix() + ": concierge.setTitle() expects passed argument to be a string");
}
o = t;
r = a.root;
l.setAvatar = o.generateLimitedFunction("concierge.setAvatar", 1, function(t) {
t = t || "";
if (s(t)) {
n({
avatar_path$string: t
});
_.savePopoutAPICalls("concierge.setAvatar", [ t ]);
_.instrument("concierge.setAvatar");
} else window.console && window.console.log(_.getPrefix() + ": concierge.setAvatar() expects passed argument to be a string");
});
l.setName = e;
l.setTitle = i;
};
t.exports = l;
e(l, "meshim_widget_controllers_liveChatAPI_Concierge");
return l;
}();
}).call(e, i(3));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n() {
a.enableCookieLaw();
_.instrument("cookieLaw.comply");
}
function o() {
a.setDefaultImplicitConsent();
_.instrument("cookieLaw.setDefaultImplicitConsent");
}
var r, s = i(41), a = i(203), _ = i(111), l = {};
l.init = function() {
r = s.root;
};
l.comply = n;
l.setDefaultImplicitConsent = o;
t.exports = l;
e(l, "meshim_widget_controllers_liveChatAPI_CookieLawAPI");
return l;
}();
}).call(e, i(3));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n() {
var t = Array.prototype.slice.call(arguments);
v.savePopoutAPICalls("departments.filter", t);
v.instrument("departments.filter");
if (arguments.length) {
b = t;
if (j) r(); else {
$.update(!0);
p.bindValue(r);
j = !0;
}
} else {
$.update(!1);
p.unbindValue(r);
j = !1;
}
}
function o(t) {
var e, i = {}, n = p.getValue();
if (!n) return i;
for (var o = t.length; o--; ) {
e = t[o];
"number" != typeof e && (e = c(e));
n[e] && (i[e] = !0);
}
return i;
}
function r() {
if (!w && b) {
var t = {}, e = p.getValue(), i = o(b);
if (e) {
for (var n in e) e.hasOwnProperty(n) && (t[n] = {
display$bool: n in i
});
w = !0;
g.update(t);
w = !1;
}
}
}
function s(t) {
function e() {
a(t);
}
v.callOnFastInit(e);
v.callOnRegistered(e, !0);
v.instrument("departments.setVisitorDepartment");
}
function a(t) {
"number" != typeof t && (t = c(t));
t && m.parentNode.write({
department_id$int: t
});
}
function _() {
v.callOnFastInit(l);
v.callOnRegistered(l, !0);
v.instrument("departments.clearVisitorDepartment");
}
function l() {
m.parentNode.write({
department_id$int: null
});
}
function u(t) {
"number" != typeof t && (t = c(t));
if (t) {
var e = p.$(t).getValue();
if (e) {
v.instrument("departments.getDepartment");
return {
id: t,
name: e.name$string,
status: e.status$string
};
}
}
}
function d() {
var t = p.getValue(), e = [];
for (var i in t) t.hasOwnProperty(i) && e.push({
id: parseInt(i, 10),
name: t[i].name$string,
status: t[i].status$string
});
v.instrument("departments.getAllDepartments");
return e;
}
function c(t) {
t = t && t.toString();
if (t) {
var e = p.getValue();
for (var i in e) if (e.hasOwnProperty(i) && e[i].name$string == t) return parseInt(i, 10);
}
}
function h(t) {
function e() {
v.saveAPISettings({
settings: {
forms: {
pre_chat_form: {
form: {
2: {
label$string: t
}
}
}
}
}
});
f.$("livechat").$("settings").$("forms").$("pre_chat_form").$("form").$("2").update({
label$string: t
});
}
if (t && "string" == typeof t) {
v.savePopoutAPICalls("departments.setLabel", [ t ]);
v.callOnFastInit(e, !0);
v.callOnRegistered(e, !0);
v.instrument("departments.setLabel");
} else window.console && window.console.log(v.getPrefix() + ": departments.setLabel() expects passed argument to be a non-empty string");
}
var f, p, g, m, $, b, w, x = i(41), v = i(111), y = {};
y.init = function() {
f = x.root;
p = f.$("livechat").$("departments");
g = f.$("livechat").$("ui").$("departments").$("options");
m = f.$("livechat").$("profile").$("department_id$int");
$ = f.$("livechat").$("ui").$("departments").$("filter_enabled$bool");
};
var j;
y.filter = n;
y.setVisitorDepartment = s;
y.clearVisitorDepartment = _;
y.getDepartment = u;
y.getAllDepartments = d;
y.setLabel = h;
t.exports = y;
e(y, "meshim_widget_controllers_liveChatAPI_Departments");
return y;
}();
}).call(e, i(3));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t) {
if (p(t)) {
v.instrument("window.onShow");
var e = v.getCallbackCaller(t);
x.on("API:window:show", e);
} else window.console && window.console.log(v.getPrefix() + ": window.onShow() expects a callback function to be provided");
}
function o(t) {
if (p(t)) {
v.instrument("window.onHide");
var e = v.getCallbackCaller(t);
x.on("API:window:hide", e);
} else window.console && window.console.log(v.getPrefix() + ": window.onHide() expects a callback function to be provided");
}
function r(t) {
function e() {
v.saveAPISettings({
settings: {
chat_window: {
title_bar: {
title$string: t
}
}
}
});
h.$("livechat").$("settings").$("chat_window").$("title_bar").update({
title$string: t
});
}
t = t && t.toString();
if (f(t)) {
v.savePopoutAPICalls("window.setTitle", [ t ]);
v.callOnFastInit(e);
v.callOnRegistered(e);
v.instrument("window.setTitle");
} else window.console && window.console.log(v.getPrefix() + ": window.setTitle expects passed argument to be a string");
}
function s() {
v.callOnRegistered(function() {
x.toggleWindow();
});
v.instrument("window.toggle");
}
function a() {
v.instrument("window.getDisplay");
return h.$("livechat").$("ui").$("chat_window").$("display$bool").getValue();
}
function _(t) {
function e() {
v.saveAPISettings({
settings: {
theme: {
chat_window: {
v_offset$int: t
}
}
}
});
h.$("livechat").$("settings").$("theme").$("chat_window").update({
v_offset$int: t
});
}
t = parseInt(t, 10);
if (isNaN(t) || t < 0) window.console && window.console.log(v.getPrefix() + ': window.setOffsetVertical() Invalid argument. Argument must be a number (20) or in pixels ("20px") and not smaller than 0'); else {
v.callOnFastInit(e, !0);
v.callOnRegistered(e, !0);
v.instrument("window.setOffsetVertical");
}
}
function l(t) {
function e() {
v.saveAPISettings({
settings: {
theme: {
chat_window: {
h_offset$int: t
}
}
}
});
h.$("livechat").$("settings").$("theme").$("chat_window").update({
h_offset$int: t
});
}
t = parseInt(t, 10);
if (isNaN(t) || t < 0) window.console && window.console.log(v.getPrefix() + ': window.setOffsetHorizontal() Invalid argument. Argument must be a number (20) or in pixels ("20px") and not smaller than 0'); else {
v.callOnFastInit(e, !0);
v.callOnRegistered(e, !0);
v.instrument("window.setOffsetHorizontal");
}
}
function u(t) {
function e() {
v.saveAPISettings({
settings: {
theme: {
chat_window: {
position$string: t
}
}
}
});
h.$("livechat").$("settings").$("theme").$("chat_window").update({
position$string: t
});
}
if (f(t)) {
v.callOnFastInit(e, !0);
v.callOnRegistered(e, !0);
v.instrument("window.setPosition");
} else window.console && window.console.log(v.getPrefix() + ": window.setPosition() expects passed argument to be a string");
}
function d() {
if (b.isAuthenticated()) {
window.console && window.console.log(v.getPrefix() + ": openPopout API ignored for authenticated visitors. Falling back to window.show()...");
y.show();
return !1;
}
if (p(w.isReady) && w.isReady() && m.requestPermission()) {
v.instrument("window.openPopout");
return w.openPopout(!0);
}
return !1;
}
var c, h, f = i(20), p = i(10), g = i(53), m = i(203), $ = i(41), b = i(52), w = i(110), x = i(113), v = i(111), y = {};
y.init = function(t) {
function e() {
function t() {
x.showWindow();
}
var e = g.once(t);
v.callOnFastInit(e);
v.callOnRegistered(e);
v.instrument("window.show");
}
function i() {
function t() {
x.hideWindow();
}
var e = g.once(t);
v.callOnFastInit(e);
v.callOnRegistered(e);
v.instrument("window.hide");
}
c = t;
h = $.root;
y.setColor = c.generateDeprecatedFunction("window.setColor", "$zopim.livechat.theme.setColor", function() {
v.instrument("window.setColor");
return c.theme.setColor.apply(this, arguments);
});
y.setSize = c.generateLimitedFunction("window.setSize", 1, function(t) {
function e() {
v.saveAPISettings({
settings: {
theme: {
chat_window: {
size$string: t
}
}
}
});
h.$("livechat").$("settings").$("theme").$("chat_window").update({
size$string: t
});
}
if (f(t) && t) {
v.callOnFastInit(e);
v.callOnRegistered(e);
v.instrument("window.setSize");
} else window.console && window.console.log(v.getPrefix() + ": window.setSize expects passed argument to be a non-empty string");
});
y.show = e;
y.hide = i;
};
y.onShow = n;
y.onHide = o;
y.setTitle = r;
y.toggle = s;
y.getDisplay = a;
y.setOffsetBottom = y.setOffsetVertical = _;
y.setOffsetHorizontal = l;
y.setPosition = u;
y.openPopout = d;
t.exports = y;
e(y, "meshim_widget_controllers_liveChatAPI_Window");
return y;
}();
}).call(e, i(3));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
var n = i(7), o = i(49), r = i(41), s = {};
s.init = function() {
function t(t) {
window.console && window.console.log(i ? o.stringify(t) : t);
}
var e = r.root, i = n.isIE || n.isNewIE;
s.connection = function() {
t(e.$("connection").getValue());
};
s.livechat = function() {
t(e.$("livechat").getValue());
};
s.all = function() {
t(e.getValue());
};
};
t.exports = s;
e(s, "meshim_widget_controllers_liveChatAPI_Debug");
return s;
}();
}).call(e, i(3));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t) {
function e() {
a.saveAPISettings({
settings: {
forms: {
pre_chat_form: {
message$string: t
}
}
}
});
o.$("livechat").$("settings").$("forms").$("pre_chat_form").update({
message$string: t
});
}
if (r(t)) {
a.savePopoutAPICalls("prechatForm.setGreetings", [ t ]);
a.callOnFastInit(e, !0);
a.callOnRegistered(e, !0);
a.instrument("prechatForm.setGreetings");
} else window.console && window.console.log(a.getPrefix() + ": prechatForm.setGreetings() expects passed argument to be a string");
}
var o, r = i(20), s = i(41), a = i(111), _ = {};
_.init = function() {
o = s.root;
};
_.setGreetings = n;
t.exports = _;
e(_, "meshim_widget_controllers_liveChatAPI_PreChatForm");
return _;
}();
}).call(e, i(3));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t) {
function e() {
if (r(t)) {
a.saveAPISettings({
settings: {
forms: {
offline_form: {
message$string: t
}
}
}
});
o.$("livechat").$("settings").$("forms").$("offline_form").update({
message$string: t
});
} else window.console && window.console.log(a.getPrefix() + ": offlineForm.setGreetings() expects passed argument to be a string");
}
function i() {
a.resetAPISettings({
settings: {
forms: {
offline_form: {
message$string: null
}
}
}
});
var t = a.getServerSettings("settings.forms.offline_form.message$string");
t && o.$("livechat").$("settings").$("forms").$("offline_form").update({
message$string: t
});
}
var n = null === t ? i : e;
a.savePopoutAPICalls("offlineForm.setGreetings", [ t ]);
a.callOnFastInit(n, !0);
a.callOnRegistered(n, !0);
a.instrument("offlineForm.setGreetings");
}
var o, r = i(20), s = i(41), a = i(111), _ = {};
_.init = function() {
o = s.root;
};
_.setGreetings = n;
t.exports = _;
e(_, "meshim_widget_controllers_liveChatAPI_OfflineForm");
return _;
}();
}).call(e, i(3));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t) {
function e() {
s.disableMobileNotifications(t);
}
if ("boolean" == typeof t) {
r.callOnFastInit(e);
r.callOnRegistered(e);
r.instrument("mobileNotifications.setDisabled");
} else window.console && window.console.log(r.getPrefix() + ": mobileNotifications.setDisabled() expects argument passed to be a boolean");
}
function o(t) {
function e() {
s.mobileNotificationsIgnoreChatButtonVisibility(t);
}
if ("boolean" == typeof t) {
r.callOnFastInit(e);
r.callOnRegistered(e);
r.instrument("mobileNotifications.setIgnoreChatButtonVisibility");
} else window.console && window.console.log(r.getPrefix() + ": mobileNotifications.setIgnoreChatButtonVisibility() expects argument passed to be a boolean");
}
var r = i(111), s = i(113), a = {};
a.setDisabled = n;
a.setIgnoreChatButtonVisibility = o;
t.exports = a;
e(a, "meshim_widget_controllers_liveChatAPI_MobileNotifications");
return a;
}();
}).call(e, i(3));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n() {
s = m.root.$("livechat").$("profile");
a = s.$("display_name$string");
l = s.$("email$string");
d = s.$("auth").$("type$string");
h = s.$("logged_in$bool");
a.on("value", function(t) {
_ = t;
o();
});
l.on("value", function(t) {
u = t;
o();
});
d.on("value", function(t) {
c = t;
o();
});
f = m.root.$("livechat").$("settings");
p = f.$("login").$("allowed_types");
g = f.$("login").$("allowed_types_count$int");
p.on("value", function() {
var t = p.getValue(), e = 0;
for (var i in t) if (t.hasOwnProperty(i)) {
if ("email$bool" == i) continue;
t[i] && e++;
}
e != g.getValue() && g.update(e);
});
}
function o() {
h.update(r());
}
function r() {
return !!c || (!(!u || !(u + "").trim()) || (!(!_ || !(_ + "").trim() || $.isDefaultName(_)) || void 0));
}
var s, a, _, l, u, d, c, h, f, p, g, m = i(41), $ = i(51), b = {
init: n
};
t.exports = b;
e(b, "meshim_widget_controllers_ProfileListener");
return b;
}();
}).call(e, i(3));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t) {
s = t.$("livechat").$("profile");
a.document.on("mousemove", o);
a.window.on("click", o);
a.window.on("scroll", o);
a.window.on("keypress", o);
r();
}
function o() {
l++;
}
function r() {
l && s.write({
active$int: +new Date()
});
l = 0;
window.setTimeout(r, u);
}
var s, a = i(6), _ = {
init: n
}, l = 1, u = 2e4;
t.exports = _;
e(_, "meshim_widget_controllers_Tracker");
return _;
}();
}).call(e, i(3));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n() {
var t = c.root;
d = t.$("connection").$("status$string");
s = t.$("livechat");
a = s.$("agents");
_ = s.$("channel").$("chatting$bool");
l = s.$("account").$("status$string");
u = s.$("ui").$("mockup$bool");
a.bindKeys(r);
}
function o() {
a.unbindKeys(r);
s = a = _ = null;
l = u = d = null;
}
function r() {
if (!u.getValue() && "reattached" === d.getValue()) {
var t = l.getValue(), e = a.getKeys().length, i = _.getValue();
i && !e && "offline" == t && c.livechat.endChat();
}
}
var s, a, _, l, u, d, c = i(41), h = {
init: n,
reset: o
};
t.exports = h;
e(h, "meshim_widget_controllers_OfflineAndNoAgentEndChat");
return h;
}();
}).call(e, i(3));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n(t) {
"--" !== t && t || (t = _.guess());
return a.zendeskToZopim(t);
}
var o = i(23), r = i(41), s = i(29), a = i(375), _ = i(376), l = {};
l.init = function() {
var t, e = r.root.$("livechat").$("ui").$("mockup$bool"), i = r.root.$("livechat").$("ui").$("popout$bool"), a = r.root.$("livechat").$("ui").$("lang_dir$string"), _ = r.root.$("livechat").$("settings").$("language").$("language$string");
if (!e.getValue()) if (i.getValue()) {
t = s().get("lang");
t = n(t);
_.update(t);
o && o.update && o.update(t);
o && o.rtl && a.update(o.rtl() ? "rtl" : "ltr");
} else _.bindValue(function(t) {
if ("--" !== t && t) {
t = n(t);
o && o.update && o.update(t);
o && o.rtl && a.update(o.rtl() ? "rtl" : "ltr");
} else {
t = n(t);
_.update(t);
}
});
};
t.exports = l;
e(l, "meshim_widget_controllers_LanguageController");
return l;
}();
}).call(e, i(3));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function i(t) {
"string" != typeof t && (t = "");
return t.replace(/^[A-Za-z]{4}$/, function(t) {
return t.slice(0, 2).toLowerCase() + "_" + t.slice(2).toUpperCase();
});
}
var n = {
fil: "tl",
cz: "cs",
no: "nb"
}, o = {};
o.zendeskToZopim = function(t) {
var e = n[t];
return e ? e : i(t);
};
t.exports = o;
e(o, "meshim_common_LocaleMapper");
return o;
}();
}).call(e, i(3));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function i(t, e) {
var i = e.match(t);
return i ? i.length : 0;
}
function n(t, e, n, o) {
return Math.pow(i(t, e) / n, 1 / o);
}
function o(t) {
var e, i = 1 - t[0];
for (e = 1; e < t.length; e++) i *= 1 - t[e];
return 1 - i;
}
function r(t, e, r) {
r || (r = i(/ /g, e));
for (var s, a, _, u, d = e.length, c = [], h = 0; h < l[t].length; h += 2) {
s = l[t][h];
a = l[t][h + 1];
_ = "\\\\b" == s.toString().substr(1, 2) ? r : d;
u = n(s, e, _, a);
c.push(u);
}
"en" == t && c.push(.6 / e.length);
return o(c);
}
function s(t, e) {
var n = document.body.getAttribute("lang") || document.documentElement.getAttribute("lang");
if (n) return n;
t || (t = _);
e || (e = document.body.innerHTML.replace(/\s+/g, " ").replace(/<script[^>]*?>.*?<\/script>/gi, " ").replace(/<style[^>]*?>.*?<\/style>/gi, " ").replace(/<!--.*?-->/g, " ").replace(/<\/?[^>]+?>/g, " ").replace(/[-_a-z0-9.@]+[.@][-_a-z0-9.@]+/gi, "").replace(/[\s\d!'#$%&'()*+,-.\/:;<=>?@^_{|}~\[\]\/]+/g, " "));
e = e.replace(/\s+/g, " ");
var o, s, a = i(/ +/g, e), l = [];
for (o = 0; o < t.length; o++) l.push([ t[o], r(t[o], e, a) ]);
l.sort(function(t, e) {
return e[1] - t[1];
});
s = l[0][0];
s.scores = l;
window.__$z_results = a + " " + e.length + " " + e.length / a + "\n" + l.join("\n");
window.__$z_innerText = e;
return s;
}
var a = {
guess: s
}, _ = [], l = {
en: [ /\b(up|me|submit|offers?|about|rights?|more|contact|all|downloads?|how|search|to|do|i[nst]?|your?|that|was|one?|are|with|[bw]e|have|this|f?or|had|by|[hn]ot?|[bo]ut|so|some|what|can|[tw]here|why|other|over|die|ten)\b/gi, 4, /\b(inn|set|end|about|pro|the|of|from|and|a|as|at)\b/gi, 6 ],
cs: [ /[\u00e1\u010d\u010f\u00e9\u011b\u00ed\u0148\u00f3\u0159\u0161\u0165\u00fa\u016f\u00fd\u017e]/gi, 5, /\b(by|do|to|[aikosvz])\b/gi, 3, /\b(na|za|se|je|\u017ee|ve|jako|jsem|pro|tak|po|u\u017e|jsou|byl)\b/gi, 6 ],
de: [ /[\u00df]/g, 10, /[\u00e4\u00f6\u00fc\u00c4\u00d6\u00dc]/g, 7, /\b(de[mrs]|vo[nm]|zu[mr]?|da[s\u00df]?|eine[mnrs]?|a[lu]s|wir|[sw]ie|n[ao]ch|vor[ms]?|(\u00fcb|od|ab)er|und|im|mit|sich|auf|f\u00fcr|nicht|auch|es|bei|nur|bis|mehr|durch)\b/gi, 6 ],
es: [ /[\u00f1]/g, 10, /[\xE1\xE9\xED\xF3\xFA]/gi, 6, /\b(que|nuestro|ingresar|inicio|qu[e\u00e9]|[dt]e|ser?|[ms]i|l?a|e[lns]|y|tu|los?|una?|por|con|para|est(\u00e1|ar))\b/gi, 6 ],
fr: [ /[\u0153]/gi, 15, /[\u00e0\u00e2\u00e7\u00e9\u00e8\u00ea\u00eb\u00ee\u00ef\u00f4\u00fb\u00f9\u00fc\u00ff]/gi, 7, /\b(son)\b/gi, 4, /\b(en)\b/gi, 5, /\b([ado]u|aux?|[do]u|la|[cdls]es|es?t|une?|ne|qu[ei]|sur|dans|pa[rs]|il|sont|avec|voir)\b/gi, 6 ],
hr: [ /[\u010d\u0107\u0111\u0161\u017e]/gi, 10, /d\u017e|lj|nj/gi, 3, /\b(ali|ja|je|mene|na|ne|od|ovo|se|sve|ti|u|za|znati)\b/gi, 6 ],
ms: [ /\b(and)\b/gi, 4, /\b((se)?(biji|buah|orang)|ada|anda|atau|boleh|bukan|dalam|dan|dari|di|ini|kami|ke|lagi|sila|tidak|tinggi|telah|untuk)\b/gi, 6 ],
da: [ /[\u00c6\u00e6\u00d8\u00f8\u00c5\u00e5]/g, 10, /\b(de)\b/gi, 5, /\b(ind|l\u00e6s|nyheder|[vt]il|s?om|og|[mv]ed|kan|har|var|tager|af|d?et|de[tn]{2}e|skal|den|set|noget|nogle|mange|hadde|eller|efter|end|blive|er|sekund|viser|ud|(a|vi|sku)lle)\b/gi, 6 ],
nb: [ /[\u00c6\u00e6\u00d8\u00f8\u00c5\u00e5]/g, 10, /\b(de)\b/gi, 5, /\b(passord|nyheter|inn|[vt]il|s?om|og|[mv]ed|kan|[htv]ar|av|d?et|de[tn]{2}e|skal|se(g|tt)|noen?|mange|hadde|e[lt]{2}er|enn|blir?|ble|andre|viser|ut|(a|vi|sku)lle)\b/gi, 6 ],
nl: [ /\b(in|die)\b/gi, 4, /\b(de|en)\b/gi, 5, /\b(het|dat|van|ik|te|een|hij|niet|zijn)\b/gi, 6 ],
pt: [ /[\u00e1\u00e2\u00e3\u00e0\u00e7\u00e9\u00ea\u00ed\u00f3\u00f4\u00f5\u00fa]/gi, 7, /\b(gr\u00e1fico|ao|como|das?|de|dos|ele|em?|mai?s|na|n\u00e3o|os?|para|por|que|se|uma?)\b/gi, 6 ],
sk: [ /\u00e1\u00e4\u010d\u010f\u00e9\u00ed\u013e\u013a\u0148\u00f3\u00f4\u0155\u0161\u0165\u00fa\u00fd\u017e/gi, 10, /dz|d\u017e/gi, 5, /\b(ten|to|do|so)\b/gi, 4, /\b(ja|na|za|c\u030co|t\u00e1|po|vo|zo|n\u00e1[s\u030cs])\b/gi, 6 ],
tr: [ /[\u00c7\u011e\u0130\u00d6\u015e\u00dc\u00e7\u011f\u0131\u00f6\u015f\u00fc]/g, 7, /\b(son)\b/gi, 4, /\b(formu|bir|ve|ne|bu|i\u00e7in|o|b?en|\u00e7ok|(al|\u00e7\u0131k|ol|yap)mak|(de|gel|git|g\u00f6r|iste|ver)mek|gibi|daha|kendi|ile|ama|sonra|kadar|yer|insan|de\u011fil|y\u0131l|g\u00fcn|biz)\b/gi, 6 ],
vi: [ /[\u00e0\u1ea3\u00e3\u00e1\u1ea1\u0103\u1eb1\u1eb3\u1eb5\u1eaf\u1eb7\u00e2\u1ea7\u1ea9\u1eab\u1ea5\u1ead\u0111\u00e8\u1ebb\u1ebd\u00e9\u1eb9\u00ea\u1ec1\u1ec3\u1ec5\u1ebf\u1ec7\u00ec\u1ec9\u0129\u00ed\u1ecb\u00f2\u1ecf\u00f5\u00f3\u1ecd\u00f4\u1ed3\u1ed5\u1ed7\u1ed1\u1ed9\u01a1\u1edd\u1edf\u1ee1\u1edb\u1ee3\u00f9\u1ee7\u0169\u00fa\u1ee5\u01b0\u1eeb\u1eed\u1eef\u1ee9\u1ef1\u1ef3\u1ef7\u1ef9\u00fd\u1ef5]/gi, 8, /\b(v\u00e0|c\u00e1c|c\u1ee7a|c\u00f3|\u0111\u0103ng|\u0111\u00e2y|ho\u1eb7c|kh\u1ea9u|k\u00fd|m\u1ed9t|ng\u00e0y|l\u00e0|trong|cho)\b/gi, 6 ],
ja: [ /[\u3041-\u30ff]/g, 10 ],
ko: [ /[\uAC00-\uD7A3\u1100-\u11FF\u3131-\u318E\uFFA1-\uFFDC]/g, 10 ],
th: [ /[\u0E00-\u0E7F]/g, 10 ],
zh_CN: [ /[\u4e00-\u9fb4]/g, 1, /[\u7684\u662f\u8fd9\u6709\u5728\u4e0d\u4e86\u6765\u4e2a\u5230\u4e3a\u548c\u9053\u4e5f\u65f6\u5f97\u5c31\u90a3\u8981\u4ee5\u7740\u53bb\u4e4b\u8fc7\u5bb6\u5bf9\u53ef\u91cc\u540e\u4e48\u591a\u800c\u80fd\u90fd\u7136\u6ca1\u8d77\u8fd8]/g, 7 ],
ru: [ /[\u0410-\u042f\u0430-\u044f\u0401\u0451]/g, 3 ],
ar: [ /[\u0600-\u06FF\u0750-\u077F\uFB50-\uFDFF\uFE70-\uFEFF]/g, 1 ]
};
for (var u in l) l.hasOwnProperty(u) && _.push(u);
t.exports = a;
e(a, "jx_language_Detect");
return a;
}();
}).call(e, i(3));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n() {
u = y.root;
d = u.$("livechat").$("gates").$("premium_support$bool");
h = u.$("tmp").$("package_name$string");
p = u.$("livechat").$("ui").$("chat_window").$("offline_form");
g = u.$("livechat").$("ui").$("mockup$bool");
if (!g.getValue()) {
m = u.$("livechat").$("settings").$("forms").$("offline_form");
$ = u.$("tmp").$("api_settings").$("settings").$("forms").$("offline_form").$("message$string");
b = u.$("tmp").$("server_settings").$("settings").$("forms").$("offline_form").$("message$string");
h.update(window.sessionStorage ? window.sessionStorage.getItem("$zchat_package_name") : "");
h.bindValue(o);
d.bindValue(r);
}
}
function o() {
f = h.getValue();
s();
}
function r() {
c = d.getValue();
c ? s() : _();
}
function s() {
if (c) {
var t = S.indexOf(f) > -1;
if (t) {
_();
l(null);
} else {
var e, i = new Date(j.getServerTime()), n = (i.getUTCDay() + 1) % 7 * v.DAY + i.getUTCHours() * v.HOUR + i.getUTCMinutes() * v.MINUTE + i.getUTCSeconds() * v.SECOND, o = n < A;
l(o ? "offline" : null);
e = (o ? 2 : 7) * v.DAY - n;
a(e + v.SECOND);
}
}
}
function a(t) {
_();
w = window.setTimeout(s, t);
}
function _() {
w && (w = window.clearTimeout(w));
}
function l(t) {
C.setStatus(t);
var e = $.getValue() || ("offline" === t ? k.toString() : b.getValue());
m.update({
message$string: e
});
p.update({
upgrade_link_display$bool: "offline" === t
});
}
var u, d, c, h, f, p, g, m, $, b, w, x = i(23), v = i(73), y = i(41), j = i(62), C = i(358), S = [ "premium", "enterprise", "master" ], A = 2 * v.DAY, k = x(3), I = {
init: n
};
t.exports = I;
e(I, "meshim_widget_controllers_PremiumSupportController");
return I;
}();
}).call(e, i(3));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function n() {
if (!u) {
s = c.root.$("livechat");
a = s.$("settings").$("theme").$("chat_window").$("profile_card");
_ = s.$("ui").$("chat_window").$("display_profile_card$bool");
l = s.$("settings").$("rating").$("enabled$bool");
a.bindValue(o);
l.bindValue(o);
u = !0;
}
}
function o() {
var t = d(a.getValue("display_avatar$bool")), e = d(a.getValue("display_title_name$bool")), i = d(a.getValue("display_rating$bool")) && d(l.getValue()), n = t || i || e;
_.update(n);
}
function r() {
u = !1;
}
var s, a, _, l, u, d = i(17), c = i(41), h = {
init: n,
resetState: r
};
t.exports = h;
e(h, "meshim_widget_controllers_ChatPanelProfileCardController");
return h;
}();
}).call(e, i(3));
} ]);
